import{j as e}from"./vendor-features.1762534489514.D0TZDg0t.js";import{r as m}from"./vendor-core.1762534489514.Bgda-OdR.js";import{L as p,B as F,I as h,u as A,c as ee,T as se,a as te,b as M,d as O}from"./trading-core.1762534489514.CwUhJ58n.js";import{T as z,m as _,Z as re,n as ae,o as B,p as E,k as V,q as ie,D as oe,r as ne}from"./trading-orders-wrapper.1762534489514.DlqMIk8U.js";import{E as ce}from"./vendor-ui.1762534489514.Dvj-Iep5.js";const we=()=>{const[s,a]=m.useState("trailing_stop"),[l,x]=m.useState(""),[i,u]=m.useState(""),d=[{id:"trailing_stop",name:"Trailing Stop",icon:z,description:"Auto-adjusting stop loss",color:"text-chart-4"},{id:"iceberg",name:"Iceberg Order",icon:_,description:"Hide large orders",color:"text-chart-2"},{id:"twap",name:"TWAP",icon:re,description:"Time-weighted average",color:"text-chart-3"},{id:"oco",name:"OCO",icon:ae,description:"One-cancels-other",color:"text-primary"},{id:"bracket",name:"Bracket Order",icon:B,description:"TP + SL combo",color:"text-success"}],n=()=>{if(!l||!i){A.error("Please fill in all fields");return}const o=d.find(f=>f.id===s);A.success("Advanced order placed!",{description:`${o==null?void 0:o.name}: ${l} @ $${i}`})},t=d.find(o=>o.id===s);return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(_,{className:"w-4 h-4 text-chart-4"}),e.jsx("h3",{className:"text-sm font-semibold text-foreground uppercase tracking-wide",children:"Advanced Orders"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{className:"text-xs text-muted-foreground",children:"Order Type"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:d.map(o=>e.jsxs(F,{variant:s===o.id?"default":"outline",size:"sm",onClick:()=>a(o.id),className:`h-auto py-3 flex-col gap-1 ${s===o.id?"ring-2 ring-primary":""}`,children:[e.jsx(o.icon,{className:`w-4 h-4 ${s===o.id?"text-primary-foreground":o.color}`}),e.jsx("span",{className:"text-[10px] font-medium",children:o.name})]},o.id))})]}),t&&e.jsxs("div",{className:`p-3 rounded-lg border bg-gradient-to-r from-${t.color.replace("text-","")}/10 to-transparent border-${t.color.replace("text-","")}/20`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(t.icon,{className:`w-3 h-3 ${t.color}`}),e.jsx("span",{className:`text-xs font-semibold ${t.color}`,children:t.name})]}),e.jsx("div",{className:"text-[10px] text-muted-foreground",children:t.description})]}),e.jsxs("div",{className:"space-y-3 p-3 rounded-lg bg-muted/20 border border-border",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{className:"text-xs text-muted-foreground",children:"Quantity"}),e.jsx(h,{type:"number",placeholder:"0.00",value:l,onChange:o=>x(o.target.value),className:"h-9"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{className:"text-xs text-muted-foreground",children:"Price"}),e.jsx(h,{type:"number",placeholder:"0.00",value:i,onChange:o=>u(o.target.value),className:"h-9"})]}),s==="trailing_stop"&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{className:"text-xs text-muted-foreground",children:"Trailing %"}),e.jsx(h,{type:"number",placeholder:"2.5",className:"h-9"})]}),s==="iceberg"&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{className:"text-xs text-muted-foreground",children:"Visible Quantity"}),e.jsx(h,{type:"number",placeholder:"10%",className:"h-9"})]}),s==="twap"&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{className:"text-xs text-muted-foreground",children:"Duration (minutes)"}),e.jsx(h,{type:"number",placeholder:"30",className:"h-9"})]}),s==="oco"&&e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{className:"text-xs text-muted-foreground",children:"Limit Price"}),e.jsx(h,{type:"number",placeholder:"0.00",className:"h-9"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{className:"text-xs text-muted-foreground",children:"Stop Price"}),e.jsx(h,{type:"number",placeholder:"0.00",className:"h-9"})]})]}),s==="bracket"&&e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{className:"text-xs text-muted-foreground",children:"Take Profit"}),e.jsx(h,{type:"number",placeholder:"0.00",className:"h-9"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{className:"text-xs text-muted-foreground",children:"Stop Loss"}),e.jsx(h,{type:"number",placeholder:"0.00",className:"h-9"})]})]}),e.jsxs(F,{onClick:n,className:"w-full h-10 font-semibold",children:["Place ",t==null?void 0:t.name]})]}),e.jsx("div",{className:"p-3 rounded-lg bg-muted/20 border border-border text-xs text-muted-foreground",children:"ðŸ’¡ Advanced orders help manage large positions with minimal market impact"})]})};function le(s,a=[]){let l=[];function x(u,d){const n=m.createContext(d);n.displayName=u+"Context";const t=l.length;l=[...l,d];const o=r=>{var b;const{scope:c,children:j,...g}=r,v=((b=c==null?void 0:c[s])==null?void 0:b[t])||n,N=m.useMemo(()=>g,Object.values(g));return e.jsx(v.Provider,{value:N,children:j})};o.displayName=u+"Provider";function f(r,c){var v;const j=((v=c==null?void 0:c[s])==null?void 0:v[t])||n,g=m.useContext(j);if(g)return g;if(d!==void 0)return d;throw new Error(`\`${r}\` must be used within \`${u}\``)}return[o,f]}const i=()=>{const u=l.map(d=>m.createContext(d));return function(n){const t=(n==null?void 0:n[s])||u;return m.useMemo(()=>({[`__scope${s}`]:{...n,[s]:t}}),[n,t])}};return i.scopeName=s,[x,de(i,...a)]}function de(...s){const a=s[0];if(s.length===1)return a;const l=()=>{const x=s.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(u){const d=x.reduce((n,{useScope:t,scopeName:o})=>{const r=t(u)[`__scope${o}`];return{...n,...r}},{});return m.useMemo(()=>({[`__scope${a.scopeName}`]:d}),[d])}};return l.scopeName=a.scopeName,l}var xe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],G=xe.reduce((s,a)=>{const l=ce(`Primitive.${a}`),x=m.forwardRef((i,u)=>{const{asChild:d,...n}=i,t=d?l:a;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(t,{...n,ref:u})});return x.displayName=`Primitive.${a}`,{...s,[a]:x}},{}),$="Progress",C=100,[me]=le($),[ue,pe]=me($),H=m.forwardRef((s,a)=>{const{__scopeProgress:l,value:x=null,max:i,getValueLabel:u=he,...d}=s;(i||i===0)&&!I(i)&&console.error(ge(`${i}`,"Progress"));const n=I(i)?i:C;x!==null&&!D(x,n)&&console.error(ve(`${x}`,"Progress"));const t=D(x,n)?x:null,o=P(t)?u(t,n):void 0;return e.jsx(ue,{scope:l,value:t,max:n,children:e.jsx(G.div,{"aria-valuemax":n,"aria-valuemin":0,"aria-valuenow":P(t)?t:void 0,"aria-valuetext":o,role:"progressbar","data-state":K(t,n),"data-value":t??void 0,"data-max":n,...d,ref:a})})});H.displayName=$;var Q="ProgressIndicator",q=m.forwardRef((s,a)=>{const{__scopeProgress:l,...x}=s,i=pe(Q,l);return e.jsx(G.div,{"data-state":K(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...x,ref:a})});q.displayName=Q;function he(s,a){return`${Math.round(s/a*100)}%`}function K(s,a){return s==null?"indeterminate":s===a?"complete":"loading"}function P(s){return typeof s=="number"}function I(s){return P(s)&&!isNaN(s)&&s>0}function D(s,a){return P(s)&&!isNaN(s)&&s<=a&&s>=0}function ge(s,a){return`Invalid prop \`max\` of value \`${s}\` supplied to \`${a}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${C}\`.`}function ve(s,a){return`Invalid prop \`value\` of value \`${s}\` supplied to \`${a}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${C} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var U=H,je=q;const X=m.forwardRef(({className:s,value:a,...l},x)=>e.jsx(U,{ref:x,className:ee("relative h-4 w-full overflow-hidden rounded-full bg-secondary",s),...l,children:e.jsx(je,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(a||0)}%)`}})}));X.displayName=U.displayName;const Se=()=>{const[s,a]=m.useState(""),[l,x]=m.useState(""),[i,u]=m.useState(""),[d,n]=m.useState(""),[t,o]=m.useState("2"),r=(()=>{const c=parseFloat(s),j=parseFloat(l),g=parseFloat(i),v=parseFloat(d),N=parseFloat(t);if(!c||!j||!g||!v||!N)return null;const b=v*N/100,w=Math.abs(c-j),S=Math.abs(g-c),y=S/w,k=b/w,Z=k*S,W=b,R=.6,J=(y*R-(1-R))/y*100,T=k*c,L=T/v,Y=Math.min(100,N*10+L*5+(y<2?20:0));return{riskReward:y.toFixed(2),positionSize:k.toFixed(4),potentialProfit:Z.toFixed(2),potentialLoss:W.toFixed(2),breakeven:c.toFixed(2),kellyPercent:Math.max(0,J).toFixed(2),positionValue:T.toFixed(2),leverage:L.toFixed(2),riskScore:Math.round(Y),stopLossPercent:(w/c*100).toFixed(2),targetPercent:(S/c*100).toFixed(2)}})();return e.jsxs(se,{defaultValue:"basic",className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(B,{className:"w-4 h-4 text-chart-4"}),e.jsx("h3",{className:"text-sm font-semibold text-foreground uppercase tracking-wide",children:"Advanced Risk Calculator"})]}),e.jsx(E,{className:"w-4 h-4 text-chart-4"})]}),e.jsxs(te,{className:"grid w-full grid-cols-2",children:[e.jsx(M,{value:"basic",children:"Basic"}),e.jsx(M,{value:"advanced",children:"Advanced"})]}),e.jsxs(O,{value:"basic",className:"space-y-3",children:[e.jsxs("div",{className:"space-y-3 p-4 rounded-lg bg-gradient-to-br from-muted/30 to-transparent border border-border",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{className:"text-xs text-muted-foreground",children:"Entry Price"}),e.jsx(h,{type:"number",placeholder:"50000",value:s,onChange:c=>a(c.target.value),className:"h-9"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{className:"text-xs text-muted-foreground",children:"Stop Loss"}),e.jsx(h,{type:"number",placeholder:"48000",value:l,onChange:c=>x(c.target.value),className:"h-9"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{className:"text-xs text-muted-foreground",children:"Target"}),e.jsx(h,{type:"number",placeholder:"55000",value:i,onChange:c=>u(c.target.value),className:"h-9"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{className:"text-xs text-muted-foreground",children:"Capital ($)"}),e.jsx(h,{type:"number",placeholder:"10000",value:d,onChange:c=>n(c.target.value),className:"h-9"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{className:"text-xs text-muted-foreground",children:"Risk (%)"}),e.jsx(h,{type:"number",placeholder:"2",value:t,onChange:c=>o(c.target.value),className:"h-9"})]})]})]}),r&&e.jsxs("div",{className:"space-y-2 animate-fade-in",children:[e.jsxs("div",{className:"p-3 rounded-lg bg-primary/10 border border-primary/20",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:"Risk/Reward Ratio"}),e.jsx(E,{className:"w-3 h-3 text-primary"})]}),e.jsxs("div",{className:"text-3xl font-bold text-primary",children:["1:",r.riskReward]}),e.jsx("div",{className:"text-[10px] text-muted-foreground mt-1",children:parseFloat(r.riskReward)>=2?"âœ“ Excellent ratio":parseFloat(r.riskReward)>=1.5?"âœ“ Good ratio":"âš  Poor ratio"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{className:"p-3 rounded-lg bg-success/10 border border-success/20",children:[e.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[e.jsx(z,{className:"w-3 h-3 text-success"}),e.jsx("span",{className:"text-[10px] text-muted-foreground uppercase",children:"Potential Profit"})]}),e.jsxs("div",{className:"text-lg font-bold text-success",children:["$",r.potentialProfit]}),e.jsxs("div",{className:"text-[10px] text-success mt-1",children:["+",r.targetPercent,"%"]})]}),e.jsxs("div",{className:"p-3 rounded-lg bg-destructive/10 border border-destructive/20",children:[e.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[e.jsx(V,{className:"w-3 h-3 text-destructive"}),e.jsx("span",{className:"text-[10px] text-muted-foreground uppercase",children:"Potential Loss"})]}),e.jsxs("div",{className:"text-lg font-bold text-destructive",children:["$",r.potentialLoss]}),e.jsxs("div",{className:"text-[10px] text-destructive mt-1",children:["-",r.stopLossPercent,"%"]})]})]}),e.jsxs("div",{className:"p-3 rounded-lg bg-muted/30 border border-border",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs mb-2",children:[e.jsx("span",{className:"text-muted-foreground",children:"Position Size"}),e.jsxs("span",{className:"text-foreground font-medium",children:[r.positionSize," units"]})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsx("span",{className:"text-muted-foreground",children:"Position Value"}),e.jsxs("span",{className:"text-foreground font-bold",children:["$",r.positionValue]})]})]})]})]}),e.jsxs(O,{value:"advanced",className:"space-y-3",children:[r&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"p-4 rounded-lg bg-gradient-to-br from-destructive/10 to-chart-4/10 border border-destructive/20",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(V,{className:"w-4 h-4 text-destructive"}),e.jsx("span",{className:"text-xs text-muted-foreground uppercase",children:"Risk Score"})]}),e.jsxs("span",{className:`text-sm font-bold ${r.riskScore<30?"text-success":r.riskScore<60?"text-chart-4":"text-destructive"}`,children:[r.riskScore,"/100"]})]}),e.jsx(X,{value:r.riskScore,className:"h-2 mb-2"}),e.jsx("div",{className:"text-[10px] text-muted-foreground",children:r.riskScore<30?"Low risk - Safe trade setup":r.riskScore<60?"Medium risk - Acceptable with caution":"High risk - Consider reducing position size"})]}),e.jsxs("div",{className:"p-4 rounded-lg bg-primary/10 border border-primary/20",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(ie,{className:"w-4 h-4 text-primary"}),e.jsx("span",{className:"text-sm font-semibold text-foreground",children:"Kelly Criterion"})]}),e.jsxs("div",{className:"text-2xl font-bold text-primary mb-1",children:[r.kellyPercent,"%"]}),e.jsx("div",{className:"text-[10px] text-muted-foreground",children:"Optimal position size based on risk/reward and win probability"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{className:"p-3 rounded-lg bg-muted/30 border border-border",children:[e.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[e.jsx(oe,{className:"w-3 h-3 text-chart-2"}),e.jsx("span",{className:"text-[10px] text-muted-foreground uppercase",children:"Leverage"})]}),e.jsxs("div",{className:"text-xl font-bold text-chart-2",children:[r.leverage,"x"]}),e.jsx("div",{className:"text-[10px] text-muted-foreground mt-1",children:parseFloat(r.leverage)<2?"Conservative":parseFloat(r.leverage)<5?"Moderate":"Aggressive"})]}),e.jsxs("div",{className:"p-3 rounded-lg bg-muted/30 border border-border",children:[e.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[e.jsx(ne,{className:"w-3 h-3 text-chart-3"}),e.jsx("span",{className:"text-[10px] text-muted-foreground uppercase",children:"Capital Risk"})]}),e.jsxs("div",{className:"text-xl font-bold text-chart-3",children:[t,"%"]}),e.jsxs("div",{className:"text-[10px] text-muted-foreground mt-1",children:["$",(parseFloat(d||"0")*parseFloat(t||"0")/100).toFixed(2)," at risk"]})]})]}),e.jsxs("div",{className:"p-3 rounded-lg bg-gradient-to-r from-success/10 to-primary/10 border border-success/20",children:[e.jsx("div",{className:"text-xs font-semibold text-foreground mb-2",children:"Recommendations"}),e.jsxs("div",{className:"space-y-1 text-[10px] text-muted-foreground",children:[e.jsxs("div",{children:["â€¢ Position Size: ",r.positionSize," units (~$",r.positionValue,")"]}),e.jsxs("div",{children:["â€¢ Stop Loss: ",r.stopLossPercent,"% from entry"]}),e.jsxs("div",{children:["â€¢ Take Profit: ",r.targetPercent,"% from entry"]}),e.jsxs("div",{children:["â€¢ Kelly Optimal: ",r.kellyPercent,"% of capital"]})]})]})]}),!r&&e.jsx("div",{className:"p-8 text-center text-sm text-muted-foreground",children:"Enter trade parameters to see advanced risk analysis"})]})]})};export{we as A,X as P,Se as R};
