var Gm=Object.defineProperty;var qd=n=>{throw TypeError(n)};var zm=(n,e,t)=>e in n?Gm(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var N=(n,e,t)=>zm(n,typeof e!="symbol"?e+"":e,t),Iu=(n,e,t)=>e.has(n)||qd("Cannot "+t);var b=(n,e,t)=>(Iu(n,e,"read from private field"),t?t.call(n):e.get(n)),O=(n,e,t)=>e.has(n)?qd("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),y=(n,e,t,r)=>(Iu(n,e,"write to private field"),r?r.call(n,t):e.set(n,t),t),F=(n,e,t)=>(Iu(n,e,"access private method"),t);var _o=(n,e,t,r)=>({set _(s){y(n,e,s,t)},get _(){return b(n,e,r)}});import{g as Hm,r as Dt}from"./vendor-core.1762522364773.DgXDOTlK.js";import{u as _m,a as jm}from"./vendor-features.1762522364773.0T65D8RV.js";const Vm="modulepreload",Km=function(n){return"/Kk/"+n},Zd={},ax=function(e,t,r){let s=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(t.map(c=>{if(c=Km(c),c in Zd)return;Zd[c]=!0;const u=c.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${f}`))return;const l=document.createElement("link");if(l.rel=u?"stylesheet":Vm,u||(l.as="script"),l.crossOrigin="",l.href=c,a&&l.setAttribute("nonce",a),document.head.appendChild(l),u)return new Promise((d,h)=>{l.addEventListener("load",d),l.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},Ef=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentBlockTimestamp",outputs:[{internalType:"uint256",name:"timestamp",type:"uint256"}],stateMutability:"view",type:"function"}],vf=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}],cx=[{inputs:[{name:"dns",type:"bytes"}],name:"DNSDecodingFailed",type:"error"},{inputs:[{name:"ens",type:"string"}],name:"DNSEncodingFailed",type:"error"},{inputs:[],name:"EmptyAddress",type:"error"},{inputs:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"HttpError",type:"error"},{inputs:[],name:"InvalidBatchGatewayResponse",type:"error"},{inputs:[{name:"errorData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{name:"name",type:"bytes"},{name:"resolver",type:"address"}],name:"ResolverNotContract",type:"error"},{inputs:[{name:"name",type:"bytes"}],name:"ResolverNotFound",type:"error"},{inputs:[{name:"primary",type:"string"},{name:"primaryAddress",type:"bytes"}],name:"ReverseAddressMismatch",type:"error"},{inputs:[{internalType:"bytes4",name:"selector",type:"bytes4"}],name:"UnsupportedResolverProfile",type:"error"}],ux=[...cx,{name:"resolveWithGateways",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],Qm=[...cx,{name:"reverseWithGateways",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"uint256",name:"coinType"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolver"},{type:"address",name:"reverseResolver"}]}],Yd=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],Xd=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}];function Hr(n,{includeName:e=!1}={}){if(n.type!=="function"&&n.type!=="event"&&n.type!=="error")throw new iy(n.type);return`${n.name}(${_l(n.inputs,{includeName:e})})`}function _l(n,{includeName:e=!1}={}){return n?n.map(t=>Jm(t,{includeName:e})).join(e?", ":","):""}function Jm(n,{includeName:e}){return n.type.startsWith("tuple")?`(${_l(n.components,{includeName:e})})${n.type.slice(5)}`:n.type+(e&&n.name?` ${n.name}`:"")}function In(n,{strict:e=!0}={}){return!n||typeof n!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(n):n.startsWith("0x")}function Ce(n){return In(n,{strict:!1})?Math.ceil((n.length-2)/2):n.length}const fx="2.38.6";let jo={getDocsUrl:({docsBaseUrl:n,docsPath:e="",docsSlug:t})=>e?`${n??"https://viem.sh"}${e}${t?`#${t}`:""}`:void 0,version:`viem@${fx}`},D=class Pf extends Error{constructor(e,t={}){var a;const r=(()=>{var c;return t.cause instanceof Pf?t.cause.details:(c=t.cause)!=null&&c.message?t.cause.message:t.details})(),s=t.cause instanceof Pf&&t.cause.docsPath||t.docsPath,i=(a=jo.getDocsUrl)==null?void 0:a.call(jo,{...t,docsPath:s}),o=[e||"An error occurred.","",...t.metaMessages?[...t.metaMessages,""]:[],...i?[`Docs: ${i}`]:[],...r?[`Details: ${r}`]:[],...jo.version?[`Version: ${jo.version}`]:[]].join(`
`);super(o,t.cause?{cause:t.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=s,this.metaMessages=t.metaMessages,this.name=t.name??this.name,this.shortMessage=e,this.version=fx}walk(e){return lx(this,e)}};function lx(n,e){return e!=null&&e(n)?n:n&&typeof n=="object"&&"cause"in n&&n.cause!==void 0?lx(n.cause,e):e?null:n}class Wm extends D{constructor({docsPath:e}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:e,name:"AbiConstructorNotFoundError"})}}class eh extends D{constructor({docsPath:e}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:e,name:"AbiConstructorParamsNotFoundError"})}}class qm extends D{constructor({data:e,params:t,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${_l(t,{includeName:!0})})`,`Data:   ${e} (${r} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e,this.params=t,this.size=r}}class K0 extends D{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class Zm extends D{constructor({expectedLength:e,givenLength:t,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${e}`,`Given length: ${t}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}class Ym extends D{constructor({expectedSize:e,value:t}){super(`Size of bytes "${t}" (bytes${Ce(t)}) does not match expected size (bytes${e}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class Xm extends D{constructor({expectedLength:e,givenLength:t}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${e}`,`Given length (values): ${t}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}class ey extends D{constructor(e,{docsPath:t}){super([`Arguments (\`args\`) were provided to "${e}", but "${e}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join(`
`),{docsPath:t,name:"AbiErrorInputsNotFoundError"})}}class th extends D{constructor(e,{docsPath:t}={}){super([`Error ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join(`
`),{docsPath:t,name:"AbiErrorNotFoundError"})}}class dx extends D{constructor(e,{docsPath:t}){super([`Encoded error signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:t,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=e}}class po extends D{constructor(e,{docsPath:t}={}){super([`Function ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:t,name:"AbiFunctionNotFoundError"})}}class hx extends D{constructor(e,{docsPath:t}){super([`Function "${e}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:t,name:"AbiFunctionOutputsNotFoundError"})}}class ty extends D{constructor(e,{docsPath:t}){super([`Encoded function signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:t,name:"AbiFunctionSignatureNotFoundError"})}}class ny extends D{constructor(e,t){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${e.type}\` in \`${Hr(e.abiItem)}\`, and`,`\`${t.type}\` in \`${Hr(t.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}class ry extends D{constructor(e,{docsPath:t}){super([`Type "${e}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:t,name:"InvalidAbiEncodingType"})}}class sy extends D{constructor(e,{docsPath:t}){super([`Type "${e}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:t,name:"InvalidAbiDecodingType"})}}class bx extends D{constructor(e){super([`Value "${e}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}}class iy extends D{constructor(e){super([`"${e}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}class ut extends D{constructor({address:e}){super(`Address "${e}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}}class xx extends D{constructor({offset:e,position:t,size:r}){super(`Slice ${t==="start"?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${r}).`,{name:"SliceOffsetOutOfBoundsError"})}}let px=class extends D{constructor({size:e,targetSize:t,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${t}).`,{name:"SizeExceedsPaddingSizeError"})}};class nh extends D{constructor({size:e,targetSize:t,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} is expected to be ${t} ${r} long, but is ${e} ${r} long.`,{name:"InvalidBytesLengthError"})}}function Uo(n,{dir:e,size:t=32}={}){return typeof n=="string"?Dr(n,{dir:e,size:t}):oy(n,{dir:e,size:t})}function Dr(n,{dir:e,size:t=32}={}){if(t===null)return n;const r=n.replace("0x","");if(r.length>t*2)throw new px({size:Math.ceil(r.length/2),targetSize:t,type:"hex"});return`0x${r[e==="right"?"padEnd":"padStart"](t*2,"0")}`}function oy(n,{dir:e,size:t=32}={}){if(t===null)return n;if(n.length>t)throw new px({size:n.length,targetSize:t,type:"bytes"});const r=new Uint8Array(t);for(let s=0;s<t;s++){const i=e==="right";r[i?s:t-s-1]=n[i?s:n.length-s-1]}return r}let gx=class extends D{constructor({max:e,min:t,signed:r,size:s,value:i}){super(`Number "${i}" is not in safe ${s?`${s*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${t} to ${e})`:`(above ${t})`}`,{name:"IntegerOutOfRangeError"})}};class ay extends D{constructor(e){super(`Bytes value "${e}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}}class cy extends D{constructor({givenSize:e,maxSize:t}){super(`Size cannot exceed ${t} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}}function Cn(n,{dir:e="left"}={}){let t=typeof n=="string"?n.replace("0x",""):n,r=0;for(let s=0;s<t.length-1&&t[e==="left"?s:t.length-s-1].toString()==="0";s++)r++;return t=e==="left"?t.slice(r):t.slice(0,t.length-r),typeof n=="string"?(t.length===1&&e==="right"&&(t=`${t}0`),`0x${t.length%2===1?`0${t}`:t}`):t}function rn(n,{size:e}){if(Ce(n)>e)throw new cy({givenSize:Ce(n),maxSize:e})}function Yt(n,e={}){const{signed:t}=e;e.size&&rn(n,{size:e.size});const r=BigInt(n);if(!t)return r;const s=(n.length-2)/2,i=(1n<<BigInt(s)*8n-1n)-1n;return r<=i?r:r-BigInt(`0x${"f".padStart(s*2,"f")}`)-1n}function _r(n,e={}){return Number(Yt(n,e))}function mx(n,e={}){let t=Nn(n);return e.size&&(rn(t,{size:e.size}),t=Cn(t,{dir:"right"})),new TextDecoder().decode(t)}const uy=Array.from({length:256},(n,e)=>e.toString(16).padStart(2,"0"));function tn(n,e={}){return typeof n=="number"||typeof n=="bigint"?Q(n,e):typeof n=="string"?Q0(n,e):typeof n=="boolean"?yx(n,e):ke(n,e)}function yx(n,e={}){const t=`0x${Number(n)}`;return typeof e.size=="number"?(rn(t,{size:e.size}),Uo(t,{size:e.size})):t}function ke(n,e={}){let t="";for(let s=0;s<n.length;s++)t+=uy[n[s]];const r=`0x${t}`;return typeof e.size=="number"?(rn(r,{size:e.size}),Uo(r,{dir:"right",size:e.size})):r}function Q(n,e={}){const{signed:t,size:r}=e,s=BigInt(n);let i;r?t?i=(1n<<BigInt(r)*8n-1n)-1n:i=2n**(BigInt(r)*8n)-1n:typeof n=="number"&&(i=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof i=="bigint"&&t?-i-1n:0;if(i&&s>i||s<o){const c=typeof n=="bigint"?"n":"";throw new gx({max:i?`${i}${c}`:void 0,min:`${o}${c}`,signed:t,size:r,value:`${n}${c}`})}const a=`0x${(t&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?Uo(a,{size:r}):a}const fy=new TextEncoder;function Q0(n,e={}){const t=fy.encode(n);return ke(t,e)}const ly=new TextEncoder;function J0(n,e={}){return typeof n=="number"||typeof n=="bigint"?hy(n,e):typeof n=="boolean"?dy(n,e):In(n)?Nn(n,e):Fs(n,e)}function dy(n,e={}){const t=new Uint8Array(1);return t[0]=Number(n),typeof e.size=="number"?(rn(t,{size:e.size}),Uo(t,{size:e.size})):t}const On={zero:48,nine:57,A:65,F:70,a:97,f:102};function rh(n){if(n>=On.zero&&n<=On.nine)return n-On.zero;if(n>=On.A&&n<=On.F)return n-(On.A-10);if(n>=On.a&&n<=On.f)return n-(On.a-10)}function Nn(n,e={}){let t=n;e.size&&(rn(t,{size:e.size}),t=Uo(t,{dir:"right",size:e.size}));let r=t.slice(2);r.length%2&&(r=`0${r}`);const s=r.length/2,i=new Uint8Array(s);for(let o=0,a=0;o<s;o++){const c=rh(r.charCodeAt(a++)),u=rh(r.charCodeAt(a++));if(c===void 0||u===void 0)throw new D(`Invalid byte sequence ("${r[a-2]}${r[a-1]}" in "${r}").`);i[o]=c*16+u}return i}function hy(n,e){const t=Q(n,e);return Nn(t)}function Fs(n,e={}){const t=ly.encode(n);return typeof e.size=="number"?(rn(t,{size:e.size}),Uo(t,{dir:"right",size:e.size})):t}const Rc=BigInt(2**32-1),sh=BigInt(32);function by(n,e=!1){return e?{h:Number(n&Rc),l:Number(n>>sh&Rc)}:{h:Number(n>>sh&Rc)|0,l:Number(n&Rc)|0}}function xy(n,e=!1){const t=n.length;let r=new Uint32Array(t),s=new Uint32Array(t);for(let i=0;i<t;i++){const{h:o,l:a}=by(n[i],e);[r[i],s[i]]=[o,a]}return[r,s]}const py=(n,e,t)=>n<<t|e>>>32-t,gy=(n,e,t)=>e<<t|n>>>32-t,my=(n,e,t)=>e<<t-32|n>>>64-t,yy=(n,e,t)=>n<<t-32|e>>>64-t,ri=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function wy(n){return n instanceof Uint8Array||ArrayBuffer.isView(n)&&n.constructor.name==="Uint8Array"}function ha(n){if(!Number.isSafeInteger(n)||n<0)throw new Error("positive integer expected, got "+n)}function Gs(n,...e){if(!wy(n))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(n.length))throw new Error("Uint8Array expected of length "+e+", got length="+n.length)}function Ay(n){if(typeof n!="function"||typeof n.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");ha(n.outputLen),ha(n.blockLen)}function go(n,e=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(e&&n.finished)throw new Error("Hash#digest() has already been called")}function wx(n,e){Gs(n);const t=e.outputLen;if(n.length<t)throw new Error("digestInto() expects output buffer of length at least "+t)}function Ey(n){return new Uint32Array(n.buffer,n.byteOffset,Math.floor(n.byteLength/4))}function mo(...n){for(let e=0;e<n.length;e++)n[e].fill(0)}function Cu(n){return new DataView(n.buffer,n.byteOffset,n.byteLength)}function on(n,e){return n<<32-e|n>>>e}const vy=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Py(n){return n<<24&4278190080|n<<8&16711680|n>>>8&65280|n>>>24&255}function Iy(n){for(let e=0;e<n.length;e++)n[e]=Py(n[e]);return n}const ih=vy?n=>n:Iy;function Cy(n){if(typeof n!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(n))}function W0(n){return typeof n=="string"&&(n=Cy(n)),Gs(n),n}function Ny(...n){let e=0;for(let r=0;r<n.length;r++){const s=n[r];Gs(s),e+=s.length}const t=new Uint8Array(e);for(let r=0,s=0;r<n.length;r++){const i=n[r];t.set(i,s),s+=i.length}return t}let jl=class{};function Ax(n){const e=r=>n().update(W0(r)).digest(),t=n();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>n(),e}function By(n=32){if(ri&&typeof ri.getRandomValues=="function")return ri.getRandomValues(new Uint8Array(n));if(ri&&typeof ri.randomBytes=="function")return Uint8Array.from(ri.randomBytes(n));throw new Error("crypto.getRandomValues must be defined")}const Sy=BigInt(0),Vo=BigInt(1),Ty=BigInt(2),Oy=BigInt(7),ky=BigInt(256),Ry=BigInt(113),Ex=[],vx=[],Px=[];for(let n=0,e=Vo,t=1,r=0;n<24;n++){[t,r]=[r,(2*t+3*r)%5],Ex.push(2*(5*r+t)),vx.push((n+1)*(n+2)/2%64);let s=Sy;for(let i=0;i<7;i++)e=(e<<Vo^(e>>Oy)*Ry)%ky,e&Ty&&(s^=Vo<<(Vo<<BigInt(i))-Vo);Px.push(s)}const Ix=xy(Px,!0),Uy=Ix[0],Fy=Ix[1],oh=(n,e,t)=>t>32?my(n,e,t):py(n,e,t),ah=(n,e,t)=>t>32?yy(n,e,t):gy(n,e,t);function Ly(n,e=24){const t=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)t[o]=n[o]^n[o+10]^n[o+20]^n[o+30]^n[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,u=t[c],f=t[c+1],l=oh(u,f,1)^t[a],d=ah(u,f,1)^t[a+1];for(let h=0;h<50;h+=10)n[o+h]^=l,n[o+h+1]^=d}let s=n[2],i=n[3];for(let o=0;o<24;o++){const a=vx[o],c=oh(s,i,a),u=ah(s,i,a),f=Ex[o];s=n[f],i=n[f+1],n[f]=c,n[f+1]=u}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)t[a]=n[o+a];for(let a=0;a<10;a++)n[o+a]^=~t[(a+2)%10]&t[(a+4)%10]}n[0]^=Uy[r],n[1]^=Fy[r]}mo(t)}let My=class Cx extends jl{constructor(e,t,r,s=!1,i=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=s,this.rounds=i,ha(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=Ey(this.state)}clone(){return this._cloneInto()}keccak(){ih(this.state32),Ly(this.state32,this.rounds),ih(this.state32),this.posOut=0,this.pos=0}update(e){go(this),e=W0(e),Gs(e);const{blockLen:t,state:r}=this,s=e.length;for(let i=0;i<s;){const o=Math.min(t-this.pos,s-i);for(let a=0;a<o;a++)r[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:r,blockLen:s}=this;e[r]^=t,t&128&&r===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){go(this,!1),Gs(e),this.finish();const t=this.state,{blockLen:r}=this;for(let s=0,i=e.length;s<i;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,i-s);e.set(t.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return ha(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(wx(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,mo(this.state)}_cloneInto(e){const{blockLen:t,suffix:r,outputLen:s,rounds:i,enableXOF:o}=this;return e||(e=new Cx(t,r,s,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=s,e.enableXOF=o,e.destroyed=this.destroyed,e}};const Dy=(n,e,t)=>Ax(()=>new My(e,n,t)),$y=Dy(1,136,256/8);function zs(n,e){const t=e||"hex",r=$y(In(n,{strict:!1})?J0(n):n);return t==="bytes"?r:tn(r)}class q0 extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const t=super.get(e);return super.has(e)&&t!==void 0&&(this.delete(e),super.set(e,t)),t}set(e,t){if(super.set(e,t),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const Gy=/^0x[a-fA-F0-9]{40}$/,Nu=new q0(8192);function Ge(n,e){const{strict:t=!0}=e??{},r=`${n}.${t}`;if(Nu.has(r))return Nu.get(r);const s=Gy.test(n)?n.toLowerCase()===n?!0:t?Z0(n)===n:!0:!1;return Nu.set(r,s),s}const Bu=new q0(8192);function Z0(n,e){if(Bu.has(`${n}.${e}`))return Bu.get(`${n}.${e}`);const t=n.substring(2).toLowerCase(),r=zs(Fs(t),"bytes"),s=t.split("");for(let o=0;o<40;o+=2)r[o>>1]>>4>=8&&s[o]&&(s[o]=s[o].toUpperCase()),(r[o>>1]&15)>=8&&s[o+1]&&(s[o+1]=s[o+1].toUpperCase());const i=`0x${s.join("")}`;return Bu.set(`${n}.${e}`,i),i}function ea(n,e){if(!Ge(n,{strict:!1}))throw new ut({address:n});return Z0(n,e)}class ch extends D{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`,{name:"NegativeOffsetError"})}}class zy extends D{constructor({length:e,position:t}){super(`Position \`${t}\` is out of bounds (\`0 < position < ${e}\`).`,{name:"PositionOutOfBoundsError"})}}class Hy extends D{constructor({count:e,limit:t}){super(`Recursive read limit of \`${t}\` exceeded (recursive read count: \`${e}\`).`,{name:"RecursiveReadLimitExceededError"})}}const _y={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new Hy({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(n){if(n<0||n>this.bytes.length-1)throw new zy({length:this.bytes.length,position:n})},decrementPosition(n){if(n<0)throw new ch({offset:n});const e=this.position-n;this.assertPosition(e),this.position=e},getReadCount(n){return this.positionReadCount.get(n||this.position)||0},incrementPosition(n){if(n<0)throw new ch({offset:n});const e=this.position+n;this.assertPosition(e),this.position=e},inspectByte(n){const e=n??this.position;return this.assertPosition(e),this.bytes[e]},inspectBytes(n,e){const t=e??this.position;return this.assertPosition(t+n-1),this.bytes.subarray(t,t+n)},inspectUint8(n){const e=n??this.position;return this.assertPosition(e),this.bytes[e]},inspectUint16(n){const e=n??this.position;return this.assertPosition(e+1),this.dataView.getUint16(e)},inspectUint24(n){const e=n??this.position;return this.assertPosition(e+2),(this.dataView.getUint16(e)<<8)+this.dataView.getUint8(e+2)},inspectUint32(n){const e=n??this.position;return this.assertPosition(e+3),this.dataView.getUint32(e)},pushByte(n){this.assertPosition(this.position),this.bytes[this.position]=n,this.position++},pushBytes(n){this.assertPosition(this.position+n.length-1),this.bytes.set(n,this.position),this.position+=n.length},pushUint8(n){this.assertPosition(this.position),this.bytes[this.position]=n,this.position++},pushUint16(n){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,n),this.position+=2},pushUint24(n){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,n>>8),this.dataView.setUint8(this.position+2,n&255),this.position+=3},pushUint32(n){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,n),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const n=this.inspectByte();return this.position++,n},readBytes(n,e){this.assertReadLimit(),this._touch();const t=this.inspectBytes(n);return this.position+=e??n,t},readUint8(){this.assertReadLimit(),this._touch();const n=this.inspectUint8();return this.position+=1,n},readUint16(){this.assertReadLimit(),this._touch();const n=this.inspectUint16();return this.position+=2,n},readUint24(){this.assertReadLimit(),this._touch();const n=this.inspectUint24();return this.position+=3,n},readUint32(){this.assertReadLimit(),this._touch();const n=this.inspectUint32();return this.position+=4,n},get remaining(){return this.bytes.length-this.position},setPosition(n){const e=this.position;return this.assertPosition(n),this.position=n,()=>this.position=e},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const n=this.getReadCount();this.positionReadCount.set(this.position,n+1),n>0&&this.recursiveReadCount++}};function Vl(n,{recursiveReadLimit:e=8192}={}){const t=Object.create(_y);return t.bytes=n,t.dataView=new DataView(n.buffer,n.byteOffset,n.byteLength),t.positionReadCount=new Map,t.recursiveReadLimit=e,t}function Hs(n,e,t,{strict:r}={}){return In(n,{strict:!1})?jy(n,e,t,{strict:r}):Sx(n,e,t,{strict:r})}function Nx(n,e){if(typeof e=="number"&&e>0&&e>Ce(n)-1)throw new xx({offset:e,position:"start",size:Ce(n)})}function Bx(n,e,t){if(typeof e=="number"&&typeof t=="number"&&Ce(n)!==t-e)throw new xx({offset:t,position:"end",size:Ce(n)})}function Sx(n,e,t,{strict:r}={}){Nx(n,e);const s=n.slice(e,t);return r&&Bx(s,e,t),s}function jy(n,e,t,{strict:r}={}){Nx(n,e);const s=`0x${n.replace("0x","").slice((e??0)*2,(t??n.length)*2)}`;return r&&Bx(s,e,t),s}function Vy(n,e={}){typeof e.size<"u"&&rn(n,{size:e.size});const t=ke(n,e);return Yt(t,e)}function Ky(n,e={}){let t=n;if(typeof e.size<"u"&&(rn(t,{size:e.size}),t=Cn(t)),t.length>1||t[0]>1)throw new ay(t);return!!t[0]}function er(n,e={}){typeof e.size<"u"&&rn(n,{size:e.size});const t=ke(n,e);return _r(t,e)}function Qy(n,e={}){let t=n;return typeof e.size<"u"&&(rn(t,{size:e.size}),t=Cn(t,{dir:"right"})),new TextDecoder().decode(t)}function jr(n){return typeof n[0]=="string"?Bn(n):Jy(n)}function Jy(n){let e=0;for(const s of n)e+=s.length;const t=new Uint8Array(e);let r=0;for(const s of n)t.set(s,r),r+=s.length;return t}function Bn(n){return`0x${n.reduce((e,t)=>e+t.replace("0x",""),"")}`}const Wy=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function hc(n,e){if(n.length!==e.length)throw new Xm({expectedLength:n.length,givenLength:e.length});const t=qy({params:n,values:e}),r=Ql(t);return r.length===0?"0x":r}function qy({params:n,values:e}){const t=[];for(let r=0;r<n.length;r++)t.push(Kl({param:n[r],value:e[r]}));return t}function Kl({param:n,value:e}){const t=Jl(n.type);if(t){const[r,s]=t;return Yy(e,{length:r,param:{...n,type:s}})}if(n.type==="tuple")return r6(e,{param:n});if(n.type==="address")return Zy(e);if(n.type==="bool")return e6(e);if(n.type.startsWith("uint")||n.type.startsWith("int")){const r=n.type.startsWith("int"),[,,s="256"]=Wy.exec(n.type)??[];return t6(e,{signed:r,size:Number(s)})}if(n.type.startsWith("bytes"))return Xy(e,{param:n});if(n.type==="string")return n6(e);throw new ry(n.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function Ql(n){let e=0;for(let i=0;i<n.length;i++){const{dynamic:o,encoded:a}=n[i];o?e+=32:e+=Ce(a)}const t=[],r=[];let s=0;for(let i=0;i<n.length;i++){const{dynamic:o,encoded:a}=n[i];o?(t.push(Q(e+s,{size:32})),r.push(a),s+=Ce(a)):t.push(a)}return jr([...t,...r])}function Zy(n){if(!Ge(n))throw new ut({address:n});return{dynamic:!1,encoded:Dr(n.toLowerCase())}}function Yy(n,{length:e,param:t}){const r=e===null;if(!Array.isArray(n))throw new bx(n);if(!r&&n.length!==e)throw new Zm({expectedLength:e,givenLength:n.length,type:`${t.type}[${e}]`});let s=!1;const i=[];for(let o=0;o<n.length;o++){const a=Kl({param:t,value:n[o]});a.dynamic&&(s=!0),i.push(a)}if(r||s){const o=Ql(i);if(r){const a=Q(i.length,{size:32});return{dynamic:!0,encoded:i.length>0?jr([a,o]):a}}if(s)return{dynamic:!0,encoded:o}}return{dynamic:!1,encoded:jr(i.map(({encoded:o})=>o))}}function Xy(n,{param:e}){const[,t]=e.type.split("bytes"),r=Ce(n);if(!t){let s=n;return r%32!==0&&(s=Dr(s,{dir:"right",size:Math.ceil((n.length-2)/2/32)*32})),{dynamic:!0,encoded:jr([Dr(Q(r,{size:32})),s])}}if(r!==Number.parseInt(t,10))throw new Ym({expectedSize:Number.parseInt(t,10),value:n});return{dynamic:!1,encoded:Dr(n,{dir:"right"})}}function e6(n){if(typeof n!="boolean")throw new D(`Invalid boolean value: "${n}" (type: ${typeof n}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:Dr(yx(n))}}function t6(n,{signed:e,size:t=256}){if(typeof t=="number"){const r=2n**(BigInt(t)-(e?1n:0n))-1n,s=e?-r-1n:0n;if(n>r||n<s)throw new gx({max:r.toString(),min:s.toString(),signed:e,size:t/8,value:n.toString()})}return{dynamic:!1,encoded:Q(n,{size:32,signed:e})}}function n6(n){const e=Q0(n),t=Math.ceil(Ce(e)/32),r=[];for(let s=0;s<t;s++)r.push(Dr(Hs(e,s*32,(s+1)*32),{dir:"right"}));return{dynamic:!0,encoded:jr([Dr(Q(Ce(e),{size:32})),...r])}}function r6(n,{param:e}){let t=!1;const r=[];for(let s=0;s<e.components.length;s++){const i=e.components[s],o=Array.isArray(n)?s:i.name,a=Kl({param:i,value:n[o]});r.push(a),a.dynamic&&(t=!0)}return{dynamic:t,encoded:t?Ql(r):jr(r.map(({encoded:s})=>s))}}function Jl(n){const e=n.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}function Wl(n,e){const t=typeof e=="string"?Nn(e):e,r=Vl(t);if(Ce(t)===0&&n.length>0)throw new K0;if(Ce(e)&&Ce(e)<32)throw new qm({data:typeof e=="string"?e:ke(e),params:n,size:Ce(e)});let s=0;const i=[];for(let o=0;o<n.length;++o){const a=n[o];r.setPosition(s);const[c,u]=wi(r,a,{staticPosition:0});s+=u,i.push(c)}return i}function wi(n,e,{staticPosition:t}){const r=Jl(e.type);if(r){const[s,i]=r;return i6(n,{...e,type:i},{length:s,staticPosition:t})}if(e.type==="tuple")return u6(n,e,{staticPosition:t});if(e.type==="address")return s6(n);if(e.type==="bool")return o6(n);if(e.type.startsWith("bytes"))return a6(n,e,{staticPosition:t});if(e.type.startsWith("uint")||e.type.startsWith("int"))return c6(n,e);if(e.type==="string")return f6(n,{staticPosition:t});throw new sy(e.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const uh=32,If=32;function s6(n){const e=n.readBytes(32);return[Z0(ke(Sx(e,-20))),32]}function i6(n,e,{length:t,staticPosition:r}){if(!t){const o=er(n.readBytes(If)),a=r+o,c=a+uh;n.setPosition(a);const u=er(n.readBytes(uh)),f=ba(e);let l=0;const d=[];for(let h=0;h<u;++h){n.setPosition(c+(f?h*32:l));const[p,x]=wi(n,e,{staticPosition:c});l+=x,d.push(p)}return n.setPosition(r+32),[d,32]}if(ba(e)){const o=er(n.readBytes(If)),a=r+o,c=[];for(let u=0;u<t;++u){n.setPosition(a+u*32);const[f]=wi(n,e,{staticPosition:a});c.push(f)}return n.setPosition(r+32),[c,32]}let s=0;const i=[];for(let o=0;o<t;++o){const[a,c]=wi(n,e,{staticPosition:r+s});s+=c,i.push(a)}return[i,s]}function o6(n){return[Ky(n.readBytes(32),{size:32}),32]}function a6(n,e,{staticPosition:t}){const[r,s]=e.type.split("bytes");if(!s){const o=er(n.readBytes(32));n.setPosition(t+o);const a=er(n.readBytes(32));if(a===0)return n.setPosition(t+32),["0x",32];const c=n.readBytes(a);return n.setPosition(t+32),[ke(c),32]}return[ke(n.readBytes(Number.parseInt(s,10),32)),32]}function c6(n,e){const t=e.type.startsWith("int"),r=Number.parseInt(e.type.split("int")[1]||"256",10),s=n.readBytes(32);return[r>48?Vy(s,{signed:t}):er(s,{signed:t}),32]}function u6(n,e,{staticPosition:t}){const r=e.components.length===0||e.components.some(({name:o})=>!o),s=r?[]:{};let i=0;if(ba(e)){const o=er(n.readBytes(If)),a=t+o;for(let c=0;c<e.components.length;++c){const u=e.components[c];n.setPosition(a+i);const[f,l]=wi(n,u,{staticPosition:a});i+=l,s[r?c:u==null?void 0:u.name]=f}return n.setPosition(t+32),[s,32]}for(let o=0;o<e.components.length;++o){const a=e.components[o],[c,u]=wi(n,a,{staticPosition:t});s[r?o:a==null?void 0:a.name]=c,i+=u}return[s,i]}function f6(n,{staticPosition:e}){const t=er(n.readBytes(32)),r=e+t;n.setPosition(r);const s=er(n.readBytes(32));if(s===0)return n.setPosition(e+32),["",32];const i=n.readBytes(s,32),o=Qy(Cn(i));return n.setPosition(e+32),[o,32]}function ba(n){var r;const{type:e}=n;if(e==="string"||e==="bytes"||e.endsWith("[]"))return!0;if(e==="tuple")return(r=n.components)==null?void 0:r.some(ba);const t=Jl(n.type);return!!(t&&ba({...n,type:t[1]}))}const l6=n=>zs(J0(n));function d6(n){return l6(n)}const h6="1.1.0";let Gt=class Cf extends Error{constructor(e,t={}){var o;const r=t.cause instanceof Cf?t.cause.details:(o=t.cause)!=null&&o.message?t.cause.message:t.details,s=t.cause instanceof Cf&&t.cause.docsPath||t.docsPath,i=[e||"An error occurred.","",...t.metaMessages?[...t.metaMessages,""]:[],...s?[`Docs: https://abitype.dev${s}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${h6}`].join(`
`);super(i),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),t.cause&&(this.cause=t.cause),this.details=r,this.docsPath=s,this.metaMessages=t.metaMessages,this.shortMessage=e}};function ur(n,e){const t=n.exec(e);return t==null?void 0:t.groups}const Tx=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Ox=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,kx=/^\(.+?\).*?$/,fh=/^tuple(?<array>(\[(\d*)\])*)$/;function Nf(n){let e=n.type;if(fh.test(n.type)&&"components"in n){e="(";const t=n.components.length;for(let s=0;s<t;s++){const i=n.components[s];e+=Nf(i),s<t-1&&(e+=", ")}const r=ur(fh,n.type);return e+=`)${(r==null?void 0:r.array)??""}`,Nf({...n,type:e})}return"indexed"in n&&n.indexed&&(e=`${e} indexed`),n.name?`${e} ${n.name}`:e}function Ko(n){let e="";const t=n.length;for(let r=0;r<t;r++){const s=n[r];e+=Nf(s),r!==t-1&&(e+=", ")}return e}function b6(n){var e;return n.type==="function"?`function ${n.name}(${Ko(n.inputs)})${n.stateMutability&&n.stateMutability!=="nonpayable"?` ${n.stateMutability}`:""}${(e=n.outputs)!=null&&e.length?` returns (${Ko(n.outputs)})`:""}`:n.type==="event"?`event ${n.name}(${Ko(n.inputs)})`:n.type==="error"?`error ${n.name}(${Ko(n.inputs)})`:n.type==="constructor"?`constructor(${Ko(n.inputs)})${n.stateMutability==="payable"?" payable":""}`:n.type==="fallback"?`fallback() external${n.stateMutability==="payable"?" payable":""}`:"receive() external payable"}const Rx=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function x6(n){return Rx.test(n)}function p6(n){return ur(Rx,n)}const Ux=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function g6(n){return Ux.test(n)}function m6(n){return ur(Ux,n)}const Fx=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function y6(n){return Fx.test(n)}function w6(n){return ur(Fx,n)}const Lx=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function Mx(n){return Lx.test(n)}function A6(n){return ur(Lx,n)}const Dx=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function E6(n){return Dx.test(n)}function v6(n){return ur(Dx,n)}const $x=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function P6(n){return $x.test(n)}function I6(n){return ur($x,n)}const C6=/^receive\(\) external payable$/;function N6(n){return C6.test(n)}const B6=new Set(["indexed"]),Bf=new Set(["calldata","memory","storage"]);class S6 extends Gt{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class T6 extends Gt{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class O6 extends Gt{constructor({param:e}){super("Invalid ABI parameter.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class k6 extends Gt{constructor({param:e,name:t}){super("Invalid ABI parameter.",{details:e,metaMessages:[`"${t}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class R6 extends Gt{constructor({param:e,type:t,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${t?` in "${t}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class U6 extends Gt{constructor({param:e,type:t,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${t?` in "${t}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class F6 extends Gt{constructor({abiParameter:e}){super("Invalid ABI parameter.",{details:JSON.stringify(e,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class Fo extends Gt{constructor({signature:e,type:t}){super(`Invalid ${t} signature.`,{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class L6 extends Gt{constructor({signature:e}){super("Unknown signature.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class M6 extends Gt{constructor({signature:e}){super("Invalid struct signature.",{details:e,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class D6 extends Gt{constructor({type:e}){super("Circular reference detected.",{metaMessages:[`Struct "${e}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class $6 extends Gt{constructor({current:e,depth:t}){super("Unbalanced parentheses.",{metaMessages:[`"${e.trim()}" has too many ${t>0?"opening":"closing"} parentheses.`],details:`Depth "${t}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function G6(n,e,t){let r="";if(t)for(const s of Object.entries(t)){if(!s)continue;let i="";for(const o of s[1])i+=`[${o.type}${o.name?`:${o.name}`:""}]`;r+=`(${s[0]}{${i}})`}return e?`${e}:${n}${r}`:n}const Su=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function z6(n,e={}){if(y6(n))return H6(n,e);if(g6(n))return _6(n,e);if(x6(n))return j6(n,e);if(E6(n))return V6(n,e);if(P6(n))return K6(n);if(N6(n))return{type:"receive",stateMutability:"payable"};throw new L6({signature:n})}function H6(n,e={}){const t=w6(n);if(!t)throw new Fo({signature:n,type:"function"});const r=Xt(t.parameters),s=[],i=r.length;for(let a=0;a<i;a++)s.push(_s(r[a],{modifiers:Bf,structs:e,type:"function"}));const o=[];if(t.returns){const a=Xt(t.returns),c=a.length;for(let u=0;u<c;u++)o.push(_s(a[u],{modifiers:Bf,structs:e,type:"function"}))}return{name:t.name,type:"function",stateMutability:t.stateMutability??"nonpayable",inputs:s,outputs:o}}function _6(n,e={}){const t=m6(n);if(!t)throw new Fo({signature:n,type:"event"});const r=Xt(t.parameters),s=[],i=r.length;for(let o=0;o<i;o++)s.push(_s(r[o],{modifiers:B6,structs:e,type:"event"}));return{name:t.name,type:"event",inputs:s}}function j6(n,e={}){const t=p6(n);if(!t)throw new Fo({signature:n,type:"error"});const r=Xt(t.parameters),s=[],i=r.length;for(let o=0;o<i;o++)s.push(_s(r[o],{structs:e,type:"error"}));return{name:t.name,type:"error",inputs:s}}function V6(n,e={}){const t=v6(n);if(!t)throw new Fo({signature:n,type:"constructor"});const r=Xt(t.parameters),s=[],i=r.length;for(let o=0;o<i;o++)s.push(_s(r[o],{structs:e,type:"constructor"}));return{type:"constructor",stateMutability:t.stateMutability??"nonpayable",inputs:s}}function K6(n){const e=I6(n);if(!e)throw new Fo({signature:n,type:"fallback"});return{type:"fallback",stateMutability:e.stateMutability??"nonpayable"}}const Q6=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*(?:\spayable)?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,J6=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,W6=/^u?int$/;function _s(n,e){var l,d;const t=G6(n,e==null?void 0:e.type,e==null?void 0:e.structs);if(Su.has(t))return Su.get(t);const r=kx.test(n),s=ur(r?J6:Q6,n);if(!s)throw new O6({param:n});if(s.name&&Z6(s.name))throw new k6({param:n,name:s.name});const i=s.name?{name:s.name}:{},o=s.modifier==="indexed"?{indexed:!0}:{},a=(e==null?void 0:e.structs)??{};let c,u={};if(r){c="tuple";const h=Xt(s.type),p=[],x=h.length;for(let m=0;m<x;m++)p.push(_s(h[m],{structs:a}));u={components:p}}else if(s.type in a)c="tuple",u={components:a[s.type]};else if(W6.test(s.type))c=`${s.type}256`;else if(s.type==="address payable")c="address";else if(c=s.type,(e==null?void 0:e.type)!=="struct"&&!Gx(c))throw new T6({type:c});if(s.modifier){if(!((d=(l=e==null?void 0:e.modifiers)==null?void 0:l.has)!=null&&d.call(l,s.modifier)))throw new R6({param:n,type:e==null?void 0:e.type,modifier:s.modifier});if(Bf.has(s.modifier)&&!Y6(c,!!s.array))throw new U6({param:n,type:e==null?void 0:e.type,modifier:s.modifier})}const f={type:`${c}${s.array??""}`,...i,...o,...u};return Su.set(t,f),f}function Xt(n,e=[],t="",r=0){const s=n.trim().length;for(let i=0;i<s;i++){const o=n[i],a=n.slice(i+1);switch(o){case",":return r===0?Xt(a,[...e,t.trim()]):Xt(a,e,`${t}${o}`,r);case"(":return Xt(a,e,`${t}${o}`,r+1);case")":return Xt(a,e,`${t}${o}`,r-1);default:return Xt(a,e,`${t}${o}`,r)}}if(t==="")return e;if(r!==0)throw new $6({current:t,depth:r});return e.push(t.trim()),e}function Gx(n){return n==="address"||n==="bool"||n==="function"||n==="string"||Tx.test(n)||Ox.test(n)}const q6=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function Z6(n){return n==="address"||n==="bool"||n==="function"||n==="string"||n==="tuple"||Tx.test(n)||Ox.test(n)||q6.test(n)}function Y6(n,e){return e||n==="bytes"||n==="string"||n==="tuple"}function X6(n){const e={},t=n.length;for(let o=0;o<t;o++){const a=n[o];if(!Mx(a))continue;const c=A6(a);if(!c)throw new Fo({signature:a,type:"struct"});const u=c.properties.split(";"),f=[],l=u.length;for(let d=0;d<l;d++){const p=u[d].trim();if(!p)continue;const x=_s(p,{type:"struct"});f.push(x)}if(!f.length)throw new M6({signature:a});e[c.name]=f}const r={},s=Object.entries(e),i=s.length;for(let o=0;o<i;o++){const[a,c]=s[o];r[a]=zx(c,e)}return r}const e5=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function zx(n,e,t=new Set){const r=[],s=n.length;for(let i=0;i<s;i++){const o=n[i];if(kx.test(o.type))r.push(o);else{const c=ur(e5,o.type);if(!(c!=null&&c.type))throw new F6({abiParameter:o});const{array:u,type:f}=c;if(f in e){if(t.has(f))throw new D6({type:f});r.push({...o,type:`tuple${u??""}`,components:zx(e[f]??[],e,new Set([...t,f]))})}else if(Gx(f))r.push(o);else throw new S6({type:f})}}return r}function Hx(n){const e=X6(n),t=[],r=n.length;for(let s=0;s<r;s++){const i=n[s];Mx(i)||t.push(z6(i,e))}return t}function t5(n){let e=!0,t="",r=0,s="",i=!1;for(let o=0;o<n.length;o++){const a=n[o];if(["(",")",","].includes(a)&&(e=!0),a==="("&&r++,a===")"&&r--,!!e){if(r===0){if(a===" "&&["event","function",""].includes(s))s="";else if(s+=a,a===")"){i=!0;break}continue}if(a===" "){n[o-1]!==","&&t!==","&&t!==",("&&(t="",e=!1);continue}s+=a,t+=a}}if(!i)throw new D("Unable to normalize signature.");return s}const n5=n=>{const e=typeof n=="string"?n:b6(n);return t5(e)};function _x(n){return d6(n5(n))}const r5=_x,bc=n=>Hs(_x(n),0,4);function xc(n){const{abi:e,args:t=[],name:r}=n,s=In(r,{strict:!1}),i=e.filter(a=>s?a.type==="function"?bc(a)===r:a.type==="event"?r5(a)===r:!1:"name"in a&&a.name===r);if(i.length===0)return;if(i.length===1)return i[0];let o;for(const a of i){if(!("inputs"in a))continue;if(!t||t.length===0){if(!a.inputs||a.inputs.length===0)return a;continue}if(!a.inputs||a.inputs.length===0||a.inputs.length!==t.length)continue;if(t.every((u,f)=>{const l="inputs"in a&&a.inputs[f];return l?Sf(u,l):!1})){if(o&&"inputs"in o&&o.inputs){const u=jx(a.inputs,o.inputs,t);if(u)throw new ny({abiItem:a,type:u[0]},{abiItem:o,type:u[1]})}o=a}}return o||i[0]}function Sf(n,e){const t=typeof n,r=e.type;switch(r){case"address":return Ge(n,{strict:!1});case"bool":return t==="boolean";case"function":return t==="string";case"string":return t==="string";default:return r==="tuple"&&"components"in e?Object.values(e.components).every((s,i)=>Sf(Object.values(n)[i],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?t==="number"||t==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?t==="string"||n instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(n)&&n.every(s=>Sf(s,{...e,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function jx(n,e,t){for(const r in n){const s=n[r],i=e[r];if(s.type==="tuple"&&i.type==="tuple"&&"components"in s&&"components"in i)return jx(s.components,i.components,t[r]);const o=[s.type,i.type];if(o.includes("address")&&o.includes("bytes20")?!0:o.includes("address")&&o.includes("string")?Ge(t[r],{strict:!1}):o.includes("address")&&o.includes("bytes")?Ge(t[r],{strict:!1}):!1)return o}}const Tu="/docs/contract/decodeFunctionResult";function pc(n){const{abi:e,args:t,functionName:r,data:s}=n;let i=e[0];if(r){const a=xc({abi:e,args:t,name:r});if(!a)throw new po(r,{docsPath:Tu});i=a}if(i.type!=="function")throw new po(void 0,{docsPath:Tu});if(!i.outputs)throw new hx(i.name,{docsPath:Tu});const o=Wl(i.outputs,s);if(o&&o.length>1)return o;if(o&&o.length===1)return o[0]}const lh="/docs/contract/encodeFunctionData";function s5(n){const{abi:e,args:t,functionName:r}=n;let s=e[0];if(r){const i=xc({abi:e,args:t,name:r});if(!i)throw new po(r,{docsPath:lh});s=i}if(s.type!=="function")throw new po(void 0,{docsPath:lh});return{abi:[s],functionName:bc(Hr(s))}}function Lo(n){const{args:e}=n,{abi:t,functionName:r}=(()=>{var a;return n.abi.length===1&&((a=n.functionName)!=null&&a.startsWith("0x"))?n:s5(n)})(),s=t[0],i=r,o="inputs"in s&&s.inputs?hc(s.inputs,e??[]):void 0;return Bn([i,o??"0x"])}class Tf extends D{constructor({blockNumber:e,chain:t,contract:r}){super(`Chain "${t.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...e&&r.blockCreated&&r.blockCreated>e?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${e}).`]:[`- The chain does not have the contract "${r.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class i5 extends D{constructor({chain:e,currentChainId:t}){super(`The current chain of the wallet (id: ${t}) does not match the target chain for the transaction (id: ${e.id}  ${e.name}).`,{metaMessages:[`Current Chain ID:  ${t}`,`Expected Chain ID: ${e.id}  ${e.name}`],name:"ChainMismatchError"})}}class o5 extends D{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`),{name:"ChainNotFoundError"})}}class Vx extends D{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}class Y0 extends D{constructor({chainId:e}){super(typeof e=="number"?`Chain ID "${e}" is invalid.`:"Chain ID is invalid.",{name:"InvalidChainIdError"})}}function gc({blockNumber:n,chain:e,contract:t}){var s;const r=(s=e==null?void 0:e.contracts)==null?void 0:s[t];if(!r)throw new Tf({chain:e,contract:{name:t}});if(n&&r.blockCreated&&r.blockCreated>n)throw new Tf({blockNumber:n,chain:e,contract:{name:t,blockCreated:r.blockCreated}});return r.address}function Sn(n){return typeof n=="string"?{address:n,type:"json-rpc"}:n}const a5={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},Kx={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},c5={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};function Qx(n){const{abi:e,data:t}=n,r=Hs(t,0,4);if(r==="0x")throw new K0;const i=[...e||[],Kx,c5].find(o=>o.type==="error"&&r===bc(Hr(o)));if(!i)throw new dx(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:i,args:"inputs"in i&&i.inputs&&i.inputs.length>0?Wl(i.inputs,Hs(t,4)):void 0,errorName:i.name}}const wt=(n,e,t)=>JSON.stringify(n,(r,s)=>typeof s=="bigint"?s.toString():s,t);function Jx({abiItem:n,args:e,includeFunctionName:t=!0,includeName:r=!1}){if("name"in n&&"inputs"in n&&n.inputs)return`${t?n.name:""}(${n.inputs.map((s,i)=>`${r&&s.name?`${s.name}: `:""}${typeof e[i]=="object"?wt(e[i]):e[i]}`).join(", ")})`}const u5={gwei:9,wei:18},f5={ether:-9,wei:9},l5={ether:-18,gwei:-9};function X0(n,e){let t=n.toString();const r=t.startsWith("-");r&&(t=t.slice(1)),t=t.padStart(e,"0");let[s,i]=[t.slice(0,t.length-e),t.slice(t.length-e)];return i=i.replace(/(0+)$/,""),`${r?"-":""}${s||"0"}${i?`.${i}`:""}`}function ql(n,e="wei"){return X0(n,u5[e])}function ot(n,e="wei"){return X0(n,f5[e])}class d5 extends D{constructor({address:e}){super(`State for account "${e}" is set multiple times.`,{name:"AccountStateConflictError"})}}class h5 extends D{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function dh(n){return n.reduce((e,{slot:t,value:r})=>`${e}        ${t}: ${r}
`,"")}function b5(n){return n.reduce((e,{address:t,...r})=>{let s=`${e}    ${t}:
`;return r.nonce&&(s+=`      nonce: ${r.nonce}
`),r.balance&&(s+=`      balance: ${r.balance}
`),r.code&&(s+=`      code: ${r.code}
`),r.state&&(s+=`      state:
`,s+=dh(r.state)),r.stateDiff&&(s+=`      stateDiff:
`,s+=dh(r.stateDiff)),s},`  State Override:
`).slice(0,-1)}function mc(n){const e=Object.entries(n).map(([r,s])=>s===void 0||s===!1?null:[r,s]).filter(Boolean),t=e.reduce((r,[s])=>Math.max(r,s.length),0);return e.map(([r,s])=>`  ${`${r}:`.padEnd(t+1)}  ${s}`).join(`
`)}class x5 extends D{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`),{name:"FeeConflictError"})}}class p5 extends D{constructor({v:e}){super(`Invalid \`v\` value "${e}". Expected 27 or 28.`,{name:"InvalidLegacyVError"})}}class g5 extends D{constructor({transaction:e}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",mc(e),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class m5 extends D{constructor({storageKey:e}){super(`Size for storage key "${e}" is invalid. Expected 32 bytes. Got ${Math.floor((e.length-2)/2)} bytes.`,{name:"InvalidStorageKeySizeError"})}}class y5 extends D{constructor(e,{account:t,docsPath:r,chain:s,data:i,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:f,to:l,value:d}){var p;const h=mc({chain:s&&`${s==null?void 0:s.name} (id: ${s==null?void 0:s.id})`,from:t==null?void 0:t.address,to:l,value:typeof d<"u"&&`${ql(d)} ${((p=s==null?void 0:s.nativeCurrency)==null?void 0:p.symbol)||"ETH"}`,data:i,gas:o,gasPrice:typeof a<"u"&&`${ot(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${ot(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${ot(u)} gwei`,nonce:f});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Request Arguments:",h].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class Wx extends D{constructor({blockHash:e,blockNumber:t,blockTag:r,hash:s,index:i}){let o="Transaction";r&&i!==void 0&&(o=`Transaction at block time "${r}" at index "${i}"`),e&&i!==void 0&&(o=`Transaction at block hash "${e}" at index "${i}"`),t&&i!==void 0&&(o=`Transaction at block number "${t}" at index "${i}"`),s&&(o=`Transaction with hash "${s}"`),super(`${o} could not be found.`,{name:"TransactionNotFoundError"})}}class qx extends D{constructor({hash:e}){super(`Transaction receipt with hash "${e}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class w5 extends D{constructor({hash:e}){super(`Timed out while waiting for transaction with hash "${e}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}const A5=n=>n,yc=n=>n;class E5 extends D{constructor(e,{account:t,docsPath:r,chain:s,data:i,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:f,to:l,value:d,stateOverride:h}){var m;const p=t?Sn(t):void 0;let x=mc({from:p==null?void 0:p.address,to:l,value:typeof d<"u"&&`${ql(d)} ${((m=s==null?void 0:s.nativeCurrency)==null?void 0:m.symbol)||"ETH"}`,data:i,gas:o,gasPrice:typeof a<"u"&&`${ot(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${ot(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${ot(u)} gwei`,nonce:f});h&&(x+=`
${b5(h)}`),super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Raw Call Arguments:",x].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class Zx extends D{constructor(e,{abi:t,args:r,contractAddress:s,docsPath:i,functionName:o,sender:a}){const c=xc({abi:t,args:r,name:o}),u=c?Jx({abiItem:c,args:r,includeFunctionName:!1,includeName:!1}):void 0,f=c?Hr(c,{includeName:!0}):void 0,l=mc({address:s&&A5(s),function:f,args:u&&u!=="()"&&`${[...Array((o==null?void 0:o.length)??0).keys()].map(()=>" ").join("")}${u}`,sender:a});super(e.shortMessage||`An unknown error occurred while executing the contract function "${o}".`,{cause:e,docsPath:i,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],l&&"Contract Call:",l].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=t,this.args=r,this.cause=e,this.contractAddress=s,this.functionName=o,this.sender=a}}class Of extends D{constructor({abi:e,data:t,functionName:r,message:s}){let i,o,a,c;if(t&&t!=="0x")try{o=Qx({abi:e,data:t});const{abiItem:f,errorName:l,args:d}=o;if(l==="Error")c=d[0];else if(l==="Panic"){const[h]=d;c=a5[h]}else{const h=f?Hr(f,{includeName:!0}):void 0,p=f&&d?Jx({abiItem:f,args:d,includeFunctionName:!1,includeName:!1}):void 0;a=[h?`Error: ${h}`:"",p&&p!=="()"?`       ${[...Array((l==null?void 0:l.length)??0).keys()].map(()=>" ").join("")}${p}`:""]}}catch(f){i=f}else s&&(c=s);let u;i instanceof dx&&(u=i.signature,a=[`Unable to decode signature "${u}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${u}.`]),super(c&&c!=="execution reverted"||u?[`The contract function "${r}" reverted with the following ${u?"signature":"reason"}:`,c||u].join(`
`):`The contract function "${r}" reverted.`,{cause:i,metaMessages:a,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=o,this.raw=t,this.reason=c,this.signature=u}}class v5 extends D{constructor({functionName:e}){super(`The contract function "${e}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${e}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class P5 extends D{constructor({factory:e}){super(`Deployment for counterfactual contract call failed${e?` for factory "${e}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class Zl extends D{constructor({data:e,message:t}){super(t||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e}}function Yl(n){var t,r,s,i,o,a;if(!(n instanceof D))return!1;const e=n.walk(c=>c instanceof Of);return e instanceof Of?((t=e.data)==null?void 0:t.errorName)==="HttpError"||((r=e.data)==null?void 0:r.errorName)==="ResolverError"||((s=e.data)==null?void 0:s.errorName)==="ResolverNotContract"||((i=e.data)==null?void 0:i.errorName)==="ResolverNotFound"||((o=e.data)==null?void 0:o.errorName)==="ReverseAddressMismatch"||((a=e.data)==null?void 0:a.errorName)==="UnsupportedResolverProfile":!1}function I5(n){const{abi:e,data:t}=n,r=Hs(t,0,4),s=e.find(i=>i.type==="function"&&r===bc(Hr(i)));if(!s)throw new ty(r,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:s.name,args:"inputs"in s&&s.inputs&&s.inputs.length>0?Wl(s.inputs,Hs(t,4)):void 0}}const Ou="/docs/contract/encodeErrorResult";function hh(n){const{abi:e,errorName:t,args:r}=n;let s=e[0];if(t){const c=xc({abi:e,args:r,name:t});if(!c)throw new th(t,{docsPath:Ou});s=c}if(s.type!=="error")throw new th(void 0,{docsPath:Ou});const i=Hr(s),o=bc(i);let a="0x";if(r&&r.length>0){if(!s.inputs)throw new ey(s.name,{docsPath:Ou});a=hc(s.inputs,r)}return Bn([o,a])}const ku="/docs/contract/encodeFunctionResult";function C5(n){const{abi:e,functionName:t,result:r}=n;let s=e[0];if(t){const o=xc({abi:e,name:t});if(!o)throw new po(t,{docsPath:ku});s=o}if(s.type!=="function")throw new po(void 0,{docsPath:ku});if(!s.outputs)throw new hx(s.name,{docsPath:ku});const i=(()=>{if(s.outputs.length===0)return[];if(s.outputs.length===1)return[r];if(Array.isArray(r))return r;throw new bx(r)})();return hc(s.outputs,i)}const wc="x-batch-gateway:true";async function Yx(n){const{data:e,ccipRequest:t}=n,{args:[r]}=I5({abi:vf,data:e}),s=[],i=[];return await Promise.all(r.map(async(o,a)=>{try{i[a]=o.urls.includes(wc)?await Yx({data:o.data,ccipRequest:t}):await t(o),s[a]=!1}catch(c){s[a]=!0,i[a]=N5(c)}})),C5({abi:vf,functionName:"query",result:[s,i]})}function N5(n){return n.name==="HttpRequestError"&&n.status?hh({abi:vf,errorName:"HttpError",args:[n.status,n.shortMessage]}):hh({abi:[Kx],errorName:"Error",args:["shortMessage"in n?n.shortMessage:n.message]})}function Xx(n){if(n.length!==66||n.indexOf("[")!==0||n.indexOf("]")!==65)return null;const e=`0x${n.slice(1,65)}`;return In(e)?e:null}function kf(n){let e=new Uint8Array(32).fill(0);if(!n)return ke(e);const t=n.split(".");for(let r=t.length-1;r>=0;r-=1){const s=Xx(t[r]),i=s?J0(s):zs(Fs(t[r]),"bytes");e=zs(jr([e,i]),"bytes")}return ke(e)}function B5(n){return`[${n.slice(2)}]`}function S5(n){const e=new Uint8Array(32).fill(0);return n?Xx(n)||zs(Fs(n)):ke(e)}function e1(n){const e=n.replace(/^\.|\.$/gm,"");if(e.length===0)return new Uint8Array(1);const t=new Uint8Array(Fs(e).byteLength+2);let r=0;const s=e.split(".");for(let i=0;i<s.length;i++){let o=Fs(s[i]);o.byteLength>255&&(o=Fs(B5(S5(s[i])))),t[r]=o.length,t.set(o,r+1),r+=o.length+1}return t.byteLength!==r+1?t.slice(0,r+1):t}function le(n,e,t){const r=n[e.name];if(typeof r=="function")return r;const s=n[t];return typeof s=="function"?s:i=>e(n,i)}class Ls extends D{constructor({body:e,cause:t,details:r,headers:s,status:i,url:o}){super("HTTP request failed.",{cause:t,details:r,metaMessages:[i&&`Status: ${i}`,`URL: ${yc(o)}`,e&&`Request body: ${wt(e)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=s,this.status=i,this.url=o}}class Xl extends D{constructor({body:e,error:t,url:r}){super("RPC Request failed.",{cause:t,details:t.message,metaMessages:[`URL: ${yc(r)}`,`Request body: ${wt(e)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=t.code,this.data=t.data}}class bh extends D{constructor({body:e,url:t}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${yc(t)}`,`Request body: ${wt(e)}`],name:"TimeoutError"})}}const T5=-1;class lt extends D{constructor(e,{code:t,docsPath:r,metaMessages:s,name:i,shortMessage:o}){super(o,{cause:e,docsPath:r,metaMessages:s||(e==null?void 0:e.metaMessages),name:i||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=i||e.name,this.code=e instanceof Xl?e.code:t??T5}}class At extends lt{constructor(e,t){super(e,t),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t.data}}class xa extends lt{constructor(e){super(e,{code:xa.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(xa,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class pa extends lt{constructor(e){super(e,{code:pa.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(pa,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class ga extends lt{constructor(e,{method:t}={}){super(e,{code:ga.code,name:"MethodNotFoundRpcError",shortMessage:`The method${t?` "${t}"`:""} does not exist / is not available.`})}}Object.defineProperty(ga,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class ma extends lt{constructor(e){super(e,{code:ma.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(ma,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class js extends lt{constructor(e){super(e,{code:js.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(js,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class ya extends lt{constructor(e){super(e,{code:ya.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(ya,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class wa extends lt{constructor(e){super(e,{code:wa.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(wa,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class $r extends lt{constructor(e){super(e,{code:$r.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty($r,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class Aa extends lt{constructor(e){super(e,{code:Aa.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(Aa,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class as extends lt{constructor(e,{method:t}={}){super(e,{code:as.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${t?` "${t}"`:""} is not supported.`})}}Object.defineProperty(as,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class yo extends lt{constructor(e){super(e,{code:yo.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(yo,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class Ea extends lt{constructor(e){super(e,{code:Ea.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(Ea,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class We extends At{constructor(e){super(e,{code:We.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(We,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class va extends At{constructor(e){super(e,{code:va.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(va,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class Pa extends At{constructor(e,{method:t}={}){super(e,{code:Pa.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${t?` " ${t}"`:""}.`})}}Object.defineProperty(Pa,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class Ia extends At{constructor(e){super(e,{code:Ia.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(Ia,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class Ca extends At{constructor(e){super(e,{code:Ca.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(Ca,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class Vs extends At{constructor(e){super(e,{code:Vs.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(Vs,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class Na extends At{constructor(e){super(e,{code:Na.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(Na,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class Ba extends At{constructor(e){super(e,{code:Ba.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(Ba,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class Sa extends At{constructor(e){super(e,{code:Sa.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(Sa,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class Ta extends At{constructor(e){super(e,{code:Ta.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(Ta,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class Oa extends At{constructor(e){super(e,{code:Oa.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(Oa,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class ka extends At{constructor(e){super(e,{code:ka.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(ka,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class Ra extends At{constructor(e){super(e,{code:Ra.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(Ra,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class O5 extends lt{constructor(e){super(e,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}const k5=3;function g0(n,{abi:e,address:t,args:r,docsPath:s,functionName:i,sender:o}){const a=n instanceof Zl?n:n instanceof D?n.walk(p=>"data"in p)||n.walk():{},{code:c,data:u,details:f,message:l,shortMessage:d}=a,h=n instanceof K0?new v5({functionName:i}):[k5,js.code].includes(c)&&(u||f||l||d)?new Of({abi:e,data:typeof u=="object"?u.data:u,functionName:i,message:a instanceof Xl?f:d??l}):n;return new Zx(h,{abi:e,args:r,contractAddress:t,docsPath:s,functionName:i,sender:o})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ed=BigInt(0),Rf=BigInt(1);function Ac(n){return n instanceof Uint8Array||ArrayBuffer.isView(n)&&n.constructor.name==="Uint8Array"}function td(n){if(!Ac(n))throw new Error("Uint8Array expected")}function Ua(n,e){if(typeof e!="boolean")throw new Error(n+" boolean expected, got "+e)}function Uc(n){const e=n.toString(16);return e.length&1?"0"+e:e}function t1(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);return n===""?ed:BigInt("0x"+n)}const n1=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",R5=Array.from({length:256},(n,e)=>e.toString(16).padStart(2,"0"));function Fa(n){if(td(n),n1)return n.toHex();let e="";for(let t=0;t<n.length;t++)e+=R5[n[t]];return e}const kn={_0:48,_9:57,A:65,F:70,a:97,f:102};function xh(n){if(n>=kn._0&&n<=kn._9)return n-kn._0;if(n>=kn.A&&n<=kn.F)return n-(kn.A-10);if(n>=kn.a&&n<=kn.f)return n-(kn.a-10)}function m0(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);if(n1)return Uint8Array.fromHex(n);const e=n.length,t=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(t);for(let s=0,i=0;s<t;s++,i+=2){const o=xh(n.charCodeAt(i)),a=xh(n.charCodeAt(i+1));if(o===void 0||a===void 0){const c=n[i]+n[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}r[s]=o*16+a}return r}function Ms(n){return t1(Fa(n))}function r1(n){return td(n),t1(Fa(Uint8Array.from(n).reverse()))}function Ec(n,e){return m0(n.toString(16).padStart(e*2,"0"))}function s1(n,e){return Ec(n,e).reverse()}function kt(n,e,t){let r;if(typeof e=="string")try{r=m0(e)}catch(i){throw new Error(n+" must be hex string or Uint8Array, cause: "+i)}else if(Ac(e))r=Uint8Array.from(e);else throw new Error(n+" must be hex string or Uint8Array");const s=r.length;if(typeof t=="number"&&s!==t)throw new Error(n+" of length "+t+" expected, got "+s);return r}function y0(...n){let e=0;for(let r=0;r<n.length;r++){const s=n[r];td(s),e+=s.length}const t=new Uint8Array(e);for(let r=0,s=0;r<n.length;r++){const i=n[r];t.set(i,s),s+=i.length}return t}const Ru=n=>typeof n=="bigint"&&ed<=n;function nd(n,e,t){return Ru(n)&&Ru(e)&&Ru(t)&&e<=n&&n<t}function Ai(n,e,t,r){if(!nd(e,t,r))throw new Error("expected valid "+n+": "+t+" <= n < "+r+", got "+e)}function U5(n){let e;for(e=0;n>ed;n>>=Rf,e+=1);return e}const eu=n=>(Rf<<BigInt(n))-Rf,Uu=n=>new Uint8Array(n),ph=n=>Uint8Array.from(n);function F5(n,e,t){if(typeof n!="number"||n<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof t!="function")throw new Error("hmacFn must be a function");let r=Uu(n),s=Uu(n),i=0;const o=()=>{r.fill(1),s.fill(0),i=0},a=(...l)=>t(s,r,...l),c=(l=Uu(0))=>{s=a(ph([0]),l),r=a(),l.length!==0&&(s=a(ph([1]),l),r=a())},u=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let l=0;const d=[];for(;l<e;){r=a();const h=r.slice();d.push(h),l+=r.length}return y0(...d)};return(l,d)=>{o(),c(l);let h;for(;!(h=d(u()));)c();return o(),h}}const L5={bigint:n=>typeof n=="bigint",function:n=>typeof n=="function",boolean:n=>typeof n=="boolean",string:n=>typeof n=="string",stringOrUint8Array:n=>typeof n=="string"||Ac(n),isSafeInteger:n=>Number.isSafeInteger(n),array:n=>Array.isArray(n),field:(n,e)=>e.Fp.isValid(n),hash:n=>typeof n=="function"&&Number.isSafeInteger(n.outputLen)};function tu(n,e,t={}){const r=(s,i,o)=>{const a=L5[i];if(typeof a!="function")throw new Error("invalid validator function");const c=n[s];if(!(o&&c===void 0)&&!a(c,n))throw new Error("param "+String(s)+" is invalid. Expected "+i+", got "+c)};for(const[s,i]of Object.entries(e))r(s,i,!1);for(const[s,i]of Object.entries(t))r(s,i,!0);return n}function gh(n){const e=new WeakMap;return(t,...r)=>{const s=e.get(t);if(s!==void 0)return s;const i=n(t,...r);return e.set(t,i),i}}const M5="0.1.1";function D5(){return M5}let i1=class Uf extends Error{constructor(e,t={}){const r=(()=>{var c;if(t.cause instanceof Uf){if(t.cause.details)return t.cause.details;if(t.cause.shortMessage)return t.cause.shortMessage}return t.cause&&"details"in t.cause&&typeof t.cause.details=="string"?t.cause.details:(c=t.cause)!=null&&c.message?t.cause.message:t.details})(),s=t.cause instanceof Uf&&t.cause.docsPath||t.docsPath,o=`https://oxlib.sh${s??""}`,a=[e||"An error occurred.",...t.metaMessages?["",...t.metaMessages]:[],...r||s?["",r?`Details: ${r}`:void 0,s?`See: ${o}`:void 0]:[]].filter(c=>typeof c=="string").join(`
`);super(a,t.cause?{cause:t.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${D5()}`}),this.cause=t.cause,this.details=r,this.docs=o,this.docsPath=s,this.shortMessage=e}walk(e){return o1(this,e)}};function o1(n,e){return e!=null&&e(n)?n:n&&typeof n=="object"&&"cause"in n&&n.cause?o1(n.cause,e):e?null:n}function $5(n,e={}){const{dir:t,size:r=32}=e;if(r===0)return n;const s=n.replace("0x","");if(s.length>r*2)throw new H5({size:Math.ceil(s.length/2),targetSize:r,type:"Hex"});return`0x${s[t==="right"?"padEnd":"padStart"](r*2,"0")}`}function Mn(n,e={}){const{signed:t,size:r}=e,s=BigInt(n);let i;r?t?i=(1n<<BigInt(r)*8n-1n)-1n:i=2n**(BigInt(r)*8n)-1n:typeof n=="number"&&(i=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof i=="bigint"&&t?-i-1n:0;if(i&&s>i||s<o){const u=typeof n=="bigint"?"n":"";throw new z5({max:i?`${i}${u}`:void 0,min:`${o}${u}`,signed:t,size:r,value:`${n}${u}`})}const c=`0x${(t&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?G5(c,r):c}function G5(n,e){return $5(n,{dir:"left",size:e})}class z5 extends i1{constructor({max:e,min:t,signed:r,size:s,value:i}){super(`Number \`${i}\` is not in safe${s?` ${s*8}-bit`:""}${r?" signed":" unsigned"} integer range ${e?`(\`${t}\` to \`${e}\`)`:`(above \`${t}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}class H5 extends i1{constructor({size:e,targetSize:t,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}function _5(n){return{address:n.address,amount:Mn(n.amount),index:Mn(n.index),validatorIndex:Mn(n.validatorIndex)}}function j5(n){return{...typeof n.baseFeePerGas=="bigint"&&{baseFeePerGas:Mn(n.baseFeePerGas)},...typeof n.blobBaseFee=="bigint"&&{blobBaseFee:Mn(n.blobBaseFee)},...typeof n.feeRecipient=="string"&&{feeRecipient:n.feeRecipient},...typeof n.gasLimit=="bigint"&&{gasLimit:Mn(n.gasLimit)},...typeof n.number=="bigint"&&{number:Mn(n.number)},...typeof n.prevRandao=="bigint"&&{prevRandao:Mn(n.prevRandao)},...typeof n.time=="bigint"&&{time:Mn(n.time)},...n.withdrawals&&{withdrawals:n.withdrawals.map(_5)}}}const V5="0x82ad56cb",K5="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",Q5="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",a1="0x608060405234801561001057600080fd5b506115b9806100206000396000f3fe6080604052600436106100f35760003560e01c80634d2301cc1161008a578063a8b0574e11610059578063a8b0574e14610325578063bce38bd714610350578063c3077fa914610380578063ee82ac5e146103b2576100f3565b80634d2301cc1461026257806372425d9d1461029f57806382ad56cb146102ca57806386d516e8146102fa576100f3565b80633408e470116100c65780633408e470146101af578063399542e9146101da5780633e64a6961461020c57806342cbb15c14610237576100f3565b80630f28c97d146100f8578063174dea7114610123578063252dba421461015357806327e86d6e14610184575b600080fd5b34801561010457600080fd5b5061010d6103ef565b60405161011a9190610c0a565b60405180910390f35b61013d60048036038101906101389190610c94565b6103f7565b60405161014a9190610e94565b60405180910390f35b61016d60048036038101906101689190610f0c565b610615565b60405161017b92919061101b565b60405180910390f35b34801561019057600080fd5b506101996107ab565b6040516101a69190611064565b60405180910390f35b3480156101bb57600080fd5b506101c46107b7565b6040516101d19190610c0a565b60405180910390f35b6101f460048036038101906101ef91906110ab565b6107bf565b6040516102039392919061110b565b60405180910390f35b34801561021857600080fd5b506102216107e1565b60405161022e9190610c0a565b60405180910390f35b34801561024357600080fd5b5061024c6107e9565b6040516102599190610c0a565b60405180910390f35b34801561026e57600080fd5b50610289600480360381019061028491906111a7565b6107f1565b6040516102969190610c0a565b60405180910390f35b3480156102ab57600080fd5b506102b4610812565b6040516102c19190610c0a565b60405180910390f35b6102e460048036038101906102df919061122a565b61081a565b6040516102f19190610e94565b60405180910390f35b34801561030657600080fd5b5061030f6109e4565b60405161031c9190610c0a565b60405180910390f35b34801561033157600080fd5b5061033a6109ec565b6040516103479190611286565b60405180910390f35b61036a600480360381019061036591906110ab565b6109f4565b6040516103779190610e94565b60405180910390f35b61039a60048036038101906103959190610f0c565b610ba6565b6040516103a99392919061110b565b60405180910390f35b3480156103be57600080fd5b506103d960048036038101906103d491906112cd565b610bca565b6040516103e69190611064565b60405180910390f35b600042905090565b60606000808484905090508067ffffffffffffffff81111561041c5761041b6112fa565b5b60405190808252806020026020018201604052801561045557816020015b610442610bd5565b81526020019060019003908161043a5790505b5092503660005b828110156105c957600085828151811061047957610478611329565b5b6020026020010151905087878381811061049657610495611329565b5b90506020028101906104a89190611367565b925060008360400135905080860195508360000160208101906104cb91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16818580606001906104f2919061138f565b604051610500929190611431565b60006040518083038185875af1925050503d806000811461053d576040519150601f19603f3d011682016040523d82523d6000602084013e610542565b606091505b5083600001846020018290528215151515815250505081516020850135176105bc577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260846000fd5b826001019250505061045c565b5082341461060c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610603906114a7565b60405180910390fd5b50505092915050565b6000606043915060008484905090508067ffffffffffffffff81111561063e5761063d6112fa565b5b60405190808252806020026020018201604052801561067157816020015b606081526020019060019003908161065c5790505b5091503660005b828110156107a157600087878381811061069557610694611329565b5b90506020028101906106a791906114c7565b92508260000160208101906106bc91906111a7565b73ffffffffffffffffffffffffffffffffffffffff168380602001906106e2919061138f565b6040516106f0929190611431565b6000604051808303816000865af19150503d806000811461072d576040519150601f19603f3d011682016040523d82523d6000602084013e610732565b606091505b5086848151811061074657610745611329565b5b60200260200101819052819250505080610795576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161078c9061153b565b60405180910390fd5b81600101915050610678565b5050509250929050565b60006001430340905090565b600046905090565b6000806060439250434091506107d68686866109f4565b905093509350939050565b600048905090565b600043905090565b60008173ffffffffffffffffffffffffffffffffffffffff16319050919050565b600044905090565b606060008383905090508067ffffffffffffffff81111561083e5761083d6112fa565b5b60405190808252806020026020018201604052801561087757816020015b610864610bd5565b81526020019060019003908161085c5790505b5091503660005b828110156109db57600084828151811061089b5761089a611329565b5b602002602001015190508686838181106108b8576108b7611329565b5b90506020028101906108ca919061155b565b92508260000160208101906108df91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060400190610905919061138f565b604051610913929190611431565b6000604051808303816000865af19150503d8060008114610950576040519150601f19603f3d011682016040523d82523d6000602084013e610955565b606091505b5082600001836020018290528215151515815250505080516020840135176109cf577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260646000fd5b8160010191505061087e565b50505092915050565b600045905090565b600041905090565b606060008383905090508067ffffffffffffffff811115610a1857610a176112fa565b5b604051908082528060200260200182016040528015610a5157816020015b610a3e610bd5565b815260200190600190039081610a365790505b5091503660005b82811015610b9c576000848281518110610a7557610a74611329565b5b60200260200101519050868683818110610a9257610a91611329565b5b9050602002810190610aa491906114c7565b9250826000016020810190610ab991906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060200190610adf919061138f565b604051610aed929190611431565b6000604051808303816000865af19150503d8060008114610b2a576040519150601f19603f3d011682016040523d82523d6000602084013e610b2f565b606091505b508260000183602001829052821515151581525050508715610b90578060000151610b8f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b869061153b565b60405180910390fd5b5b81600101915050610a58565b5050509392505050565b6000806060610bb7600186866107bf565b8093508194508295505050509250925092565b600081409050919050565b6040518060400160405280600015158152602001606081525090565b6000819050919050565b610c0481610bf1565b82525050565b6000602082019050610c1f6000830184610bfb565b92915050565b600080fd5b600080fd5b600080fd5b600080fd5b600080fd5b60008083601f840112610c5457610c53610c2f565b5b8235905067ffffffffffffffff811115610c7157610c70610c34565b5b602083019150836020820283011115610c8d57610c8c610c39565b5b9250929050565b60008060208385031215610cab57610caa610c25565b5b600083013567ffffffffffffffff811115610cc957610cc8610c2a565b5b610cd585828601610c3e565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b60008115159050919050565b610d2281610d0d565b82525050565b600081519050919050565b600082825260208201905092915050565b60005b83811015610d62578082015181840152602081019050610d47565b83811115610d71576000848401525b50505050565b6000601f19601f8301169050919050565b6000610d9382610d28565b610d9d8185610d33565b9350610dad818560208601610d44565b610db681610d77565b840191505092915050565b6000604083016000830151610dd96000860182610d19565b5060208301518482036020860152610df18282610d88565b9150508091505092915050565b6000610e0a8383610dc1565b905092915050565b6000602082019050919050565b6000610e2a82610ce1565b610e348185610cec565b935083602082028501610e4685610cfd565b8060005b85811015610e825784840389528151610e638582610dfe565b9450610e6e83610e12565b925060208a01995050600181019050610e4a565b50829750879550505050505092915050565b60006020820190508181036000830152610eae8184610e1f565b905092915050565b60008083601f840112610ecc57610ecb610c2f565b5b8235905067ffffffffffffffff811115610ee957610ee8610c34565b5b602083019150836020820283011115610f0557610f04610c39565b5b9250929050565b60008060208385031215610f2357610f22610c25565b5b600083013567ffffffffffffffff811115610f4157610f40610c2a565b5b610f4d85828601610eb6565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b6000610f918383610d88565b905092915050565b6000602082019050919050565b6000610fb182610f59565b610fbb8185610f64565b935083602082028501610fcd85610f75565b8060005b858110156110095784840389528151610fea8582610f85565b9450610ff583610f99565b925060208a01995050600181019050610fd1565b50829750879550505050505092915050565b60006040820190506110306000830185610bfb565b81810360208301526110428184610fa6565b90509392505050565b6000819050919050565b61105e8161104b565b82525050565b60006020820190506110796000830184611055565b92915050565b61108881610d0d565b811461109357600080fd5b50565b6000813590506110a58161107f565b92915050565b6000806000604084860312156110c4576110c3610c25565b5b60006110d286828701611096565b935050602084013567ffffffffffffffff8111156110f3576110f2610c2a565b5b6110ff86828701610eb6565b92509250509250925092565b60006060820190506111206000830186610bfb565b61112d6020830185611055565b818103604083015261113f8184610e1f565b9050949350505050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061117482611149565b9050919050565b61118481611169565b811461118f57600080fd5b50565b6000813590506111a18161117b565b92915050565b6000602082840312156111bd576111bc610c25565b5b60006111cb84828501611192565b91505092915050565b60008083601f8401126111ea576111e9610c2f565b5b8235905067ffffffffffffffff81111561120757611206610c34565b5b60208301915083602082028301111561122357611222610c39565b5b9250929050565b6000806020838503121561124157611240610c25565b5b600083013567ffffffffffffffff81111561125f5761125e610c2a565b5b61126b858286016111d4565b92509250509250929050565b61128081611169565b82525050565b600060208201905061129b6000830184611277565b92915050565b6112aa81610bf1565b81146112b557600080fd5b50565b6000813590506112c7816112a1565b92915050565b6000602082840312156112e3576112e2610c25565b5b60006112f1848285016112b8565b91505092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b600080fd5b600080fd5b600080fd5b60008235600160800383360303811261138357611382611358565b5b80830191505092915050565b600080833560016020038436030381126113ac576113ab611358565b5b80840192508235915067ffffffffffffffff8211156113ce576113cd61135d565b5b6020830192506001820236038313156113ea576113e9611362565b5b509250929050565b600081905092915050565b82818337600083830152505050565b600061141883856113f2565b93506114258385846113fd565b82840190509392505050565b600061143e82848661140c565b91508190509392505050565b600082825260208201905092915050565b7f4d756c746963616c6c333a2076616c7565206d69736d61746368000000000000600082015250565b6000611491601a8361144a565b915061149c8261145b565b602082019050919050565b600060208201905081810360008301526114c081611484565b9050919050565b6000823560016040038336030381126114e3576114e2611358565b5b80830191505092915050565b7f4d756c746963616c6c333a2063616c6c206661696c6564000000000000000000600082015250565b600061152560178361144a565b9150611530826114ef565b602082019050919050565b6000602082019050818103600083015261155481611518565b9050919050565b60008235600160600383360303811261157757611576611358565b5b8083019150509291505056fea264697066735822122020c1bc9aacf8e4a6507193432a895a8e77094f45a1395583f07b24e860ef06cd64736f6c634300080c0033",Fu="/docs/contract/encodeDeployData";function c1(n){const{abi:e,args:t,bytecode:r}=n;if(!t||t.length===0)return r;const s=e.find(o=>"type"in o&&o.type==="constructor");if(!s)throw new Wm({docsPath:Fu});if(!("inputs"in s))throw new eh({docsPath:Fu});if(!s.inputs||s.inputs.length===0)throw new eh({docsPath:Fu});const i=hc(s.inputs,t);return Bn([r,i])}class hi extends D{constructor({cause:e,message:t}={}){var s;const r=(s=t==null?void 0:t.replace("execution reverted: ",""))==null?void 0:s.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:e,name:"ExecutionRevertedError"})}}Object.defineProperty(hi,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(hi,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class Ks extends D{constructor({cause:e,maxFeePerGas:t}={}){super(`The fee cap (\`maxFeePerGas\`${t?` = ${ot(t)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:e,name:"FeeCapTooHighError"})}}Object.defineProperty(Ks,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class Ff extends D{constructor({cause:e,maxFeePerGas:t}={}){super(`The fee cap (\`maxFeePerGas\`${t?` = ${ot(t)}`:""} gwei) cannot be lower than the block base fee.`,{cause:e,name:"FeeCapTooLowError"})}}Object.defineProperty(Ff,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class Lf extends D{constructor({cause:e,nonce:t}={}){super(`Nonce provided for the transaction ${t?`(${t}) `:""}is higher than the next one expected.`,{cause:e,name:"NonceTooHighError"})}}Object.defineProperty(Lf,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class Mf extends D{constructor({cause:e,nonce:t}={}){super([`Nonce provided for the transaction ${t?`(${t}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:e,name:"NonceTooLowError"})}}Object.defineProperty(Mf,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class Df extends D{constructor({cause:e,nonce:t}={}){super(`Nonce provided for the transaction ${t?`(${t}) `:""}exceeds the maximum allowed nonce.`,{cause:e,name:"NonceMaxValueError"})}}Object.defineProperty(Df,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class $f extends D{constructor({cause:e}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:e,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty($f,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class Gf extends D{constructor({cause:e,gas:t}={}){super(`The amount of gas ${t?`(${t}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:e,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(Gf,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class zf extends D{constructor({cause:e,gas:t}={}){super(`The amount of gas ${t?`(${t}) `:""}provided for the transaction is too low.`,{cause:e,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(zf,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class Hf extends D{constructor({cause:e}){super("The transaction type is not supported for this chain.",{cause:e,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(Hf,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class La extends D{constructor({cause:e,maxPriorityFeePerGas:t,maxFeePerGas:r}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${t?` = ${ot(t)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${ot(r)} gwei`:""}).`].join(`
`),{cause:e,name:"TipAboveFeeCapError"})}}Object.defineProperty(La,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class nu extends D{constructor({cause:e}){super(`An error occurred while executing: ${e==null?void 0:e.shortMessage}`,{cause:e,name:"UnknownNodeError"})}}function rd(n,e){const t=(n.details||"").toLowerCase(),r=n instanceof D?n.walk(s=>(s==null?void 0:s.code)===hi.code):n;return r instanceof D?new hi({cause:n,message:r.details}):hi.nodeMessage.test(t)?new hi({cause:n,message:n.details}):Ks.nodeMessage.test(t)?new Ks({cause:n,maxFeePerGas:e==null?void 0:e.maxFeePerGas}):Ff.nodeMessage.test(t)?new Ff({cause:n,maxFeePerGas:e==null?void 0:e.maxFeePerGas}):Lf.nodeMessage.test(t)?new Lf({cause:n,nonce:e==null?void 0:e.nonce}):Mf.nodeMessage.test(t)?new Mf({cause:n,nonce:e==null?void 0:e.nonce}):Df.nodeMessage.test(t)?new Df({cause:n,nonce:e==null?void 0:e.nonce}):$f.nodeMessage.test(t)?new $f({cause:n}):Gf.nodeMessage.test(t)?new Gf({cause:n,gas:e==null?void 0:e.gas}):zf.nodeMessage.test(t)?new zf({cause:n,gas:e==null?void 0:e.gas}):Hf.nodeMessage.test(t)?new Hf({cause:n}):La.nodeMessage.test(t)?new La({cause:n,maxFeePerGas:e==null?void 0:e.maxFeePerGas,maxPriorityFeePerGas:e==null?void 0:e.maxPriorityFeePerGas}):new nu({cause:n})}function J5(n,{docsPath:e,...t}){const r=(()=>{const s=rd(n,t);return s instanceof nu?n:s})();return new E5(r,{docsPath:e,...t})}function sd(n,{format:e}){if(!e)return{};const t={};function r(i){const o=Object.keys(i);for(const a of o)a in n&&(t[a]=n[a]),i[a]&&typeof i[a]=="object"&&!Array.isArray(i[a])&&r(i[a])}const s=e(n||{});return r(s),t}function id(n,e){return({exclude:t,format:r})=>({exclude:t,format:(s,i)=>{const o=e(s,i);if(t)for(const a of t)delete o[a];return{...o,...r(s,i)}},type:n})}const W5={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function od(n,e){const t={};return typeof n.authorizationList<"u"&&(t.authorizationList=q5(n.authorizationList)),typeof n.accessList<"u"&&(t.accessList=n.accessList),typeof n.blobVersionedHashes<"u"&&(t.blobVersionedHashes=n.blobVersionedHashes),typeof n.blobs<"u"&&(typeof n.blobs[0]!="string"?t.blobs=n.blobs.map(r=>ke(r)):t.blobs=n.blobs),typeof n.data<"u"&&(t.data=n.data),n.account&&(t.from=n.account.address),typeof n.from<"u"&&(t.from=n.from),typeof n.gas<"u"&&(t.gas=Q(n.gas)),typeof n.gasPrice<"u"&&(t.gasPrice=Q(n.gasPrice)),typeof n.maxFeePerBlobGas<"u"&&(t.maxFeePerBlobGas=Q(n.maxFeePerBlobGas)),typeof n.maxFeePerGas<"u"&&(t.maxFeePerGas=Q(n.maxFeePerGas)),typeof n.maxPriorityFeePerGas<"u"&&(t.maxPriorityFeePerGas=Q(n.maxPriorityFeePerGas)),typeof n.nonce<"u"&&(t.nonce=Q(n.nonce)),typeof n.to<"u"&&(t.to=n.to),typeof n.type<"u"&&(t.type=W5[n.type]),typeof n.value<"u"&&(t.value=Q(n.value)),t}function q5(n){return n.map(e=>({address:e.address,r:e.r?Q(BigInt(e.r)):e.r,s:e.s?Q(BigInt(e.s)):e.s,chainId:Q(e.chainId),nonce:Q(e.nonce),...typeof e.yParity<"u"?{yParity:Q(e.yParity)}:{},...typeof e.v<"u"&&typeof e.yParity>"u"?{v:Q(e.v)}:{}}))}function u1(){let n=()=>{},e=()=>{};return{promise:new Promise((r,s)=>{n=r,e=s}),resolve:n,reject:e}}const Lu=new Map;function f1({fn:n,id:e,shouldSplitBatch:t,wait:r=0,sort:s}){const i=async()=>{const f=c();o();const l=f.map(({args:d})=>d);l.length!==0&&n(l).then(d=>{s&&Array.isArray(d)&&d.sort(s);for(let h=0;h<f.length;h++){const{resolve:p}=f[h];p==null||p([d[h],d])}}).catch(d=>{for(let h=0;h<f.length;h++){const{reject:p}=f[h];p==null||p(d)}})},o=()=>Lu.delete(e),a=()=>c().map(({args:f})=>f),c=()=>Lu.get(e)||[],u=f=>Lu.set(e,[...c(),f]);return{flush:o,async schedule(f){const{promise:l,resolve:d,reject:h}=u1();return(t==null?void 0:t([...a(),f]))&&i(),c().length>0?(u({args:f,resolve:d,reject:h}),l):(u({args:f,resolve:d,reject:h}),setTimeout(i,r),l)}}}function mh(n){if(!(!n||n.length===0))return n.reduce((e,{slot:t,value:r})=>{if(t.length!==66)throw new nh({size:t.length,targetSize:66,type:"hex"});if(r.length!==66)throw new nh({size:r.length,targetSize:66,type:"hex"});return e[t]=r,e},{})}function Z5(n){const{balance:e,nonce:t,state:r,stateDiff:s,code:i}=n,o={};if(i!==void 0&&(o.code=i),e!==void 0&&(o.balance=Q(e)),t!==void 0&&(o.nonce=Q(t)),r!==void 0&&(o.state=mh(r)),s!==void 0){if(o.state)throw new h5;o.stateDiff=mh(s)}return o}function l1(n){if(!n)return;const e={};for(const{address:t,...r}of n){if(!Ge(t,{strict:!1}))throw new ut({address:t});if(e[t])throw new d5({address:t});e[t]=Z5(r)}return e}const ru=2n**256n-1n;function su(n){const{account:e,gasPrice:t,maxFeePerGas:r,maxPriorityFeePerGas:s,to:i}=n,o=e?Sn(e):void 0;if(o&&!Ge(o.address))throw new ut({address:o.address});if(i&&!Ge(i))throw new ut({address:i});if(typeof t<"u"&&(typeof r<"u"||typeof s<"u"))throw new x5;if(r&&r>ru)throw new Ks({maxFeePerGas:r});if(s&&r&&s>r)throw new La({maxFeePerGas:r,maxPriorityFeePerGas:s})}async function ad(n,e){var $,W,B,T;const{account:t=n.account,authorizationList:r,batch:s=!!(($=n.batch)!=null&&$.multicall),blockNumber:i,blockTag:o=n.experimental_blockTag??"latest",accessList:a,blobs:c,blockOverrides:u,code:f,data:l,factory:d,factoryData:h,gas:p,gasPrice:x,maxFeePerBlobGas:m,maxFeePerGas:w,maxPriorityFeePerGas:C,nonce:v,to:P,value:g,stateOverride:E,...I}=e,S=t?Sn(t):void 0;if(f&&(d||h))throw new D("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(f&&P)throw new D("Cannot provide both `code` & `to` as parameters.");const k=f&&l,L=d&&h&&P&&l,R=k||L,z=k?d1({code:f,data:l}):L?e2({data:l,factory:d,factoryData:h,to:P}):l;try{su(e);const _=(typeof i=="bigint"?Q(i):void 0)||o,H=u?j5(u):void 0,j=l1(E),Z=(T=(B=(W=n.chain)==null?void 0:W.formatters)==null?void 0:B.transactionRequest)==null?void 0:T.format,me=(Z||od)({...sd(I,{format:Z}),accessList:a,account:S,authorizationList:r,blobs:c,data:z,gas:p,gasPrice:x,maxFeePerBlobGas:m,maxFeePerGas:w,maxPriorityFeePerGas:C,nonce:v,to:R?void 0:P,value:g},"call");if(s&&Y5({request:me})&&!j&&!H)try{return await X5(n,{...me,blockNumber:i,blockTag:o})}catch(Ae){if(!(Ae instanceof Vx)&&!(Ae instanceof Tf))throw Ae}const ye=(()=>{const Ae=[me,_];return j&&H?[...Ae,j,H]:j?[...Ae,j]:H?[...Ae,{},H]:Ae})(),be=await n.request({method:"eth_call",params:ye});return be==="0x"?{data:void 0}:{data:be}}catch(M){const _=t2(M),{offchainLookup:H,offchainLookupSignature:j}=await ax(async()=>{const{offchainLookup:Z,offchainLookupSignature:te}=await Promise.resolve().then(()=>ww);return{offchainLookup:Z,offchainLookupSignature:te}},void 0);if(n.ccipRead!==!1&&(_==null?void 0:_.slice(0,10))===j&&P)return{data:await H(n,{data:_,to:P})};throw R&&(_==null?void 0:_.slice(0,10))==="0x101bb98d"?new P5({factory:d}):J5(M,{...e,account:S,chain:n.chain})}}function Y5({request:n}){const{data:e,to:t,...r}=n;return!(!e||e.startsWith(V5)||!t||Object.values(r).filter(s=>typeof s<"u").length>0)}async function X5(n,e){var x;const{batchSize:t=1024,deployless:r=!1,wait:s=0}=typeof((x=n.batch)==null?void 0:x.multicall)=="object"?n.batch.multicall:{},{blockNumber:i,blockTag:o=n.experimental_blockTag??"latest",data:a,to:c}=e,u=(()=>{if(r)return null;if(e.multicallAddress)return e.multicallAddress;if(n.chain)return gc({blockNumber:i,chain:n.chain,contract:"multicall3"});throw new Vx})(),l=(typeof i=="bigint"?Q(i):void 0)||o,{schedule:d}=f1({id:`${n.uid}.${l}`,wait:s,shouldSplitBatch(m){return m.reduce((C,{data:v})=>C+(v.length-2),0)>t*2},fn:async m=>{const w=m.map(P=>({allowFailure:!0,callData:P.data,target:P.to})),C=Lo({abi:Ef,args:[w],functionName:"aggregate3"}),v=await n.request({method:"eth_call",params:[{...u===null?{data:d1({code:a1,data:C})}:{to:u,data:C}},l]});return pc({abi:Ef,args:[w],functionName:"aggregate3",data:v||"0x"})}}),[{returnData:h,success:p}]=await d({data:a,to:c});if(!p)throw new Zl({data:h});return h==="0x"?{data:void 0}:{data:h}}function d1(n){const{code:e,data:t}=n;return c1({abi:Hx(["constructor(bytes, bytes)"]),bytecode:K5,args:[e,t]})}function e2(n){const{data:e,factory:t,factoryData:r,to:s}=n;return c1({abi:Hx(["constructor(address, bytes, address, bytes)"]),bytecode:Q5,args:[s,e,t,r]})}function t2(n){var t;if(!(n instanceof D))return;const e=n.walk();return typeof(e==null?void 0:e.data)=="object"?(t=e.data)==null?void 0:t.data:e.data}async function Qs(n,e){const{abi:t,address:r,args:s,functionName:i,...o}=e,a=Lo({abi:t,args:s,functionName:i});try{const{data:c}=await le(n,ad,"call")({...o,data:a,to:r});return pc({abi:t,args:s,functionName:i,data:c||"0x"})}catch(c){throw g0(c,{abi:t,address:r,args:s,docsPath:"/docs/contract/readContract",functionName:i})}}async function n2(n,e){const{blockNumber:t,blockTag:r,coinType:s,name:i,gatewayUrls:o,strict:a}=e,{chain:c}=n,u=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return gc({blockNumber:t,chain:c,contract:"ensUniversalResolver"})})(),f=c==null?void 0:c.ensTlds;if(f&&!f.some(d=>i.endsWith(d)))return null;const l=s!=null?[kf(i),BigInt(s)]:[kf(i)];try{const d=Lo({abi:Xd,functionName:"addr",args:l}),h={address:u,abi:ux,functionName:"resolveWithGateways",args:[tn(e1(i)),d,o??[wc]],blockNumber:t,blockTag:r},x=await le(n,Qs,"readContract")(h);if(x[0]==="0x")return null;const m=pc({abi:Xd,args:l,functionName:"addr",data:x[0]});return m==="0x"||Cn(m)==="0x00"?null:m}catch(d){if(a)throw d;if(Yl(d))return null;throw d}}class r2 extends D{constructor({data:e}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(e)}`],name:"EnsAvatarInvalidMetadataError"})}}class Qo extends D{constructor({reason:e}){super(`ENS NFT avatar URI is invalid. ${e}`,{name:"EnsAvatarInvalidNftUriError"})}}class cd extends D{constructor({uri:e}){super(`Unable to resolve ENS avatar URI "${e}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class s2 extends D{constructor({namespace:e}){super(`ENS NFT avatar namespace "${e}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}const i2=/(?<protocol>https?:\/\/[^/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,o2=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,a2=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,c2=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function u2(n){try{const e=await fetch(n,{method:"HEAD"});if(e.status===200){const t=e.headers.get("content-type");return t==null?void 0:t.startsWith("image/")}return!1}catch(e){return typeof e=="object"&&typeof e.response<"u"||!Object.hasOwn(globalThis,"Image")?!1:new Promise(t=>{const r=new Image;r.onload=()=>{t(!0)},r.onerror=()=>{t(!1)},r.src=n})}}function yh(n,e){return n?n.endsWith("/")?n.slice(0,-1):n:e}function h1({uri:n,gatewayUrls:e}){const t=a2.test(n);if(t)return{uri:n,isOnChain:!0,isEncoded:t};const r=yh(e==null?void 0:e.ipfs,"https://ipfs.io"),s=yh(e==null?void 0:e.arweave,"https://arweave.net"),i=n.match(i2),{protocol:o,subpath:a,target:c,subtarget:u=""}=(i==null?void 0:i.groups)||{},f=o==="ipns:/"||a==="ipns/",l=o==="ipfs:/"||a==="ipfs/"||o2.test(n);if(n.startsWith("http")&&!f&&!l){let h=n;return e!=null&&e.arweave&&(h=n.replace(/https:\/\/arweave.net/g,e==null?void 0:e.arweave)),{uri:h,isOnChain:!1,isEncoded:!1}}if((f||l)&&c)return{uri:`${r}/${f?"ipns":"ipfs"}/${c}${u}`,isOnChain:!1,isEncoded:!1};if(o==="ar:/"&&c)return{uri:`${s}/${c}${u||""}`,isOnChain:!1,isEncoded:!1};let d=n.replace(c2,"");if(d.startsWith("<svg")&&(d=`data:image/svg+xml;base64,${btoa(d)}`),d.startsWith("data:")||d.startsWith("{"))return{uri:d,isOnChain:!0,isEncoded:!1};throw new cd({uri:n})}function b1(n){if(typeof n!="object"||!("image"in n)&&!("image_url"in n)&&!("image_data"in n))throw new r2({data:n});return n.image||n.image_url||n.image_data}async function f2({gatewayUrls:n,uri:e}){try{const t=await fetch(e).then(s=>s.json());return await ud({gatewayUrls:n,uri:b1(t)})}catch{throw new cd({uri:e})}}async function ud({gatewayUrls:n,uri:e}){const{uri:t,isOnChain:r}=h1({uri:e,gatewayUrls:n});if(r||await u2(t))return t;throw new cd({uri:e})}function l2(n){let e=n;e.startsWith("did:nft:")&&(e=e.replace("did:nft:","").replace(/_/g,"/"));const[t,r,s]=e.split("/"),[i,o]=t.split(":"),[a,c]=r.split(":");if(!i||i.toLowerCase()!=="eip155")throw new Qo({reason:"Only EIP-155 supported"});if(!o)throw new Qo({reason:"Chain ID not found"});if(!c)throw new Qo({reason:"Contract address not found"});if(!s)throw new Qo({reason:"Token ID not found"});if(!a)throw new Qo({reason:"ERC namespace not found"});return{chainID:Number.parseInt(o,10),namespace:a.toLowerCase(),contractAddress:c,tokenID:s}}async function d2(n,{nft:e}){if(e.namespace==="erc721")return Qs(n,{address:e.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(e.tokenID)]});if(e.namespace==="erc1155")return Qs(n,{address:e.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(e.tokenID)]});throw new s2({namespace:e.namespace})}async function h2(n,{gatewayUrls:e,record:t}){return/eip155:/i.test(t)?b2(n,{gatewayUrls:e,record:t}):ud({uri:t,gatewayUrls:e})}async function b2(n,{gatewayUrls:e,record:t}){const r=l2(t),s=await d2(n,{nft:r}),{uri:i,isOnChain:o,isEncoded:a}=h1({uri:s,gatewayUrls:e});if(o&&(i.includes("data:application/json;base64,")||i.startsWith("{"))){const u=a?atob(i.replace("data:application/json;base64,","")):i,f=JSON.parse(u);return ud({uri:b1(f),gatewayUrls:e})}let c=r.tokenID;return r.namespace==="erc1155"&&(c=c.replace("0x","").padStart(64,"0")),f2({gatewayUrls:e,uri:i.replace(/(?:0x)?{id}/,c)})}async function x2(n,e){const{blockNumber:t,blockTag:r,key:s,name:i,gatewayUrls:o,strict:a}=e,{chain:c}=n,u=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return gc({blockNumber:t,chain:c,contract:"ensUniversalResolver"})})(),f=c==null?void 0:c.ensTlds;if(f&&!f.some(l=>i.endsWith(l)))return null;try{const l={address:u,abi:ux,args:[tn(e1(i)),Lo({abi:Yd,functionName:"text",args:[kf(i),s]}),o??[wc]],functionName:"resolveWithGateways",blockNumber:t,blockTag:r},h=await le(n,Qs,"readContract")(l);if(h[0]==="0x")return null;const p=pc({abi:Yd,functionName:"text",data:h[0]});return p===""?null:p}catch(l){if(a)throw l;if(Yl(l))return null;throw l}}async function p2(n,{blockNumber:e,blockTag:t,assetGatewayUrls:r,name:s,gatewayUrls:i,strict:o,universalResolverAddress:a}){const c=await le(n,x2,"getEnsText")({blockNumber:e,blockTag:t,key:"avatar",name:s,universalResolverAddress:a,gatewayUrls:i,strict:o});if(!c)return null;try{return await h2(n,{record:c,gatewayUrls:r})}catch{return null}}async function g2(n,e){const{address:t,blockNumber:r,blockTag:s,coinType:i=60n,gatewayUrls:o,strict:a}=e,{chain:c}=n,u=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return gc({blockNumber:r,chain:c,contract:"ensUniversalResolver"})})();try{const f={address:u,abi:Qm,args:[t,i,o??[wc]],functionName:"reverseWithGateways",blockNumber:r,blockTag:s},l=le(n,Qs,"readContract"),[d]=await l(f);return d||null}catch(f){if(a)throw f;if(Yl(f))return null;throw f}}function m2(n){const e=zs(`0x${n.substring(4)}`).substring(26);return Z0(`0x${e}`)}async function y2({hash:n,signature:e}){const t=In(n)?n:tn(n),{secp256k1:r}=await ax(async()=>{const{secp256k1:o}=await Promise.resolve().then(()=>Zw);return{secp256k1:o}},void 0);return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:u,s:f,v:l,yParity:d}=e,h=Number(d??l),p=wh(h);return new r.Signature(Yt(u),Yt(f)).addRecoveryBit(p)}const o=In(e)?e:tn(e);if(Ce(o)!==65)throw new Error("invalid signature length");const a=_r(`0x${o.slice(130)}`),c=wh(a);return r.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(t.substring(2)).toHex(!1)}`}function wh(n){if(n===0||n===1)return n;if(n===27)return 0;if(n===28)return 1;throw new Error("Invalid yParityOrV value")}async function w2({hash:n,signature:e}){return m2(await y2({hash:n,signature:e}))}function Vr(n,e="hex"){const t=x1(n),r=Vl(new Uint8Array(t.length));return t.encode(r),e==="hex"?ke(r.bytes):r.bytes}function x1(n){return Array.isArray(n)?A2(n.map(e=>x1(e))):E2(n)}function A2(n){const e=n.reduce((s,i)=>s+i.length,0),t=p1(e);return{length:e<=55?1+e:1+t+e,encode(s){e<=55?s.pushByte(192+e):(s.pushByte(247+t),t===1?s.pushUint8(e):t===2?s.pushUint16(e):t===3?s.pushUint24(e):s.pushUint32(e));for(const{encode:i}of n)i(s)}}}function E2(n){const e=typeof n=="string"?Nn(n):n,t=p1(e.length);return{length:e.length===1&&e[0]<128?1:e.length<=55?1+e.length:1+t+e.length,encode(s){e.length===1&&e[0]<128?s.pushBytes(e):e.length<=55?(s.pushByte(128+e.length),s.pushBytes(e)):(s.pushByte(183+t),t===1?s.pushUint8(e.length):t===2?s.pushUint16(e.length):t===3?s.pushUint24(e.length):s.pushUint32(e.length),s.pushBytes(e))}}}function p1(n){if(n<2**8)return 1;if(n<2**16)return 2;if(n<2**24)return 3;if(n<2**32)return 4;throw new D("Length is too large.")}function v2(n){const{chainId:e,nonce:t,to:r}=n,s=n.contractAddress??n.address,i=zs(Bn(["0x05",Vr([e?Q(e):"0x",s,t?Q(t):"0x"])]));return r==="bytes"?Nn(i):i}async function g1(n){const{authorization:e,signature:t}=n;return w2({hash:v2(e),signature:t??e})}class P2 extends D{constructor(e,{account:t,docsPath:r,chain:s,data:i,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:f,to:l,value:d}){var p;const h=mc({from:t==null?void 0:t.address,to:l,value:typeof d<"u"&&`${ql(d)} ${((p=s==null?void 0:s.nativeCurrency)==null?void 0:p.symbol)||"ETH"}`,data:i,gas:o,gasPrice:typeof a<"u"&&`${ot(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${ot(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${ot(u)} gwei`,nonce:f});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Estimate Gas Arguments:",h].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}function I2(n,{docsPath:e,...t}){const r=(()=>{const s=rd(n,t);return s instanceof nu?n:s})();return new P2(r,{docsPath:e,...t})}class C2 extends D{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class fd extends D{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class N2 extends D{constructor({maxPriorityFeePerGas:e}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${ot(e)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class m1 extends D{constructor({blockHash:e,blockNumber:t}){let r="Block";e&&(r=`Block at hash "${e}"`),t&&(r=`Block at number "${t}"`),super(`${r} could not be found.`,{name:"BlockNotFoundError"})}}const y1={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function iu(n,e){const t={...n,blockHash:n.blockHash?n.blockHash:null,blockNumber:n.blockNumber?BigInt(n.blockNumber):null,chainId:n.chainId?_r(n.chainId):void 0,gas:n.gas?BigInt(n.gas):void 0,gasPrice:n.gasPrice?BigInt(n.gasPrice):void 0,maxFeePerBlobGas:n.maxFeePerBlobGas?BigInt(n.maxFeePerBlobGas):void 0,maxFeePerGas:n.maxFeePerGas?BigInt(n.maxFeePerGas):void 0,maxPriorityFeePerGas:n.maxPriorityFeePerGas?BigInt(n.maxPriorityFeePerGas):void 0,nonce:n.nonce?_r(n.nonce):void 0,to:n.to?n.to:null,transactionIndex:n.transactionIndex?Number(n.transactionIndex):null,type:n.type?y1[n.type]:void 0,typeHex:n.type?n.type:void 0,value:n.value?BigInt(n.value):void 0,v:n.v?BigInt(n.v):void 0};return n.authorizationList&&(t.authorizationList=S2(n.authorizationList)),t.yParity=(()=>{if(n.yParity)return Number(n.yParity);if(typeof t.v=="bigint"){if(t.v===0n||t.v===27n)return 0;if(t.v===1n||t.v===28n)return 1;if(t.v>=35n)return t.v%2n===0n?1:0}})(),t.type==="legacy"&&(delete t.accessList,delete t.maxFeePerBlobGas,delete t.maxFeePerGas,delete t.maxPriorityFeePerGas,delete t.yParity),t.type==="eip2930"&&(delete t.maxFeePerBlobGas,delete t.maxFeePerGas,delete t.maxPriorityFeePerGas),t.type==="eip1559"&&delete t.maxFeePerBlobGas,t}const B2=id("transaction",iu);function S2(n){return n.map(e=>({address:e.address,chainId:Number(e.chainId),nonce:Number(e.nonce),r:e.r,s:e.s,yParity:Number(e.yParity)}))}function w1(n,e){const t=(n.transactions??[]).map(r=>typeof r=="string"?r:iu(r));return{...n,baseFeePerGas:n.baseFeePerGas?BigInt(n.baseFeePerGas):null,blobGasUsed:n.blobGasUsed?BigInt(n.blobGasUsed):void 0,difficulty:n.difficulty?BigInt(n.difficulty):void 0,excessBlobGas:n.excessBlobGas?BigInt(n.excessBlobGas):void 0,gasLimit:n.gasLimit?BigInt(n.gasLimit):void 0,gasUsed:n.gasUsed?BigInt(n.gasUsed):void 0,hash:n.hash?n.hash:null,logsBloom:n.logsBloom?n.logsBloom:null,nonce:n.nonce?n.nonce:null,number:n.number?BigInt(n.number):null,size:n.size?BigInt(n.size):void 0,timestamp:n.timestamp?BigInt(n.timestamp):void 0,transactions:t,totalDifficulty:n.totalDifficulty?BigInt(n.totalDifficulty):null}}const T2=id("block",w1);async function Ma(n,{blockHash:e,blockNumber:t,blockTag:r=n.experimental_blockTag??"latest",includeTransactions:s}={}){var u,f,l;const i=s??!1,o=t!==void 0?Q(t):void 0;let a=null;if(e?a=await n.request({method:"eth_getBlockByHash",params:[e,i]},{dedupe:!0}):a=await n.request({method:"eth_getBlockByNumber",params:[o||r,i]},{dedupe:!!o}),!a)throw new m1({blockHash:e,blockNumber:t});return(((l=(f=(u=n.chain)==null?void 0:u.formatters)==null?void 0:f.block)==null?void 0:l.format)||w1)(a,"getBlock")}async function A1(n){const e=await n.request({method:"eth_gasPrice"});return BigInt(e)}async function O2(n,e){var i,o;const{block:t,chain:r=n.chain,request:s}=e||{};try{const a=((i=r==null?void 0:r.fees)==null?void 0:i.maxPriorityFeePerGas)??((o=r==null?void 0:r.fees)==null?void 0:o.defaultPriorityFee);if(typeof a=="function"){const u=t||await le(n,Ma,"getBlock")({}),f=await a({block:u,client:n,request:s});if(f===null)throw new Error;return f}if(typeof a<"u")return a;const c=await n.request({method:"eth_maxPriorityFeePerGas"});return Yt(c)}catch{const[a,c]=await Promise.all([t?Promise.resolve(t):le(n,Ma,"getBlock")({}),le(n,A1,"getGasPrice")({})]);if(typeof a.baseFeePerGas!="bigint")throw new fd;const u=c-a.baseFeePerGas;return u<0n?0n:u}}async function Ah(n,e){var d,h;const{block:t,chain:r=n.chain,request:s,type:i="eip1559"}=e||{},o=await(async()=>{var p,x;return typeof((p=r==null?void 0:r.fees)==null?void 0:p.baseFeeMultiplier)=="function"?r.fees.baseFeeMultiplier({block:t,client:n,request:s}):((x=r==null?void 0:r.fees)==null?void 0:x.baseFeeMultiplier)??1.2})();if(o<1)throw new C2;const c=10**(((d=o.toString().split(".")[1])==null?void 0:d.length)??0),u=p=>p*BigInt(Math.ceil(o*c))/BigInt(c),f=t||await le(n,Ma,"getBlock")({});if(typeof((h=r==null?void 0:r.fees)==null?void 0:h.estimateFeesPerGas)=="function"){const p=await r.fees.estimateFeesPerGas({block:t,client:n,multiply:u,request:s,type:i});if(p!==null)return p}if(i==="eip1559"){if(typeof f.baseFeePerGas!="bigint")throw new fd;const p=typeof(s==null?void 0:s.maxPriorityFeePerGas)=="bigint"?s.maxPriorityFeePerGas:await O2(n,{block:f,chain:r,request:s}),x=u(f.baseFeePerGas);return{maxFeePerGas:(s==null?void 0:s.maxFeePerGas)??x+p,maxPriorityFeePerGas:p}}return{gasPrice:(s==null?void 0:s.gasPrice)??u(await le(n,A1,"getGasPrice")({}))}}async function k2(n,{address:e,blockTag:t="latest",blockNumber:r}){const s=await n.request({method:"eth_getTransactionCount",params:[e,typeof r=="bigint"?Q(r):t]},{dedupe:!!r});return _r(s)}function ld(n){const{kzg:e}=n,t=n.to??(typeof n.blobs[0]=="string"?"hex":"bytes"),r=typeof n.blobs[0]=="string"?n.blobs.map(i=>Nn(i)):n.blobs,s=[];for(const i of r)s.push(Uint8Array.from(e.blobToKzgCommitment(i)));return t==="bytes"?s:s.map(i=>ke(i))}function dd(n){const{kzg:e}=n,t=n.to??(typeof n.blobs[0]=="string"?"hex":"bytes"),r=typeof n.blobs[0]=="string"?n.blobs.map(o=>Nn(o)):n.blobs,s=typeof n.commitments[0]=="string"?n.commitments.map(o=>Nn(o)):n.commitments,i=[];for(let o=0;o<r.length;o++){const a=r[o],c=s[o];i.push(Uint8Array.from(e.computeBlobKzgProof(a,c)))}return t==="bytes"?i:i.map(o=>ke(o))}function R2(n,e,t,r){if(typeof n.setBigUint64=="function")return n.setBigUint64(e,t,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(t>>s&i),a=Number(t&i),c=r?4:0,u=r?0:4;n.setUint32(e+c,o,r),n.setUint32(e+u,a,r)}function U2(n,e,t){return n&e^~n&t}function F2(n,e,t){return n&e^n&t^e&t}class L2 extends jl{constructor(e,t,r,s){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=s,this.buffer=new Uint8Array(e),this.view=Cu(this.buffer)}update(e){go(this),e=W0(e),Gs(e);const{view:t,buffer:r,blockLen:s}=this,i=e.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=Cu(e);for(;s<=i-o;o+=s)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){go(this),wx(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;t[o++]=128,mo(this.buffer.subarray(o)),this.padOffset>s-o&&(this.process(r,0),o=0);for(let l=o;l<s;l++)t[l]=0;R2(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=Cu(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,f=this.get();if(u>f.length)throw new Error("_sha2: outputLen bigger than state");for(let l=0;l<u;l++)a.setUint32(4*l,f[l],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return e.destroyed=o,e.finished=i,e.length=s,e.pos=a,s%t&&e.buffer.set(r),e}clone(){return this._cloneInto()}}const hr=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),M2=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),br=new Uint32Array(64);let D2=class extends L2{constructor(e=32){super(64,e,8,!1),this.A=hr[0]|0,this.B=hr[1]|0,this.C=hr[2]|0,this.D=hr[3]|0,this.E=hr[4]|0,this.F=hr[5]|0,this.G=hr[6]|0,this.H=hr[7]|0}get(){const{A:e,B:t,C:r,D:s,E:i,F:o,G:a,H:c}=this;return[e,t,r,s,i,o,a,c]}set(e,t,r,s,i,o,a,c){this.A=e|0,this.B=t|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,t){for(let l=0;l<16;l++,t+=4)br[l]=e.getUint32(t,!1);for(let l=16;l<64;l++){const d=br[l-15],h=br[l-2],p=on(d,7)^on(d,18)^d>>>3,x=on(h,17)^on(h,19)^h>>>10;br[l]=x+br[l-7]+p+br[l-16]|0}let{A:r,B:s,C:i,D:o,E:a,F:c,G:u,H:f}=this;for(let l=0;l<64;l++){const d=on(a,6)^on(a,11)^on(a,25),h=f+d+U2(a,c,u)+M2[l]+br[l]|0,x=(on(r,2)^on(r,13)^on(r,22))+F2(r,s,i)|0;f=u,u=c,c=a,a=o+h|0,o=i,i=s,s=r,r=h+x|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,f=f+this.H|0,this.set(r,s,i,o,a,c,u,f)}roundClean(){mo(br)}destroy(){this.set(0,0,0,0,0,0,0,0),mo(this.buffer)}};const E1=Ax(()=>new D2),$2=E1;function G2(n,e){return $2(In(n,{strict:!1})?J0(n):n)}function z2(n){const{commitment:e,version:t=1}=n,r=n.to??(typeof e=="string"?"hex":"bytes"),s=G2(e);return s.set([t],0),r==="bytes"?s:ke(s)}function v1(n){const{commitments:e,version:t}=n,r=n.to??(typeof e[0]=="string"?"hex":"bytes"),s=[];for(const i of e)s.push(z2({commitment:i,to:r,version:t}));return s}const Eh=6,P1=32,hd=4096,I1=P1*hd,vh=I1*Eh-1-1*hd*Eh,C1=1;class H2 extends D{constructor({maxSize:e,size:t}){super("Blob size is too large.",{metaMessages:[`Max: ${e} bytes`,`Given: ${t} bytes`],name:"BlobSizeTooLargeError"})}}class N1 extends D{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}class _2 extends D{constructor({hash:e,size:t}){super(`Versioned hash "${e}" size is invalid.`,{metaMessages:["Expected: 32",`Received: ${t}`],name:"InvalidVersionedHashSizeError"})}}class j2 extends D{constructor({hash:e,version:t}){super(`Versioned hash "${e}" version is invalid.`,{metaMessages:[`Expected: ${C1}`,`Received: ${t}`],name:"InvalidVersionedHashVersionError"})}}function V2(n){const e=n.to??(typeof n.data=="string"?"hex":"bytes"),t=typeof n.data=="string"?Nn(n.data):n.data,r=Ce(t);if(!r)throw new N1;if(r>vh)throw new H2({maxSize:vh,size:r});const s=[];let i=!0,o=0;for(;i;){const a=Vl(new Uint8Array(I1));let c=0;for(;c<hd;){const u=t.slice(o,o+(P1-1));if(a.pushByte(0),a.pushBytes(u),u.length<31){a.pushByte(128),i=!1;break}c++,o+=31}s.push(a)}return e==="bytes"?s.map(a=>a.bytes):s.map(a=>ke(a.bytes))}function B1(n){const{data:e,kzg:t,to:r}=n,s=n.blobs??V2({data:e,to:r}),i=n.commitments??ld({blobs:s,kzg:t,to:r}),o=n.proofs??dd({blobs:s,commitments:i,kzg:t,to:r}),a=[];for(let c=0;c<s.length;c++)a.push({blob:s[c],commitment:i[c],proof:o[c]});return a}function S1(n){if(n.type)return n.type;if(typeof n.authorizationList<"u")return"eip7702";if(typeof n.blobs<"u"||typeof n.blobVersionedHashes<"u"||typeof n.maxFeePerBlobGas<"u"||typeof n.sidecars<"u")return"eip4844";if(typeof n.maxFeePerGas<"u"||typeof n.maxPriorityFeePerGas<"u")return"eip1559";if(typeof n.gasPrice<"u")return typeof n.accessList<"u"?"eip2930":"legacy";throw new g5({transaction:n})}async function T1(n){const e=await n.request({method:"eth_chainId"},{dedupe:!0});return _r(e)}const O1=["blobVersionedHashes","chainId","fees","gas","nonce","type"],Ph=new Map;async function bd(n,e){const{account:t=n.account,blobs:r,chain:s,gas:i,kzg:o,nonce:a,nonceManager:c,parameters:u=O1,type:f}=e,l=t&&Sn(t),d={...e,...l?{from:l==null?void 0:l.address}:{}};let h;async function p(){return h||(h=await le(n,Ma,"getBlock")({blockTag:"latest"}),h)}let x;async function m(){return x||(s?s.id:typeof e.chainId<"u"?e.chainId:(x=await le(n,T1,"getChainId")({}),x))}if(u.includes("nonce")&&typeof a>"u"&&l)if(c){const w=await m();d.nonce=await c.consume({address:l.address,chainId:w,client:n})}else d.nonce=await le(n,k2,"getTransactionCount")({address:l.address,blockTag:"pending"});if((u.includes("blobVersionedHashes")||u.includes("sidecars"))&&r&&o){const w=ld({blobs:r,kzg:o});if(u.includes("blobVersionedHashes")){const C=v1({commitments:w,to:"hex"});d.blobVersionedHashes=C}if(u.includes("sidecars")){const C=dd({blobs:r,commitments:w,kzg:o}),v=B1({blobs:r,commitments:w,proofs:C,to:"hex"});d.sidecars=v}}if(u.includes("chainId")&&(d.chainId=await m()),(u.includes("fees")||u.includes("type"))&&typeof f>"u")try{d.type=S1(d)}catch{let w=Ph.get(n.uid);if(typeof w>"u"){const C=await p();w=typeof(C==null?void 0:C.baseFeePerGas)=="bigint",Ph.set(n.uid,w)}d.type=w?"eip1559":"legacy"}if(u.includes("fees"))if(d.type!=="legacy"&&d.type!=="eip2930"){if(typeof d.maxFeePerGas>"u"||typeof d.maxPriorityFeePerGas>"u"){const w=await p(),{maxFeePerGas:C,maxPriorityFeePerGas:v}=await Ah(n,{block:w,chain:s,request:d});if(typeof e.maxPriorityFeePerGas>"u"&&e.maxFeePerGas&&e.maxFeePerGas<v)throw new N2({maxPriorityFeePerGas:v});d.maxPriorityFeePerGas=v,d.maxFeePerGas=C}}else{if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")throw new fd;if(typeof e.gasPrice>"u"){const w=await p(),{gasPrice:C}=await Ah(n,{block:w,chain:s,request:d,type:"legacy"});d.gasPrice=C}}return u.includes("gas")&&typeof i>"u"&&(d.gas=await le(n,k1,"estimateGas")({...d,account:l,prepare:(l==null?void 0:l.type)==="local"?[]:["blobVersionedHashes"]})),su(d),delete d.parameters,d}async function k1(n,e){var o,a,c;const{account:t=n.account,prepare:r=!0}=e,s=t?Sn(t):void 0,i=(()=>{if(Array.isArray(r))return r;if((s==null?void 0:s.type)!=="local")return["blobVersionedHashes"]})();try{const{accessList:u,authorizationList:f,blobs:l,blobVersionedHashes:d,blockNumber:h,blockTag:p,data:x,gas:m,gasPrice:w,maxFeePerBlobGas:C,maxFeePerGas:v,maxPriorityFeePerGas:P,nonce:g,value:E,stateOverride:I,...S}=r?await bd(n,{...e,parameters:i}):e,L=(typeof h=="bigint"?Q(h):void 0)||p,R=l1(I),z=await(async()=>{if(S.to)return S.to;if(f&&f.length>0)return await g1({authorization:f[0]}).catch(()=>{throw new D("`to` is required. Could not infer from `authorizationList`")})})();su(e);const $=(c=(a=(o=n.chain)==null?void 0:o.formatters)==null?void 0:a.transactionRequest)==null?void 0:c.format,B=($||od)({...sd(S,{format:$}),account:s,accessList:u,authorizationList:f,blobs:l,blobVersionedHashes:d,data:x,gas:m,gasPrice:w,maxFeePerBlobGas:C,maxFeePerGas:v,maxPriorityFeePerGas:P,nonce:g,to:z,value:E},"estimateGas");return BigInt(await n.request({method:"eth_estimateGas",params:R?[B,L??n.experimental_blockTag??"latest",R]:L?[B,L]:[B]}))}catch(u){throw I2(u,{...e,account:s,chain:n.chain})}}async function K2(n,{address:e,blockNumber:t,blockTag:r=n.experimental_blockTag??"latest"}){const s=typeof t=="bigint"?Q(t):void 0,i=await n.request({method:"eth_getBalance",params:[e,s||r]});return BigInt(i)}const Q2=new Map,J2=new Map;function W2(n){const e=(s,i)=>({clear:()=>i.delete(s),get:()=>i.get(s),set:o=>i.set(s,o)}),t=e(n,Q2),r=e(n,J2);return{clear:()=>{t.clear(),r.clear()},promise:t,response:r}}async function q2(n,{cacheKey:e,cacheTime:t=Number.POSITIVE_INFINITY}){const r=W2(e),s=r.response.get();if(s&&t>0&&Date.now()-s.created.getTime()<t)return s.data;let i=r.promise.get();i||(i=n(),r.promise.set(i));try{const o=await i;return r.response.set({created:new Date,data:o}),o}finally{r.promise.clear()}}const Z2=n=>`blockNumber.${n}`;async function Y2(n,{cacheTime:e=n.cacheTime}={}){const t=await q2(()=>n.request({method:"eth_blockNumber"}),{cacheKey:Z2(n.uid),cacheTime:e});return BigInt(t)}function X2(n,e){if(!Ge(n,{strict:!1}))throw new ut({address:n});if(!Ge(e,{strict:!1}))throw new ut({address:e});return n.toLowerCase()===e.toLowerCase()}function ew(n,{args:e,eventName:t}={}){return{...n,blockHash:n.blockHash?n.blockHash:null,blockNumber:n.blockNumber?BigInt(n.blockNumber):null,logIndex:n.logIndex?Number(n.logIndex):null,transactionHash:n.transactionHash?n.transactionHash:null,transactionIndex:n.transactionIndex?Number(n.transactionIndex):null,...t?{args:e,eventName:t}:{}}}function tw(n){const{authorizationList:e}=n;if(e)for(const t of e){const{chainId:r}=t,s=t.address;if(!Ge(s))throw new ut({address:s});if(r<0)throw new Y0({chainId:r})}xd(n)}function nw(n){const{blobVersionedHashes:e}=n;if(e){if(e.length===0)throw new N1;for(const t of e){const r=Ce(t),s=_r(Hs(t,0,1));if(r!==32)throw new _2({hash:t,size:r});if(s!==C1)throw new j2({hash:t,version:s})}}xd(n)}function xd(n){const{chainId:e,maxPriorityFeePerGas:t,maxFeePerGas:r,to:s}=n;if(e<=0)throw new Y0({chainId:e});if(s&&!Ge(s))throw new ut({address:s});if(r&&r>ru)throw new Ks({maxFeePerGas:r});if(t&&r&&t>r)throw new La({maxFeePerGas:r,maxPriorityFeePerGas:t})}function rw(n){const{chainId:e,maxPriorityFeePerGas:t,gasPrice:r,maxFeePerGas:s,to:i}=n;if(e<=0)throw new Y0({chainId:e});if(i&&!Ge(i))throw new ut({address:i});if(t||s)throw new D("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(r&&r>ru)throw new Ks({maxFeePerGas:r})}function sw(n){const{chainId:e,maxPriorityFeePerGas:t,gasPrice:r,maxFeePerGas:s,to:i}=n;if(i&&!Ge(i))throw new ut({address:i});if(typeof e<"u"&&e<=0)throw new Y0({chainId:e});if(t||s)throw new D("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(r&&r>ru)throw new Ks({maxFeePerGas:r})}function ou(n){if(!n||n.length===0)return[];const e=[];for(let t=0;t<n.length;t++){const{address:r,storageKeys:s}=n[t];for(let i=0;i<s.length;i++)if(s[i].length-2!==64)throw new m5({storageKey:s[i]});if(!Ge(r,{strict:!1}))throw new ut({address:r});e.push([r,s])}return e}function iw(n,e){const t=S1(n);return t==="eip1559"?cw(n,e):t==="eip2930"?uw(n,e):t==="eip4844"?aw(n,e):t==="eip7702"?ow(n,e):fw(n,e)}function ow(n,e){const{authorizationList:t,chainId:r,gas:s,nonce:i,to:o,value:a,maxFeePerGas:c,maxPriorityFeePerGas:u,accessList:f,data:l}=n;tw(n);const d=ou(f),h=lw(t);return Bn(["0x04",Vr([Q(r),i?Q(i):"0x",u?Q(u):"0x",c?Q(c):"0x",s?Q(s):"0x",o??"0x",a?Q(a):"0x",l??"0x",d,h,...vc(n,e)])])}function aw(n,e){const{chainId:t,gas:r,nonce:s,to:i,value:o,maxFeePerBlobGas:a,maxFeePerGas:c,maxPriorityFeePerGas:u,accessList:f,data:l}=n;nw(n);let d=n.blobVersionedHashes,h=n.sidecars;if(n.blobs&&(typeof d>"u"||typeof h>"u")){const v=typeof n.blobs[0]=="string"?n.blobs:n.blobs.map(E=>ke(E)),P=n.kzg,g=ld({blobs:v,kzg:P});if(typeof d>"u"&&(d=v1({commitments:g})),typeof h>"u"){const E=dd({blobs:v,commitments:g,kzg:P});h=B1({blobs:v,commitments:g,proofs:E})}}const p=ou(f),x=[Q(t),s?Q(s):"0x",u?Q(u):"0x",c?Q(c):"0x",r?Q(r):"0x",i??"0x",o?Q(o):"0x",l??"0x",p,a?Q(a):"0x",d??[],...vc(n,e)],m=[],w=[],C=[];if(h)for(let v=0;v<h.length;v++){const{blob:P,commitment:g,proof:E}=h[v];m.push(P),w.push(g),C.push(E)}return Bn(["0x03",Vr(h?[x,m,w,C]:x)])}function cw(n,e){const{chainId:t,gas:r,nonce:s,to:i,value:o,maxFeePerGas:a,maxPriorityFeePerGas:c,accessList:u,data:f}=n;xd(n);const l=ou(u),d=[Q(t),s?Q(s):"0x",c?Q(c):"0x",a?Q(a):"0x",r?Q(r):"0x",i??"0x",o?Q(o):"0x",f??"0x",l,...vc(n,e)];return Bn(["0x02",Vr(d)])}function uw(n,e){const{chainId:t,gas:r,data:s,nonce:i,to:o,value:a,accessList:c,gasPrice:u}=n;rw(n);const f=ou(c),l=[Q(t),i?Q(i):"0x",u?Q(u):"0x",r?Q(r):"0x",o??"0x",a?Q(a):"0x",s??"0x",f,...vc(n,e)];return Bn(["0x01",Vr(l)])}function fw(n,e){const{chainId:t=0,gas:r,data:s,nonce:i,to:o,value:a,gasPrice:c}=n;sw(n);let u=[i?Q(i):"0x",c?Q(c):"0x",r?Q(r):"0x",o??"0x",a?Q(a):"0x",s??"0x"];if(e){const f=(()=>{if(e.v>=35n)return(e.v-35n)/2n>0?e.v:27n+(e.v===35n?0n:1n);if(t>0)return BigInt(t*2)+BigInt(35n+e.v-27n);const h=27n+(e.v===27n?0n:1n);if(e.v!==h)throw new p5({v:e.v});return h})(),l=Cn(e.r),d=Cn(e.s);u=[...u,Q(f),l==="0x00"?"0x":l,d==="0x00"?"0x":d]}else t>0&&(u=[...u,Q(t),"0x","0x"]);return Vr(u)}function vc(n,e){const t=e??n,{v:r,yParity:s}=t;if(typeof t.r>"u")return[];if(typeof t.s>"u")return[];if(typeof r>"u"&&typeof s>"u")return[];const i=Cn(t.r),o=Cn(t.s);return[typeof s=="number"?s?Q(1):"0x":r===0n?"0x":r===1n?Q(1):r===27n?"0x":Q(1),i==="0x00"?"0x":i,o==="0x00"?"0x":o]}function lw(n){if(!n||n.length===0)return[];const e=[];for(const t of n){const{chainId:r,nonce:s,...i}=t,o=t.address;e.push([r?tn(r):"0x",o,s?tn(s):"0x",...vc({},i)])}return e}const Fc=new q0(8192);function dw(n,{enabled:e=!0,id:t}){if(!e||!t)return n();if(Fc.get(t))return Fc.get(t);const r=n().finally(()=>Fc.delete(t));return Fc.set(t,r),r}async function _f(n){return new Promise(e=>setTimeout(e,n))}function w0(n,{delay:e=100,retryCount:t=2,shouldRetry:r=()=>!0}={}){return new Promise((s,i)=>{const o=async({count:a=0}={})=>{const c=async({error:u})=>{const f=typeof e=="function"?e({count:a,error:u}):e;f&&await _f(f),o({count:a+1})};try{const u=await n();s(u)}catch(u){if(a<t&&await r({count:a,error:u}))return c({error:u});i(u)}};o()})}function hw(n,e={}){return async(t,r={})=>{var l;const{dedupe:s=!1,methods:i,retryDelay:o=150,retryCount:a=3,uid:c}={...e,...r},{method:u}=t;if((l=i==null?void 0:i.exclude)!=null&&l.includes(u))throw new as(new Error("method not supported"),{method:u});if(i!=null&&i.include&&!i.include.includes(u))throw new as(new Error("method not supported"),{method:u});const f=s?Q0(`${c}.${wt(t)}`):void 0;return dw(()=>w0(async()=>{try{return await n(t)}catch(d){const h=d;switch(h.code){case xa.code:throw new xa(h);case pa.code:throw new pa(h);case ga.code:throw new ga(h,{method:t.method});case ma.code:throw new ma(h);case js.code:throw new js(h);case ya.code:throw new ya(h);case wa.code:throw new wa(h);case $r.code:throw new $r(h);case Aa.code:throw new Aa(h);case as.code:throw new as(h,{method:t.method});case yo.code:throw new yo(h);case Ea.code:throw new Ea(h);case We.code:throw new We(h);case va.code:throw new va(h);case Pa.code:throw new Pa(h);case Ia.code:throw new Ia(h);case Ca.code:throw new Ca(h);case Vs.code:throw new Vs(h);case Na.code:throw new Na(h);case Ba.code:throw new Ba(h);case Sa.code:throw new Sa(h);case Ta.code:throw new Ta(h);case Oa.code:throw new Oa(h);case ka.code:throw new ka(h);case Ra.code:throw new Ra(h);case 5e3:throw new We(h);default:throw d instanceof D?d:new O5(h)}}},{delay:({count:d,error:h})=>{var p;if(h&&h instanceof Ls){const x=(p=h==null?void 0:h.headers)==null?void 0:p.get("Retry-After");if(x!=null&&x.match(/\d/))return Number.parseInt(x,10)*1e3}return~~(1<<d)*o},retryCount:a,shouldRetry:({error:d})=>bw(d)}),{enabled:s,id:f})}}function bw(n){return"code"in n&&typeof n.code=="number"?n.code===-1||n.code===yo.code||n.code===js.code:n instanceof Ls&&n.status?n.status===403||n.status===408||n.status===413||n.status===429||n.status===500||n.status===502||n.status===503||n.status===504:!0}class xw extends D{constructor({callbackSelector:e,cause:t,data:r,extraData:s,sender:i,urls:o}){var a;super(t.shortMessage||"An error occurred while fetching for an offchain result.",{cause:t,metaMessages:[...t.metaMessages||[],(a=t.metaMessages)!=null&&a.length?"":[],"Offchain Gateway Call:",o&&["  Gateway URL(s):",...o.map(c=>`    ${yc(c)}`)],`  Sender: ${i}`,`  Data: ${r}`,`  Callback selector: ${e}`,`  Extra data: ${s}`].flat(),name:"OffchainLookupError"})}}class pw extends D{constructor({result:e,url:t}){super("Offchain gateway response is malformed. Response data must be a hex value.",{metaMessages:[`Gateway URL: ${yc(t)}`,`Response: ${wt(e)}`],name:"OffchainLookupResponseMalformedError"})}}class gw extends D{constructor({sender:e,to:t}){super("Reverted sender address does not match target contract address (`to`).",{metaMessages:[`Contract address: ${t}`,`OffchainLookup sender address: ${e}`],name:"OffchainLookupSenderMismatchError"})}}const mw="0x556f1830",R1={name:"OffchainLookup",type:"error",inputs:[{name:"sender",type:"address"},{name:"urls",type:"string[]"},{name:"callData",type:"bytes"},{name:"callbackFunction",type:"bytes4"},{name:"extraData",type:"bytes"}]};async function yw(n,{blockNumber:e,blockTag:t,data:r,to:s}){const{args:i}=Qx({data:r,abi:[R1]}),[o,a,c,u,f]=i,{ccipRead:l}=n,d=l&&typeof(l==null?void 0:l.request)=="function"?l.request:U1;try{if(!X2(s,o))throw new gw({sender:o,to:s});const h=a.includes(wc)?await Yx({data:c,ccipRequest:d}):await d({data:c,sender:o,urls:a}),{data:p}=await ad(n,{blockNumber:e,blockTag:t,data:jr([u,hc([{type:"bytes"},{type:"bytes"}],[h,f])]),to:s});return p}catch(h){throw new xw({callbackSelector:u,cause:h,data:r,extraData:f,sender:o,urls:a})}}async function U1({data:n,sender:e,urls:t}){var s;let r=new Error("An unknown error occurred.");for(let i=0;i<t.length;i++){const o=t[i],a=o.includes("{data}")?"GET":"POST",c=a==="POST"?{data:n,sender:e}:void 0,u=a==="POST"?{"Content-Type":"application/json"}:{};try{const f=await fetch(o.replace("{sender}",e.toLowerCase()).replace("{data}",n),{body:JSON.stringify(c),headers:u,method:a});let l;if((s=f.headers.get("Content-Type"))!=null&&s.startsWith("application/json")?l=(await f.json()).data:l=await f.text(),!f.ok){r=new Ls({body:c,details:l!=null&&l.error?wt(l.error):f.statusText,headers:f.headers,status:f.status,url:o});continue}if(!In(l)){r=new pw({result:l,url:o});continue}return l}catch(f){r=new Ls({body:c,details:f.message,url:o})}}throw r}const ww=Object.freeze(Object.defineProperty({__proto__:null,ccipRequest:U1,offchainLookup:yw,offchainLookupAbiItem:R1,offchainLookupSignature:mw},Symbol.toStringTag,{value:"Module"}));function Aw({chain:n,currentChainId:e}){if(!n)throw new o5;if(e!==n.id)throw new i5({chain:n,currentChainId:e})}function Xs(n){return{formatters:void 0,fees:void 0,serializers:void 0,...n}}function Ew(n,{docsPath:e,...t}){const r=(()=>{const s=rd(n,t);return s instanceof nu?n:s})();return new y5(r,{docsPath:e,...t})}const vw={"0x0":"reverted","0x1":"success"};function F1(n,e){const t={...n,blockNumber:n.blockNumber?BigInt(n.blockNumber):null,contractAddress:n.contractAddress?n.contractAddress:null,cumulativeGasUsed:n.cumulativeGasUsed?BigInt(n.cumulativeGasUsed):null,effectiveGasPrice:n.effectiveGasPrice?BigInt(n.effectiveGasPrice):null,gasUsed:n.gasUsed?BigInt(n.gasUsed):null,logs:n.logs?n.logs.map(r=>ew(r)):null,to:n.to?n.to:null,transactionIndex:n.transactionIndex?_r(n.transactionIndex):null,status:n.status?vw[n.status]:null,type:n.type?y1[n.type]||n.type:null};return n.blobGasPrice&&(t.blobGasPrice=BigInt(n.blobGasPrice)),n.blobGasUsed&&(t.blobGasUsed=BigInt(n.blobGasUsed)),t}const Pw=id("transactionReceipt",F1);function L1(n,{errorInstance:e=new Error("timed out"),timeout:t,signal:r}){return new Promise((s,i)=>{(async()=>{let o;try{const a=new AbortController;t>0&&(o=setTimeout(()=>{r?a.abort():i(e)},t)),s(await n({signal:(a==null?void 0:a.signal)||null}))}catch(a){(a==null?void 0:a.name)==="AbortError"&&i(e),i(a)}finally{clearTimeout(o)}})()})}function Iw(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const Ih=Iw();function Cw(n,e={}){return{async request(t){var d;const{body:r,fetchFn:s=e.fetchFn??fetch,onRequest:i=e.onRequest,onResponse:o=e.onResponse,timeout:a=e.timeout??1e4}=t,c={...e.fetchOptions??{},...t.fetchOptions??{}},{headers:u,method:f,signal:l}=c;try{const h=await L1(async({signal:x})=>{const m={...c,body:Array.isArray(r)?wt(r.map(P=>({jsonrpc:"2.0",id:P.id??Ih.take(),...P}))):wt({jsonrpc:"2.0",id:r.id??Ih.take(),...r}),headers:{"Content-Type":"application/json",...u},method:f||"POST",signal:l||(a>0?x:null)},w=new Request(n,m),C=await(i==null?void 0:i(w,m))??{...m,url:n};return await s(C.url??n,C)},{errorInstance:new bh({body:r,url:n}),timeout:a,signal:!0});o&&await o(h);let p;if((d=h.headers.get("Content-Type"))!=null&&d.startsWith("application/json"))p=await h.json();else{p=await h.text();try{p=JSON.parse(p||"{}")}catch(x){if(h.ok)throw x;p={error:p}}}if(!h.ok)throw new Ls({body:r,details:wt(p.error)||h.statusText,headers:h.headers,status:h.status,url:n});return p}catch(h){throw h instanceof Ls||h instanceof bh?h:new Ls({body:r,cause:h,url:n})}}}}let M1=class extends jl{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,Ay(e);const r=W0(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(r.length>s?e.create().update(r).digest():r);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),mo(i)}update(e){return go(this),this.iHash.update(e),this}digestInto(e){go(this),Gs(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:s,destroyed:i,blockLen:o,outputLen:a}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const D1=(n,e,t)=>new M1(n,e).update(t).digest();D1.create=(n,e)=>new M1(n,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const it=BigInt(0),Ye=BigInt(1),cs=BigInt(2),Nw=BigInt(3),$1=BigInt(4),G1=BigInt(5),z1=BigInt(8);function nt(n,e){const t=n%e;return t>=it?t:e+t}function Pt(n,e,t){let r=n;for(;e-- >it;)r*=r,r%=t;return r}function jf(n,e){if(n===it)throw new Error("invert: expected non-zero number");if(e<=it)throw new Error("invert: expected positive modulus, got "+e);let t=nt(n,e),r=e,s=it,i=Ye;for(;t!==it;){const a=r/t,c=r%t,u=s-i*a;r=t,t=c,s=i,i=u}if(r!==Ye)throw new Error("invert: does not exist");return nt(s,e)}function H1(n,e){const t=(n.ORDER+Ye)/$1,r=n.pow(e,t);if(!n.eql(n.sqr(r),e))throw new Error("Cannot find square root");return r}function Bw(n,e){const t=(n.ORDER-G1)/z1,r=n.mul(e,cs),s=n.pow(r,t),i=n.mul(e,s),o=n.mul(n.mul(i,cs),s),a=n.mul(i,n.sub(o,n.ONE));if(!n.eql(n.sqr(a),e))throw new Error("Cannot find square root");return a}function Sw(n){if(n<BigInt(3))throw new Error("sqrt is not defined for small field");let e=n-Ye,t=0;for(;e%cs===it;)e/=cs,t++;let r=cs;const s=pd(n);for(;Ch(s,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(t===1)return H1;let i=s.pow(r,e);const o=(e+Ye)/cs;return function(c,u){if(c.is0(u))return u;if(Ch(c,u)!==1)throw new Error("Cannot find square root");let f=t,l=c.mul(c.ONE,i),d=c.pow(u,e),h=c.pow(u,o);for(;!c.eql(d,c.ONE);){if(c.is0(d))return c.ZERO;let p=1,x=c.sqr(d);for(;!c.eql(x,c.ONE);)if(p++,x=c.sqr(x),p===f)throw new Error("Cannot find square root");const m=Ye<<BigInt(f-p-1),w=c.pow(l,m);f=p,l=c.sqr(w),d=c.mul(d,l),h=c.mul(h,w)}return h}}function Tw(n){return n%$1===Nw?H1:n%z1===G1?Bw:Sw(n)}const Ow=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function kw(n){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},t=Ow.reduce((r,s)=>(r[s]="function",r),e);return tu(n,t)}function Rw(n,e,t){if(t<it)throw new Error("invalid exponent, negatives unsupported");if(t===it)return n.ONE;if(t===Ye)return e;let r=n.ONE,s=e;for(;t>it;)t&Ye&&(r=n.mul(r,s)),s=n.sqr(s),t>>=Ye;return r}function _1(n,e,t=!1){const r=new Array(e.length).fill(t?n.ZERO:void 0),s=e.reduce((o,a,c)=>n.is0(a)?o:(r[c]=o,n.mul(o,a)),n.ONE),i=n.inv(s);return e.reduceRight((o,a,c)=>n.is0(a)?o:(r[c]=n.mul(o,r[c]),n.mul(o,a)),i),r}function Ch(n,e){const t=(n.ORDER-Ye)/cs,r=n.pow(e,t),s=n.eql(r,n.ONE),i=n.eql(r,n.ZERO),o=n.eql(r,n.neg(n.ONE));if(!s&&!i&&!o)throw new Error("invalid Legendre symbol result");return s?1:i?0:-1}function j1(n,e){e!==void 0&&ha(e);const t=e!==void 0?e:n.toString(2).length,r=Math.ceil(t/8);return{nBitLength:t,nByteLength:r}}function pd(n,e,t=!1,r={}){if(n<=it)throw new Error("invalid field: expected ORDER > 0, got "+n);const{nBitLength:s,nByteLength:i}=j1(n,e);if(i>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:n,isLE:t,BITS:s,BYTES:i,MASK:eu(s),ZERO:it,ONE:Ye,create:c=>nt(c,n),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return it<=c&&c<n},is0:c=>c===it,isOdd:c=>(c&Ye)===Ye,neg:c=>nt(-c,n),eql:(c,u)=>c===u,sqr:c=>nt(c*c,n),add:(c,u)=>nt(c+u,n),sub:(c,u)=>nt(c-u,n),mul:(c,u)=>nt(c*u,n),pow:(c,u)=>Rw(a,c,u),div:(c,u)=>nt(c*jf(u,n),n),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>jf(c,n),sqrt:r.sqrt||(c=>(o||(o=Tw(n)),o(a,c))),toBytes:c=>t?s1(c,i):Ec(c,i),fromBytes:c=>{if(c.length!==i)throw new Error("Field.fromBytes: expected "+i+" bytes, got "+c.length);return t?r1(c):Ms(c)},invertBatch:c=>_1(a,c),cmov:(c,u,f)=>f?u:c});return Object.freeze(a)}function V1(n){if(typeof n!="bigint")throw new Error("field order must be bigint");const e=n.toString(2).length;return Math.ceil(e/8)}function K1(n){const e=V1(n);return e+Math.ceil(e/2)}function Uw(n,e,t=!1){const r=n.length,s=V1(e),i=K1(e);if(r<16||r<i||r>1024)throw new Error("expected "+i+"-1024 bytes of input, got "+r);const o=t?r1(n):Ms(n),a=nt(o,e-Ye)+Ye;return t?s1(a,s):Ec(a,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Nh=BigInt(0),Vf=BigInt(1);function Mu(n,e){const t=e.negate();return n?t:e}function Q1(n,e){if(!Number.isSafeInteger(n)||n<=0||n>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+n)}function Du(n,e){Q1(n,e);const t=Math.ceil(e/n)+1,r=2**(n-1),s=2**n,i=eu(n),o=BigInt(n);return{windows:t,windowSize:r,mask:i,maxNumber:s,shiftBy:o}}function Bh(n,e,t){const{windowSize:r,mask:s,maxNumber:i,shiftBy:o}=t;let a=Number(n&s),c=n>>o;a>r&&(a-=i,c+=Vf);const u=e*r,f=u+Math.abs(a)-1,l=a===0,d=a<0,h=e%2!==0;return{nextN:c,offset:f,isZero:l,isNeg:d,isNegF:h,offsetF:u}}function Fw(n,e){if(!Array.isArray(n))throw new Error("array expected");n.forEach((t,r)=>{if(!(t instanceof e))throw new Error("invalid point at index "+r)})}function Lw(n,e){if(!Array.isArray(n))throw new Error("array of scalars expected");n.forEach((t,r)=>{if(!e.isValid(t))throw new Error("invalid scalar at index "+r)})}const $u=new WeakMap,J1=new WeakMap;function Gu(n){return J1.get(n)||1}function Mw(n,e){return{constTimeNegate:Mu,hasPrecomputes(t){return Gu(t)!==1},unsafeLadder(t,r,s=n.ZERO){let i=t;for(;r>Nh;)r&Vf&&(s=s.add(i)),i=i.double(),r>>=Vf;return s},precomputeWindow(t,r){const{windows:s,windowSize:i}=Du(r,e),o=[];let a=t,c=a;for(let u=0;u<s;u++){c=a,o.push(c);for(let f=1;f<i;f++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(t,r,s){let i=n.ZERO,o=n.BASE;const a=Du(t,e);for(let c=0;c<a.windows;c++){const{nextN:u,offset:f,isZero:l,isNeg:d,isNegF:h,offsetF:p}=Bh(s,c,a);s=u,l?o=o.add(Mu(h,r[p])):i=i.add(Mu(d,r[f]))}return{p:i,f:o}},wNAFUnsafe(t,r,s,i=n.ZERO){const o=Du(t,e);for(let a=0;a<o.windows&&s!==Nh;a++){const{nextN:c,offset:u,isZero:f,isNeg:l}=Bh(s,a,o);if(s=c,!f){const d=r[u];i=i.add(l?d.negate():d)}}return i},getPrecomputes(t,r,s){let i=$u.get(r);return i||(i=this.precomputeWindow(r,t),t!==1&&$u.set(r,s(i))),i},wNAFCached(t,r,s){const i=Gu(t);return this.wNAF(i,this.getPrecomputes(i,t,s),r)},wNAFCachedUnsafe(t,r,s,i){const o=Gu(t);return o===1?this.unsafeLadder(t,r,i):this.wNAFUnsafe(o,this.getPrecomputes(o,t,s),r,i)},setWindowSize(t,r){Q1(r,e),J1.set(t,r),$u.delete(t)}}}function Dw(n,e,t,r){Fw(t,n),Lw(r,e);const s=t.length,i=r.length;if(s!==i)throw new Error("arrays of points and scalars must have equal length");const o=n.ZERO,a=U5(BigInt(s));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const u=eu(c),f=new Array(Number(u)+1).fill(o),l=Math.floor((e.BITS-1)/c)*c;let d=o;for(let h=l;h>=0;h-=c){f.fill(o);for(let x=0;x<i;x++){const m=r[x],w=Number(m>>BigInt(h)&u);f[w]=f[w].add(t[x])}let p=o;for(let x=f.length-1,m=o;x>0;x--)m=m.add(f[x]),p=p.add(m);if(d=d.add(p),h!==0)for(let x=0;x<c;x++)d=d.double()}return d}function W1(n){return kw(n.Fp),tu(n,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...j1(n.n,n.nBitLength),...n,p:n.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Sh(n){n.lowS!==void 0&&Ua("lowS",n.lowS),n.prehash!==void 0&&Ua("prehash",n.prehash)}function $w(n){const e=W1(n);tu(e,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:t,Fp:r,a:s}=e;if(t){if(!r.eql(s,r.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof t!="object"||typeof t.beta!="bigint"||typeof t.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...e})}class Gw extends Error{constructor(e=""){super(e)}}const Dn={Err:Gw,_tlv:{encode:(n,e)=>{const{Err:t}=Dn;if(n<0||n>256)throw new t("tlv.encode: wrong tag");if(e.length&1)throw new t("tlv.encode: unpadded data");const r=e.length/2,s=Uc(r);if(s.length/2&128)throw new t("tlv.encode: long form length too big");const i=r>127?Uc(s.length/2|128):"";return Uc(n)+i+s+e},decode(n,e){const{Err:t}=Dn;let r=0;if(n<0||n>256)throw new t("tlv.encode: wrong tag");if(e.length<2||e[r++]!==n)throw new t("tlv.decode: wrong tlv");const s=e[r++],i=!!(s&128);let o=0;if(!i)o=s;else{const c=s&127;if(!c)throw new t("tlv.decode(long): indefinite length not supported");if(c>4)throw new t("tlv.decode(long): byte length is too big");const u=e.subarray(r,r+c);if(u.length!==c)throw new t("tlv.decode: length bytes not complete");if(u[0]===0)throw new t("tlv.decode(long): zero leftmost byte");for(const f of u)o=o<<8|f;if(r+=c,o<128)throw new t("tlv.decode(long): not minimal encoding")}const a=e.subarray(r,r+o);if(a.length!==o)throw new t("tlv.decode: wrong value length");return{v:a,l:e.subarray(r+o)}}},_int:{encode(n){const{Err:e}=Dn;if(n<Zn)throw new e("integer: negative integers are not allowed");let t=Uc(n);if(Number.parseInt(t[0],16)&8&&(t="00"+t),t.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return t},decode(n){const{Err:e}=Dn;if(n[0]&128)throw new e("invalid signature integer: negative");if(n[0]===0&&!(n[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return Ms(n)}},toSig(n){const{Err:e,_int:t,_tlv:r}=Dn,s=kt("signature",n),{v:i,l:o}=r.decode(48,s);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l:c}=r.decode(2,i),{v:u,l:f}=r.decode(2,c);if(f.length)throw new e("invalid signature: left bytes after parsing");return{r:t.decode(a),s:t.decode(u)}},hexFromSig(n){const{_tlv:e,_int:t}=Dn,r=e.encode(2,t.encode(n.r)),s=e.encode(2,t.encode(n.s)),i=r+s;return e.encode(48,i)}};function zu(n,e){return Fa(Ec(n,e))}const Zn=BigInt(0),Be=BigInt(1);BigInt(2);const Hu=BigInt(3),zw=BigInt(4);function Hw(n){const e=$w(n),{Fp:t}=e,r=pd(e.n,e.nBitLength),s=e.toBytes||((v,P,g)=>{const E=P.toAffine();return y0(Uint8Array.from([4]),t.toBytes(E.x),t.toBytes(E.y))}),i=e.fromBytes||(v=>{const P=v.subarray(1),g=t.fromBytes(P.subarray(0,t.BYTES)),E=t.fromBytes(P.subarray(t.BYTES,2*t.BYTES));return{x:g,y:E}});function o(v){const{a:P,b:g}=e,E=t.sqr(v),I=t.mul(E,v);return t.add(t.add(I,t.mul(v,P)),g)}function a(v,P){const g=t.sqr(P),E=o(v);return t.eql(g,E)}if(!a(e.Gx,e.Gy))throw new Error("bad curve params: generator point");const c=t.mul(t.pow(e.a,Hu),zw),u=t.mul(t.sqr(e.b),BigInt(27));if(t.is0(t.add(c,u)))throw new Error("bad curve params: a or b");function f(v){return nd(v,Be,e.n)}function l(v){const{allowedPrivateKeyLengths:P,nByteLength:g,wrapPrivateKey:E,n:I}=e;if(P&&typeof v!="bigint"){if(Ac(v)&&(v=Fa(v)),typeof v!="string"||!P.includes(v.length))throw new Error("invalid private key");v=v.padStart(g*2,"0")}let S;try{S=typeof v=="bigint"?v:Ms(kt("private key",v,g))}catch{throw new Error("invalid private key, expected hex or "+g+" bytes, got "+typeof v)}return E&&(S=nt(S,I)),Ai("private key",S,Be,I),S}function d(v){if(!(v instanceof x))throw new Error("ProjectivePoint expected")}const h=gh((v,P)=>{const{px:g,py:E,pz:I}=v;if(t.eql(I,t.ONE))return{x:g,y:E};const S=v.is0();P==null&&(P=S?t.ONE:t.inv(I));const k=t.mul(g,P),L=t.mul(E,P),R=t.mul(I,P);if(S)return{x:t.ZERO,y:t.ZERO};if(!t.eql(R,t.ONE))throw new Error("invZ was invalid");return{x:k,y:L}}),p=gh(v=>{if(v.is0()){if(e.allowInfinityPoint&&!t.is0(v.py))return;throw new Error("bad point: ZERO")}const{x:P,y:g}=v.toAffine();if(!t.isValid(P)||!t.isValid(g))throw new Error("bad point: x or y not FE");if(!a(P,g))throw new Error("bad point: equation left != right");if(!v.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class x{constructor(P,g,E){if(P==null||!t.isValid(P))throw new Error("x required");if(g==null||!t.isValid(g)||t.is0(g))throw new Error("y required");if(E==null||!t.isValid(E))throw new Error("z required");this.px=P,this.py=g,this.pz=E,Object.freeze(this)}static fromAffine(P){const{x:g,y:E}=P||{};if(!P||!t.isValid(g)||!t.isValid(E))throw new Error("invalid affine point");if(P instanceof x)throw new Error("projective point not allowed");const I=S=>t.eql(S,t.ZERO);return I(g)&&I(E)?x.ZERO:new x(g,E,t.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(P){const g=_1(t,P.map(E=>E.pz));return P.map((E,I)=>E.toAffine(g[I])).map(x.fromAffine)}static fromHex(P){const g=x.fromAffine(i(kt("pointHex",P)));return g.assertValidity(),g}static fromPrivateKey(P){return x.BASE.multiply(l(P))}static msm(P,g){return Dw(x,r,P,g)}_setWindowSize(P){C.setWindowSize(this,P)}assertValidity(){p(this)}hasEvenY(){const{y:P}=this.toAffine();if(t.isOdd)return!t.isOdd(P);throw new Error("Field doesn't support isOdd")}equals(P){d(P);const{px:g,py:E,pz:I}=this,{px:S,py:k,pz:L}=P,R=t.eql(t.mul(g,L),t.mul(S,I)),z=t.eql(t.mul(E,L),t.mul(k,I));return R&&z}negate(){return new x(this.px,t.neg(this.py),this.pz)}double(){const{a:P,b:g}=e,E=t.mul(g,Hu),{px:I,py:S,pz:k}=this;let L=t.ZERO,R=t.ZERO,z=t.ZERO,$=t.mul(I,I),W=t.mul(S,S),B=t.mul(k,k),T=t.mul(I,S);return T=t.add(T,T),z=t.mul(I,k),z=t.add(z,z),L=t.mul(P,z),R=t.mul(E,B),R=t.add(L,R),L=t.sub(W,R),R=t.add(W,R),R=t.mul(L,R),L=t.mul(T,L),z=t.mul(E,z),B=t.mul(P,B),T=t.sub($,B),T=t.mul(P,T),T=t.add(T,z),z=t.add($,$),$=t.add(z,$),$=t.add($,B),$=t.mul($,T),R=t.add(R,$),B=t.mul(S,k),B=t.add(B,B),$=t.mul(B,T),L=t.sub(L,$),z=t.mul(B,W),z=t.add(z,z),z=t.add(z,z),new x(L,R,z)}add(P){d(P);const{px:g,py:E,pz:I}=this,{px:S,py:k,pz:L}=P;let R=t.ZERO,z=t.ZERO,$=t.ZERO;const W=e.a,B=t.mul(e.b,Hu);let T=t.mul(g,S),M=t.mul(E,k),_=t.mul(I,L),H=t.add(g,E),j=t.add(S,k);H=t.mul(H,j),j=t.add(T,M),H=t.sub(H,j),j=t.add(g,I);let Z=t.add(S,L);return j=t.mul(j,Z),Z=t.add(T,_),j=t.sub(j,Z),Z=t.add(E,I),R=t.add(k,L),Z=t.mul(Z,R),R=t.add(M,_),Z=t.sub(Z,R),$=t.mul(W,j),R=t.mul(B,_),$=t.add(R,$),R=t.sub(M,$),$=t.add(M,$),z=t.mul(R,$),M=t.add(T,T),M=t.add(M,T),_=t.mul(W,_),j=t.mul(B,j),M=t.add(M,_),_=t.sub(T,_),_=t.mul(W,_),j=t.add(j,_),T=t.mul(M,j),z=t.add(z,T),T=t.mul(Z,j),R=t.mul(H,R),R=t.sub(R,T),T=t.mul(H,M),$=t.mul(Z,$),$=t.add($,T),new x(R,z,$)}subtract(P){return this.add(P.negate())}is0(){return this.equals(x.ZERO)}wNAF(P){return C.wNAFCached(this,P,x.normalizeZ)}multiplyUnsafe(P){const{endo:g,n:E}=e;Ai("scalar",P,Zn,E);const I=x.ZERO;if(P===Zn)return I;if(this.is0()||P===Be)return this;if(!g||C.hasPrecomputes(this))return C.wNAFCachedUnsafe(this,P,x.normalizeZ);let{k1neg:S,k1:k,k2neg:L,k2:R}=g.splitScalar(P),z=I,$=I,W=this;for(;k>Zn||R>Zn;)k&Be&&(z=z.add(W)),R&Be&&($=$.add(W)),W=W.double(),k>>=Be,R>>=Be;return S&&(z=z.negate()),L&&($=$.negate()),$=new x(t.mul($.px,g.beta),$.py,$.pz),z.add($)}multiply(P){const{endo:g,n:E}=e;Ai("scalar",P,Be,E);let I,S;if(g){const{k1neg:k,k1:L,k2neg:R,k2:z}=g.splitScalar(P);let{p:$,f:W}=this.wNAF(L),{p:B,f:T}=this.wNAF(z);$=C.constTimeNegate(k,$),B=C.constTimeNegate(R,B),B=new x(t.mul(B.px,g.beta),B.py,B.pz),I=$.add(B),S=W.add(T)}else{const{p:k,f:L}=this.wNAF(P);I=k,S=L}return x.normalizeZ([I,S])[0]}multiplyAndAddUnsafe(P,g,E){const I=x.BASE,S=(L,R)=>R===Zn||R===Be||!L.equals(I)?L.multiplyUnsafe(R):L.multiply(R),k=S(this,g).add(S(P,E));return k.is0()?void 0:k}toAffine(P){return h(this,P)}isTorsionFree(){const{h:P,isTorsionFree:g}=e;if(P===Be)return!0;if(g)return g(x,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:P,clearCofactor:g}=e;return P===Be?this:g?g(x,this):this.multiplyUnsafe(e.h)}toRawBytes(P=!0){return Ua("isCompressed",P),this.assertValidity(),s(x,this,P)}toHex(P=!0){return Ua("isCompressed",P),Fa(this.toRawBytes(P))}}x.BASE=new x(e.Gx,e.Gy,t.ONE),x.ZERO=new x(t.ZERO,t.ONE,t.ZERO);const{endo:m,nBitLength:w}=e,C=Mw(x,m?Math.ceil(w/2):w);return{CURVE:e,ProjectivePoint:x,normPrivateKeyToScalar:l,weierstrassEquation:o,isWithinCurveOrder:f}}function _w(n){const e=W1(n);return tu(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function jw(n){const e=_w(n),{Fp:t,n:r,nByteLength:s,nBitLength:i}=e,o=t.BYTES+1,a=2*t.BYTES+1;function c(B){return nt(B,r)}function u(B){return jf(B,r)}const{ProjectivePoint:f,normPrivateKeyToScalar:l,weierstrassEquation:d,isWithinCurveOrder:h}=Hw({...e,toBytes(B,T,M){const _=T.toAffine(),H=t.toBytes(_.x),j=y0;return Ua("isCompressed",M),M?j(Uint8Array.from([T.hasEvenY()?2:3]),H):j(Uint8Array.from([4]),H,t.toBytes(_.y))},fromBytes(B){const T=B.length,M=B[0],_=B.subarray(1);if(T===o&&(M===2||M===3)){const H=Ms(_);if(!nd(H,Be,t.ORDER))throw new Error("Point is not on curve");const j=d(H);let Z;try{Z=t.sqrt(j)}catch(ye){const be=ye instanceof Error?": "+ye.message:"";throw new Error("Point is not on curve"+be)}const te=(Z&Be)===Be;return(M&1)===1!==te&&(Z=t.neg(Z)),{x:H,y:Z}}else if(T===a&&M===4){const H=t.fromBytes(_.subarray(0,t.BYTES)),j=t.fromBytes(_.subarray(t.BYTES,2*t.BYTES));return{x:H,y:j}}else{const H=o,j=a;throw new Error("invalid Point, expected length of "+H+", or uncompressed "+j+", got "+T)}}});function p(B){const T=r>>Be;return B>T}function x(B){return p(B)?c(-B):B}const m=(B,T,M)=>Ms(B.slice(T,M));class w{constructor(T,M,_){Ai("r",T,Be,r),Ai("s",M,Be,r),this.r=T,this.s=M,_!=null&&(this.recovery=_),Object.freeze(this)}static fromCompact(T){const M=s;return T=kt("compactSignature",T,M*2),new w(m(T,0,M),m(T,M,2*M))}static fromDER(T){const{r:M,s:_}=Dn.toSig(kt("DER",T));return new w(M,_)}assertValidity(){}addRecoveryBit(T){return new w(this.r,this.s,T)}recoverPublicKey(T){const{r:M,s:_,recovery:H}=this,j=I(kt("msgHash",T));if(H==null||![0,1,2,3].includes(H))throw new Error("recovery id invalid");const Z=H===2||H===3?M+e.n:M;if(Z>=t.ORDER)throw new Error("recovery id 2 or 3 invalid");const te=H&1?"03":"02",me=f.fromHex(te+zu(Z,t.BYTES)),ye=u(Z),be=c(-j*ye),Ae=c(_*ye),Re=f.BASE.multiplyAndAddUnsafe(me,be,Ae);if(!Re)throw new Error("point at infinify");return Re.assertValidity(),Re}hasHighS(){return p(this.s)}normalizeS(){return this.hasHighS()?new w(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return m0(this.toDERHex())}toDERHex(){return Dn.hexFromSig(this)}toCompactRawBytes(){return m0(this.toCompactHex())}toCompactHex(){const T=s;return zu(this.r,T)+zu(this.s,T)}}const C={isValidPrivateKey(B){try{return l(B),!0}catch{return!1}},normPrivateKeyToScalar:l,randomPrivateKey:()=>{const B=K1(e.n);return Uw(e.randomBytes(B),e.n)},precompute(B=8,T=f.BASE){return T._setWindowSize(B),T.multiply(BigInt(3)),T}};function v(B,T=!0){return f.fromPrivateKey(B).toRawBytes(T)}function P(B){if(typeof B=="bigint")return!1;if(B instanceof f)return!0;const M=kt("key",B).length,_=t.BYTES,H=_+1,j=2*_+1;if(!(e.allowedPrivateKeyLengths||s===H))return M===H||M===j}function g(B,T,M=!0){if(P(B)===!0)throw new Error("first arg must be private key");if(P(T)===!1)throw new Error("second arg must be public key");return f.fromHex(T).multiply(l(B)).toRawBytes(M)}const E=e.bits2int||function(B){if(B.length>8192)throw new Error("input is too large");const T=Ms(B),M=B.length*8-i;return M>0?T>>BigInt(M):T},I=e.bits2int_modN||function(B){return c(E(B))},S=eu(i);function k(B){return Ai("num < 2^"+i,B,Zn,S),Ec(B,s)}function L(B,T,M=R){if(["recovered","canonical"].some(Ke=>Ke in M))throw new Error("sign() legacy options not supported");const{hash:_,randomBytes:H}=e;let{lowS:j,prehash:Z,extraEntropy:te}=M;j==null&&(j=!0),B=kt("msgHash",B),Sh(M),Z&&(B=kt("prehashed msgHash",_(B)));const me=I(B),ye=l(T),be=[k(ye),k(me)];if(te!=null&&te!==!1){const Ke=te===!0?H(t.BYTES):te;be.push(kt("extraEntropy",Ke))}const Ae=y0(...be),Re=me;function qr(Ke){const dt=E(Ke);if(!h(dt))return;const ni=u(dt),Et=f.BASE.multiply(dt).toAffine(),Ie=c(Et.x);if(Ie===Zn)return;const vt=c(ni*c(Re+Ie*ye));if(vt===Zn)return;let dr=(Et.x===Ie?0:2)|Number(Et.y&Be),Tn=vt;return j&&p(vt)&&(Tn=x(vt),dr^=1),new w(Ie,Tn,dr)}return{seed:Ae,k2sig:qr}}const R={lowS:e.lowS,prehash:!1},z={lowS:e.lowS,prehash:!1};function $(B,T,M=R){const{seed:_,k2sig:H}=L(B,T,M),j=e;return F5(j.hash.outputLen,j.nByteLength,j.hmac)(_,H)}f.BASE._setWindowSize(8);function W(B,T,M,_=z){var dr;const H=B;T=kt("msgHash",T),M=kt("publicKey",M);const{lowS:j,prehash:Z,format:te}=_;if(Sh(_),"strict"in _)throw new Error("options.strict was renamed to lowS");if(te!==void 0&&te!=="compact"&&te!=="der")throw new Error("format must be compact or der");const me=typeof H=="string"||Ac(H),ye=!me&&!te&&typeof H=="object"&&H!==null&&typeof H.r=="bigint"&&typeof H.s=="bigint";if(!me&&!ye)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let be,Ae;try{if(ye&&(be=new w(H.r,H.s)),me){try{te!=="compact"&&(be=w.fromDER(H))}catch(Tn){if(!(Tn instanceof Dn.Err))throw Tn}!be&&te!=="der"&&(be=w.fromCompact(H))}Ae=f.fromHex(M)}catch{return!1}if(!be||j&&be.hasHighS())return!1;Z&&(T=e.hash(T));const{r:Re,s:qr}=be,Ke=I(T),dt=u(qr),ni=c(Ke*dt),Et=c(Re*dt),Ie=(dr=f.BASE.multiplyAndAddUnsafe(Ae,ni,Et))==null?void 0:dr.toAffine();return Ie?c(Ie.x)===Re:!1}return{CURVE:e,getPublicKey:v,getSharedSecret:g,sign:$,verify:W,ProjectivePoint:f,Signature:w,utils:C}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Vw(n){return{hash:n,hmac:(e,...t)=>D1(n,e,Ny(...t)),randomBytes:By}}function Kw(n,e){const t=r=>jw({...n,...Vw(r)});return{...t(e),create:t}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const q1=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Th=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Qw=BigInt(0),Jw=BigInt(1),Kf=BigInt(2),Oh=(n,e)=>(n+e/Kf)/e;function Ww(n){const e=q1,t=BigInt(3),r=BigInt(6),s=BigInt(11),i=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),u=n*n*n%e,f=u*u*n%e,l=Pt(f,t,e)*f%e,d=Pt(l,t,e)*f%e,h=Pt(d,Kf,e)*u%e,p=Pt(h,s,e)*h%e,x=Pt(p,i,e)*p%e,m=Pt(x,a,e)*x%e,w=Pt(m,c,e)*m%e,C=Pt(w,a,e)*x%e,v=Pt(C,t,e)*f%e,P=Pt(v,o,e)*p%e,g=Pt(P,r,e)*u%e,E=Pt(g,Kf,e);if(!Qf.eql(Qf.sqr(E),n))throw new Error("Cannot find square root");return E}const Qf=pd(q1,void 0,void 0,{sqrt:Ww}),qw=Kw({a:Qw,b:BigInt(7),Fp:Qf,n:Th,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:n=>{const e=Th,t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-Jw*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=t,o=BigInt("0x100000000000000000000000000000000"),a=Oh(i*n,e),c=Oh(-r*n,e);let u=nt(n-a*t-c*s,e),f=nt(-a*r-c*i,e);const l=u>o,d=f>o;if(l&&(u=e-u),d&&(f=e-f),u>o||f>o)throw new Error("splitScalar: Endomorphism failed, k="+n);return{k1neg:l,k1:u,k2neg:d,k2:f}}}},E1),Zw=Object.freeze(Object.defineProperty({__proto__:null,secp256k1:qw},Symbol.toStringTag,{value:"Module"}));class Yw extends D{constructor({value:e}){super(`Number \`${e}\` is not a valid decimal number.`,{name:"InvalidDecimalNumberError"})}}function hv(n,e){if(!/^(-?)([0-9]*)\.?([0-9]*)$/.test(n))throw new Yw({value:n});let[t,r="0"]=n.split(".");const s=t.startsWith("-");if(s&&(t=t.slice(1)),r=r.replace(/(0+)$/,""),e===0)Math.round(+`.${r}`)===1&&(t=`${BigInt(t)+1n}`),r="";else if(r.length>e){const[i,o,a]=[r.slice(0,e-1),r.slice(e-1,e),r.slice(e)],c=Math.round(+`${o}.${a}`);c>9?r=`${BigInt(i)+BigInt(1)}0`.padStart(i.length+1,"0"):r=`${i}${c}`,r.length>e&&(r=r.slice(1),t=`${BigInt(t)+1n}`),r=r.slice(0,e)}else r=r.padEnd(e,"0");return BigInt(`${s?"-":""}${t}${r}`)}async function Z1(n,{blockHash:e,blockNumber:t,blockTag:r,hash:s,index:i}){var f,l,d;const o=r||"latest",a=t!==void 0?Q(t):void 0;let c=null;if(s?c=await n.request({method:"eth_getTransactionByHash",params:[s]},{dedupe:!0}):e?c=await n.request({method:"eth_getTransactionByBlockHashAndIndex",params:[e,Q(i)]},{dedupe:!0}):c=await n.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[a||o,Q(i)]},{dedupe:!!a}),!c)throw new Wx({blockHash:e,blockNumber:t,blockTag:o,hash:s,index:i});return(((d=(l=(f=n.chain)==null?void 0:f.formatters)==null?void 0:l.transaction)==null?void 0:d.format)||iu)(c,"getTransaction")}async function _u(n,{hash:e}){var s,i,o;const t=await n.request({method:"eth_getTransactionReceipt",params:[e]},{dedupe:!0});if(!t)throw new qx({hash:e});return(((o=(i=(s=n.chain)==null?void 0:s.formatters)==null?void 0:i.transactionReceipt)==null?void 0:o.format)||F1)(t,"getTransactionReceipt")}async function Xw(n,e){var C;const{account:t,authorizationList:r,allowFailure:s=!0,blockNumber:i,blockOverrides:o,blockTag:a,stateOverride:c}=e,u=e.contracts,{batchSize:f=e.batchSize??1024,deployless:l=e.deployless??!1}=typeof((C=n.batch)==null?void 0:C.multicall)=="object"?n.batch.multicall:{},d=(()=>{if(e.multicallAddress)return e.multicallAddress;if(l)return null;if(n.chain)return gc({blockNumber:i,chain:n.chain,contract:"multicall3"});throw new Error("client chain not configured. multicallAddress is required.")})(),h=[[]];let p=0,x=0;for(let v=0;v<u.length;v++){const{abi:P,address:g,args:E,functionName:I}=u[v];try{const S=Lo({abi:P,args:E,functionName:I});x+=(S.length-2)/2,f>0&&x>f&&h[p].length>0&&(p++,x=(S.length-2)/2,h[p]=[]),h[p]=[...h[p],{allowFailure:!0,callData:S,target:g}]}catch(S){const k=g0(S,{abi:P,address:g,args:E,docsPath:"/docs/contract/multicall",functionName:I,sender:t});if(!s)throw k;h[p]=[...h[p],{allowFailure:!0,callData:"0x",target:g}]}}const m=await Promise.allSettled(h.map(v=>le(n,Qs,"readContract")({...d===null?{code:a1}:{address:d},abi:Ef,account:t,args:[v],authorizationList:r,blockNumber:i,blockOverrides:o,blockTag:a,functionName:"aggregate3",stateOverride:c}))),w=[];for(let v=0;v<m.length;v++){const P=m[v];if(P.status==="rejected"){if(!s)throw P.reason;for(let E=0;E<h[v].length;E++)w.push({status:"failure",error:P.reason,result:void 0});continue}const g=P.value;for(let E=0;E<g.length;E++){const{returnData:I,success:S}=g[E],{callData:k}=h[v][E],{abi:L,address:R,functionName:z,args:$}=u[w.length];try{if(k==="0x")throw new K0;if(!S)throw new Zl({data:I});const W=pc({abi:L,args:$,data:I,functionName:z});w.push(s?{result:W,status:"success"}:W)}catch(W){const B=g0(W,{abi:L,address:R,args:$,docsPath:"/docs/contract/multicall",functionName:z});if(!s)throw B;w.push({error:B,result:void 0,status:"failure"})}}}if(w.length!==u.length)throw new D("multicall results mismatch");return w}const ju=new Map,kh=new Map;let e8=0;function Jf(n,e,t){const r=++e8,s=()=>ju.get(n)||[],i=()=>{const f=s();ju.set(n,f.filter(l=>l.id!==r))},o=()=>{const f=s();if(!f.some(d=>d.id===r))return;const l=kh.get(n);if(f.length===1&&l){const d=l();d instanceof Promise&&d.catch(()=>{})}i()},a=s();if(ju.set(n,[...a,{id:r,fns:e}]),a&&a.length>0)return o;const c={};for(const f in e)c[f]=(...l)=>{var h,p;const d=s();if(d.length!==0)for(const x of d)(p=(h=x.fns)[f])==null||p.call(h,...l)};const u=t(c);return typeof u=="function"&&kh.set(n,u),o}function t8(n,{emitOnBegin:e,initialWaitTime:t,interval:r}){let s=!0;const i=()=>s=!1;return(async()=>{let a;e&&(a=await n({unpoll:i}));const c=await(t==null?void 0:t(a))??r;await _f(c);const u=async()=>{s&&(await n({unpoll:i}),await _f(r),u())};u()})(),i}function n8(n,{emitOnBegin:e=!1,emitMissed:t=!1,onBlockNumber:r,onError:s,poll:i,pollingInterval:o=n.pollingInterval}){const a=typeof i<"u"?i:!(n.transport.type==="webSocket"||n.transport.type==="ipc"||n.transport.type==="fallback"&&(n.transport.transports[0].config.type==="webSocket"||n.transport.transports[0].config.type==="ipc"));let c;return a?(()=>{const l=wt(["watchBlockNumber",n.uid,e,t,o]);return Jf(l,{onBlockNumber:r,onError:s},d=>t8(async()=>{var h;try{const p=await le(n,Y2,"getBlockNumber")({cacheTime:0});if(c!==void 0){if(p===c)return;if(p-c>1&&t)for(let x=c+1n;x<p;x++)d.onBlockNumber(x,c),c=x}(c===void 0||p>c)&&(d.onBlockNumber(p,c),c=p)}catch(p){(h=d.onError)==null||h.call(d,p)}},{emitOnBegin:e,interval:o}))})():(()=>{const l=wt(["watchBlockNumber",n.uid,e,t]);return Jf(l,{onBlockNumber:r,onError:s},d=>{let h=!0,p=()=>h=!1;return(async()=>{try{const x=(()=>{if(n.transport.type==="fallback"){const w=n.transport.transports.find(C=>C.config.type==="webSocket"||C.config.type==="ipc");return w?w.value:n.transport}return n.transport})(),{unsubscribe:m}=await x.subscribe({params:["newHeads"],onData(w){var v;if(!h)return;const C=Yt((v=w.result)==null?void 0:v.number);d.onBlockNumber(C,c),c=C},onError(w){var C;(C=d.onError)==null||C.call(d,w)}});p=m,h||p()}catch(x){s==null||s(x)}})(),()=>p()})})()}async function r8(n,e){const{checkReplacement:t=!0,confirmations:r=1,hash:s,onReplaced:i,retryCount:o=6,retryDelay:a=({count:g})=>~~(1<<g)*200,timeout:c=18e4}=e,u=wt(["waitForTransactionReceipt",n.uid,s]),f=(()=>{var g;return e.pollingInterval?e.pollingInterval:(g=n.chain)!=null&&g.experimental_preconfirmationTime?n.chain.experimental_preconfirmationTime:n.pollingInterval})();let l,d,h,p=!1,x,m;const{promise:w,resolve:C,reject:v}=u1(),P=c?setTimeout(()=>{m==null||m(),x==null||x(),v(new w5({hash:s}))},c):void 0;return x=Jf(u,{onReplaced:i,resolve:C,reject:v},async g=>{if(h=await le(n,_u,"getTransactionReceipt")({hash:s}).catch(()=>{}),h&&r<=1){clearTimeout(P),g.resolve(h),x==null||x();return}m=le(n,n8,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:f,async onBlockNumber(E){const I=k=>{clearTimeout(P),m==null||m(),k(),x==null||x()};let S=E;if(!p)try{if(h){if(r>1&&(!h.blockNumber||S-h.blockNumber+1n<r))return;I(()=>g.resolve(h));return}if(t&&!l&&(p=!0,await w0(async()=>{l=await le(n,Z1,"getTransaction")({hash:s}),l.blockNumber&&(S=l.blockNumber)},{delay:a,retryCount:o}),p=!1),h=await le(n,_u,"getTransactionReceipt")({hash:s}),r>1&&(!h.blockNumber||S-h.blockNumber+1n<r))return;I(()=>g.resolve(h))}catch(k){if(k instanceof Wx||k instanceof qx){if(!l){p=!1;return}try{d=l,p=!0;const L=await w0(()=>le(n,Ma,"getBlock")({blockNumber:S,includeTransactions:!0}),{delay:a,retryCount:o,shouldRetry:({error:$})=>$ instanceof m1});p=!1;const R=L.transactions.find(({from:$,nonce:W})=>$===d.from&&W===d.nonce);if(!R||(h=await le(n,_u,"getTransactionReceipt")({hash:R.hash}),r>1&&(!h.blockNumber||S-h.blockNumber+1n<r)))return;let z="replaced";R.to===d.to&&R.value===d.value&&R.input===d.input?z="repriced":R.from===R.to&&R.value===0n&&(z="cancelled"),I(()=>{var $;($=g.onReplaced)==null||$.call(g,{reason:z,replacedTransaction:d,transaction:R,transactionReceipt:h}),g.resolve(h)})}catch(L){I(()=>g.reject(L))}}else I(()=>g.reject(k))}}})}),w}class gd extends D{constructor({docsPath:e}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:e,docsSlug:"account",name:"AccountNotFoundError"})}}class Vu extends D{constructor({docsPath:e,metaMessages:t,type:r}){super(`Account type "${r}" is not supported.`,{docsPath:e,metaMessages:t,name:"AccountTypeNotSupportedError"})}}async function s8(n,{serializedTransaction:e}){return n.request({method:"eth_sendRawTransaction",params:[e]},{retryCount:0})}const Ku=new q0(128);async function Y1(n,e){var C,v,P,g;const{account:t=n.account,chain:r=n.chain,accessList:s,authorizationList:i,blobs:o,data:a,gas:c,gasPrice:u,maxFeePerBlobGas:f,maxFeePerGas:l,maxPriorityFeePerGas:d,nonce:h,type:p,value:x,...m}=e;if(typeof t>"u")throw new gd({docsPath:"/docs/actions/wallet/sendTransaction"});const w=t?Sn(t):null;try{su(e);const E=await(async()=>{if(e.to)return e.to;if(e.to!==null&&i&&i.length>0)return await g1({authorization:i[0]}).catch(()=>{throw new D("`to` is required. Could not infer from `authorizationList`.")})})();if((w==null?void 0:w.type)==="json-rpc"||w===null){let I;r!==null&&(I=await le(n,T1,"getChainId")({}),Aw({currentChainId:I,chain:r}));const S=(P=(v=(C=n.chain)==null?void 0:C.formatters)==null?void 0:v.transactionRequest)==null?void 0:P.format,L=(S||od)({...sd(m,{format:S}),accessList:s,account:w,authorizationList:i,blobs:o,chainId:I,data:a,gas:c,gasPrice:u,maxFeePerBlobGas:f,maxFeePerGas:l,maxPriorityFeePerGas:d,nonce:h,to:E,type:p,value:x},"sendTransaction"),R=Ku.get(n.uid),z=R?"wallet_sendTransaction":"eth_sendTransaction";try{return await n.request({method:z,params:[L]},{retryCount:0})}catch($){if(R===!1)throw $;const W=$;if(W.name==="InvalidInputRpcError"||W.name==="InvalidParamsRpcError"||W.name==="MethodNotFoundRpcError"||W.name==="MethodNotSupportedRpcError")return await n.request({method:"wallet_sendTransaction",params:[L]},{retryCount:0}).then(B=>(Ku.set(n.uid,!0),B)).catch(B=>{const T=B;throw T.name==="MethodNotFoundRpcError"||T.name==="MethodNotSupportedRpcError"?(Ku.set(n.uid,!1),W):T});throw W}}if((w==null?void 0:w.type)==="local"){const I=await le(n,bd,"prepareTransactionRequest")({account:w,accessList:s,authorizationList:i,blobs:o,chain:r,data:a,gas:c,gasPrice:u,maxFeePerBlobGas:f,maxFeePerGas:l,maxPriorityFeePerGas:d,nonce:h,nonceManager:w.nonceManager,parameters:[...O1,"sidecars"],type:p,value:x,...m,to:E}),S=(g=r==null?void 0:r.serializers)==null?void 0:g.transaction,k=await w.signTransaction(I,{serializer:S});return await le(n,s8,"sendRawTransaction")({serializedTransaction:k})}throw(w==null?void 0:w.type)==="smart"?new Vu({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new Vu({docsPath:"/docs/actions/wallet/sendTransaction",type:w==null?void 0:w.type})}catch(E){throw E instanceof Vu?E:Ew(E,{...e,account:w,chain:e.chain||void 0})}}async function i8(n,{account:e=n.account,message:t}){if(!e)throw new gd({docsPath:"/docs/actions/wallet/signMessage"});const r=Sn(e);if(r.signMessage)return r.signMessage({message:t});const s=typeof t=="string"?Q0(t):t.raw instanceof Uint8Array?tn(t.raw):t.raw;return n.request({method:"personal_sign",params:[s,r.address]},{retryCount:0})}async function A0(n,e){return A0.internal(n,Y1,"sendTransaction",e)}(function(n){async function e(t,r,s,i){const{abi:o,account:a=t.account,address:c,args:u,dataSuffix:f,functionName:l,...d}=i;if(typeof a>"u")throw new gd({docsPath:"/docs/contract/writeContract"});const h=a?Sn(a):null,p=Lo({abi:o,args:u,functionName:l});try{return await le(t,r,s)({data:`${p}${f?f.replace("0x",""):""}`,to:c,account:h,...d})}catch(x){throw g0(x,{abi:o,address:c,args:u,docsPath:"/docs/contract/writeContract",functionName:l,sender:h==null?void 0:h.address})}}n.internal=e})(A0||(A0={}));function at(n,e,t){const r=n[e.name];if(typeof r=="function")return r;const s=n[t];return typeof s=="function"?s:i=>e(n,i)}const t0="2.22.1",o8=()=>`@wagmi/core@${t0}`;var X1=function(n,e,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(n):r?r.value:e.get(n)},E0,ep;let fr=class Wf extends Error{get docsBaseUrl(){return"https://wagmi.sh/core"}get version(){return o8()}constructor(e,t={}){var i;super(),E0.add(this),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiCoreError"});const r=t.cause instanceof Wf?t.cause.details:(i=t.cause)!=null&&i.message?t.cause.message:t.details,s=t.cause instanceof Wf&&t.cause.docsPath||t.docsPath;this.message=[e||"An error occurred.","",...t.metaMessages?[...t.metaMessages,""]:[],...s?[`Docs: ${this.docsBaseUrl}${s}.html${t.docsSlug?`#${t.docsSlug}`:""}`]:[],...r?[`Details: ${r}`]:[],`Version: ${this.version}`].join(`
`),t.cause&&(this.cause=t.cause),this.details=r,this.docsPath=s,this.metaMessages=t.metaMessages,this.shortMessage=e}walk(e){return X1(this,E0,"m",ep).call(this,this,e)}};E0=new WeakSet,ep=function n(e,t){return t!=null&&t(e)?e:e.cause?X1(this,E0,"m",n).call(this,e.cause,t):e};class v0 extends fr{constructor(){super("Chain not configured."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotConfiguredError"})}}class a8 extends fr{constructor(){super("Connector already connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAlreadyConnectedError"})}}class tp extends fr{constructor(){super("Connector not connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorNotConnectedError"})}}class c8 extends fr{constructor({address:e,connector:t}){super(`Account "${e}" not found for connector "${t.name}".`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAccountNotFoundError"})}}class u8 extends fr{constructor({connectionChainId:e,connectorChainId:t}){super(`The current chain of the connector (id: ${t}) does not match the connection's chain (id: ${e}).`,{metaMessages:[`Current Chain ID:  ${t}`,`Expected Chain ID: ${e}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorChainMismatchError"})}}class f8 extends fr{constructor({connector:e}){super(`Connector "${e.name}" unavailable while reconnecting.`,{details:["During the reconnection step, the only connector methods guaranteed to be available are: `id`, `name`, `type`, `uid`.","All other methods are not guaranteed to be available until reconnection completes and connectors are fully restored.","This error commonly occurs for connectors that asynchronously inject after reconnection has already started."].join(" ")}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorUnavailableReconnectingError"})}}async function bv(n,e){var r;let t;if(typeof e.connector=="function"?t=n._internal.connectors.setup(e.connector):t=e.connector,t.uid===n.state.current)throw new a8;try{n.setState(a=>({...a,status:"connecting"})),t.emitter.emit("message",{type:"connecting"});const{connector:s,...i}=e,o=await t.connect(i);return t.emitter.off("connect",n._internal.events.connect),t.emitter.on("change",n._internal.events.change),t.emitter.on("disconnect",n._internal.events.disconnect),await((r=n.storage)==null?void 0:r.setItem("recentConnectorId",t.id)),n.setState(a=>({...a,connections:new Map(a.connections).set(t.uid,{accounts:i.withCapabilities?o.accounts.map(c=>typeof c=="object"?c.address:c):o.accounts,chainId:o.chainId,connector:t}),current:t.uid,status:"connected"})),{accounts:i.withCapabilities?o.accounts.map(a=>typeof a=="object"?a:{address:a,capabilities:{}}):o.accounts,chainId:o.chainId}}catch(s){throw n.setState(i=>({...i,status:i.current?"connected":"disconnected"})),s}}const qf=256;let Lc=qf,Mc;function np(n=11){if(!Mc||Lc+n>qf*2){Mc="",Lc=0;for(let e=0;e<qf;e++)Mc+=(256+Math.random()*256|0).toString(16).substring(1)}return Mc.substring(Lc,Lc+++n)}function rp(n){const{batch:e,chain:t,ccipRead:r,key:s="base",name:i="Base Client",type:o="base"}=n,a=n.experimental_blockTag??(typeof(t==null?void 0:t.experimental_preconfirmationTime)=="number"?"pending":void 0),c=(t==null?void 0:t.blockTime)??12e3,u=Math.min(Math.max(Math.floor(c/2),500),4e3),f=n.pollingInterval??u,l=n.cacheTime??f,d=n.account?Sn(n.account):void 0,{config:h,request:p,value:x}=n.transport({chain:t,pollingInterval:f}),m={...h,...x},w={account:d,batch:e,cacheTime:l,ccipRead:r,chain:t,key:s,name:i,pollingInterval:f,request:p,transport:m,type:o,uid:np(),...a?{experimental_blockTag:a}:{}};function C(v){return P=>{const g=P(v);for(const I in w)delete g[I];const E={...v,...g};return Object.assign(E,{extend:C(E)})}}return Object.assign(w,{extend:C(w)})}function sp({key:n,methods:e,name:t,request:r,retryCount:s=3,retryDelay:i=150,timeout:o,type:a},c){const u=np();return{config:{key:n,methods:e,name:t,request:r,retryCount:s,retryDelay:i,timeout:o,type:a},request:hw(r,{methods:e,retryCount:s,retryDelay:i,uid:u}),value:c}}function l8(n,e={}){const{key:t="custom",methods:r,name:s="Custom Provider",retryDelay:i}=e;return({retryCount:o})=>sp({key:t,methods:r,name:s,request:n.request.bind(n),retryCount:e.retryCount??o,retryDelay:i,type:"custom"})}class d8 extends D{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function xv(n,e={}){const{batch:t,fetchFn:r,fetchOptions:s,key:i="http",methods:o,name:a="HTTP JSON-RPC",onFetchRequest:c,onFetchResponse:u,retryDelay:f,raw:l}=e;return({chain:d,retryCount:h,timeout:p})=>{const{batchSize:x=1e3,wait:m=0}=typeof t=="object"?t:{},w=e.retryCount??h,C=p??e.timeout??1e4,v=d==null?void 0:d.rpcUrls.default.http[0];if(!v)throw new d8;const P=Cw(v,{fetchFn:r,fetchOptions:s,onRequest:c,onResponse:u,timeout:C});return sp({key:i,methods:o,name:a,async request({method:g,params:E}){const I={method:g,params:E},{schedule:S}=f1({id:v,wait:m,shouldSplitBatch(z){return z.length>x},fn:z=>P.request({body:z}),sort:(z,$)=>z.id-$.id}),k=async z=>t?S(z):[await P.request({body:z})],[{error:L,result:R}]=await k(I);if(l)return{error:L,result:R};if(L)throw new Xl({body:I,error:L,url:v});return R},retryCount:w,retryDelay:f,timeout:C,type:"http"},{fetchOptions:s,url:v})}}async function au(n,e={}){const{assertChainId:t=!0}=e;let r;if(e.connector){const{connector:f}=e;if(n.state.status==="reconnecting"&&!f.getAccounts&&!f.getChainId)throw new f8({connector:f});const[l,d]=await Promise.all([f.getAccounts().catch(h=>{if(e.account===null)return[];throw h}),f.getChainId()]);r={accounts:l,chainId:d,connector:f}}else r=n.state.connections.get(n.state.current);if(!r)throw new tp;const s=e.chainId??r.chainId,i=await r.connector.getChainId();if(t&&i!==s)throw new u8({connectionChainId:s,connectorChainId:i});const o=r.connector;if(o.getClient)return o.getClient({chainId:s});const a=Sn(e.account??r.accounts[0]);if(a&&(a.address=ea(a.address)),e.account&&!r.accounts.some(f=>f.toLowerCase()===a.address.toLowerCase()))throw new c8({address:a.address,connector:o});const c=n.chains.find(f=>f.id===s),u=await r.connector.getProvider({chainId:s});return rp({account:a,chain:c,name:"Connector Client",transport:f=>l8(u)({...f,retryCount:0})})}async function h8(n,e={}){var s,i;let t;if(e.connector)t=e.connector;else{const{connections:o,current:a}=n.state,c=o.get(a);t=c==null?void 0:c.connector}const r=n.state.connections;t&&(await t.disconnect(),t.emitter.off("change",n._internal.events.change),t.emitter.off("disconnect",n._internal.events.disconnect),t.emitter.on("connect",n._internal.events.connect),r.delete(t.uid)),n.setState(o=>{if(r.size===0)return{...o,connections:new Map,current:null,status:"disconnected"};const a=r.values().next().value;return{...o,connections:new Map(r),current:a.connector.uid}});{const o=n.state.current;if(!o)return;const a=(s=n.state.connections.get(o))==null?void 0:s.connector;if(!a)return;await((i=n.storage)==null?void 0:i.setItem("recentConnectorId",a.id))}}function ip(n){return typeof n=="number"?n:n==="wei"?0:Math.abs(l5[n])}async function pv(n,e){const{chainId:t,connector:r,...s}=e;let i;e.account?i=e.account:i=(await au(n,{account:e.account,assertChainId:!1,chainId:t,connector:r})).account;const o=n.getClient({chainId:t});return at(o,k1,"estimateGas")({...s,account:i})}function md(n){const e=n.state.current,t=n.state.connections.get(e),r=t==null?void 0:t.accounts,s=r==null?void 0:r[0],i=n.chains.find(a=>a.id===(t==null?void 0:t.chainId)),o=n.state.status;switch(o){case"connected":return{address:s,addresses:r,chain:i,chainId:t==null?void 0:t.chainId,connector:t==null?void 0:t.connector,isConnected:!0,isConnecting:!1,isDisconnected:!1,isReconnecting:!1,status:o};case"reconnecting":return{address:s,addresses:r,chain:i,chainId:t==null?void 0:t.chainId,connector:t==null?void 0:t.connector,isConnected:!!s,isConnecting:!1,isDisconnected:!1,isReconnecting:!0,status:o};case"connecting":return{address:s,addresses:r,chain:i,chainId:t==null?void 0:t.chainId,connector:t==null?void 0:t.connector,isConnected:!1,isConnecting:!0,isDisconnected:!1,isReconnecting:!1,status:o};case"disconnected":return{address:void 0,addresses:void 0,chain:void 0,chainId:void 0,connector:void 0,isConnected:!1,isConnecting:!1,isDisconnected:!0,isReconnecting:!1,status:o}}}async function b8(n,e){const{allowFailure:t=!0,chainId:r,contracts:s,...i}=e,o=n.getClient({chainId:r});return at(o,Xw,"multicall")({allowFailure:t,contracts:s,...i})}function x8(n,e){const{chainId:t,...r}=e,s=n.getClient({chainId:t});return at(s,Qs,"readContract")(r)}async function p8(n,e){var a;const{allowFailure:t=!0,blockNumber:r,blockTag:s,...i}=e,o=e.contracts;try{const c={};for(const[d,h]of o.entries()){const p=h.chainId??n.state.chainId;c[p]||(c[p]=[]),(a=c[p])==null||a.push({contract:h,index:d})}const u=()=>Object.entries(c).map(([d,h])=>b8(n,{...i,allowFailure:t,blockNumber:r,blockTag:s,chainId:Number.parseInt(d,10),contracts:h.map(({contract:p})=>p)})),f=(await Promise.all(u())).flat(),l=Object.values(c).flatMap(d=>d.map(({index:h})=>h));return f.reduce((d,h,p)=>(d&&(d[l[p]]=h),d),[])}catch(c){if(c instanceof Zx)throw c;const u=()=>o.map(f=>x8(n,{...f,blockNumber:r,blockTag:s}));return t?(await Promise.allSettled(u())).map(f=>f.status==="fulfilled"?{result:f.value,status:"success"}:{error:f.reason,result:void 0,status:"failure"}):await Promise.all(u())}}async function g8(n,e){const{address:t,blockNumber:r,blockTag:s,chainId:i,token:o,unit:a="ether"}=e;if(o)try{return await Rh(n,{balanceAddress:t,chainId:i,symbolType:"string",tokenAddress:o})}catch(d){if(d.name==="ContractFunctionExecutionError"){const h=await Rh(n,{balanceAddress:t,chainId:i,symbolType:"bytes32",tokenAddress:o}),p=mx(Cn(h.symbol,{dir:"right"}));return{...h,symbol:p}}throw d}const c=n.getClient({chainId:i}),f=await at(c,K2,"getBalance")(r?{address:t,blockNumber:r}:{address:t,blockTag:s}),l=n.chains.find(d=>d.id===i)??c.chain;return{decimals:l.nativeCurrency.decimals,formatted:X0(f,ip(a)),symbol:l.nativeCurrency.symbol,value:f}}async function Rh(n,e){const{balanceAddress:t,chainId:r,symbolType:s,tokenAddress:i,unit:o}=e,a={abi:[{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:s}]}],address:i},[c,u,f]=await p8(n,{allowFailure:!1,contracts:[{...a,functionName:"balanceOf",args:[t],chainId:r},{...a,functionName:"decimals",chainId:r},{...a,functionName:"symbol",chainId:r}]}),l=X0(c??"0",ip(o??u));return{decimals:u,formatted:l,symbol:f,value:c}}function Uh(n){return n.state.chainId}function wo(n,e){if(n===e)return!0;if(n&&e&&typeof n=="object"&&typeof e=="object"){if(n.constructor!==e.constructor)return!1;let t,r;if(Array.isArray(n)&&Array.isArray(e)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!wo(n[r],e[r]))return!1;return!0}if(typeof n.valueOf=="function"&&n.valueOf!==Object.prototype.valueOf)return n.valueOf()===e.valueOf();if(typeof n.toString=="function"&&n.toString!==Object.prototype.toString)return n.toString()===e.toString();const s=Object.keys(n);if(t=s.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!Object.hasOwn(e,s[r]))return!1;for(r=t;r--!==0;){const i=s[r];if(i&&!wo(n[i],e[i]))return!1}return!0}return n!==n&&e!==e}let Dc=[];function Zf(n){const e=[...n.state.connections.values()];return n.state.status==="reconnecting"||wo(Dc,e)?Dc:(Dc=e,e)}function gv(n,e){const{chainId:t,...r}=e,s=n.getClient({chainId:t});return at(s,n2,"getEnsAddress")(r)}function mv(n,e){const{chainId:t,...r}=e,s=n.getClient({chainId:t});return at(s,p2,"getEnsAvatar")(r)}function yv(n,e){const{chainId:t,...r}=e,s=n.getClient({chainId:t});return at(s,g2,"getEnsName")(r)}async function wv(n,e){const{account:t,chainId:r,...s}=e,i=t??md(n).address,o=n.getClient({chainId:r});return at(o,bd,"prepareTransactionRequest")({...s,...i?{account:i}:{}})}let Qu=!1;async function m8(n,e={}){var u,f;if(Qu)return[];Qu=!0,n.setState(l=>({...l,status:l.current?"reconnecting":"connecting"}));const t=[];if((u=e.connectors)!=null&&u.length)for(const l of e.connectors){let d;typeof l=="function"?d=n._internal.connectors.setup(l):d=l,t.push(d)}else t.push(...n.connectors);let r;try{r=await((f=n.storage)==null?void 0:f.getItem("recentConnectorId"))}catch{}const s={};for(const[,l]of n.state.connections)s[l.connector.id]=1;r&&(s[r]=0);const i=Object.keys(s).length>0?[...t].sort((l,d)=>(s[l.id]??10)-(s[d.id]??10)):t;let o=!1;const a=[],c=[];for(const l of i){const d=await l.getProvider().catch(()=>{});if(!d||c.some(x=>x===d)||!await l.isAuthorized())continue;const p=await l.connect({isReconnecting:!0}).catch(()=>null);p&&(l.emitter.off("connect",n._internal.events.connect),l.emitter.on("change",n._internal.events.change),l.emitter.on("disconnect",n._internal.events.disconnect),n.setState(x=>{const m=new Map(o?x.connections:new Map).set(l.uid,{accounts:p.accounts,chainId:p.chainId,connector:l});return{...x,current:o?x.current:l.uid,connections:m}}),a.push({accounts:p.accounts,chainId:p.chainId,connector:l}),c.push(d),o=!0)}return(n.state.status==="reconnecting"||n.state.status==="connecting")&&(o?n.setState(l=>({...l,status:"connected"})):n.setState(l=>({...l,connections:new Map,current:null,status:"disconnected"}))),Qu=!1,a}async function Av(n,e){const{account:t,chainId:r,connector:s,...i}=e;let o;return typeof t=="object"&&(t==null?void 0:t.type)==="local"?o=n.getClient({chainId:r}):o=await au(n,{account:t??void 0,assertChainId:!1,chainId:r,connector:s}),await at(o,Y1,"sendTransaction")({...i,...t?{account:t}:{},chain:r?{id:r}:null,gas:i.gas??void 0})}async function Ev(n,e){const{account:t,connector:r,...s}=e;let i;return typeof t=="object"&&t.type==="local"?i=n.getClient():i=await au(n,{account:t,connector:r}),at(i,i8,"signMessage")({...s,...t?{account:t}:{}})}async function vv(n,e){var s;const{connector:t}=e,r=n.state.connections.get(t.uid);if(!r)throw new tp;return await((s=n.storage)==null?void 0:s.setItem("recentConnectorId",t.id)),n.setState(i=>({...i,current:t.uid})),{accounts:r.accounts,chainId:r.chainId}}class si extends fr{constructor(){super("Provider not found."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderNotFoundError"})}}class y8 extends fr{constructor({connector:e}){super(`"${e.name}" does not support programmatic chain switching.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SwitchChainNotSupportedError"})}}async function Pv(n,e){var o;const{addEthereumChainParameter:t,chainId:r}=e,s=n.state.connections.get(((o=e.connector)==null?void 0:o.uid)??n.state.current);if(s){const a=s.connector;if(!a.switchChain)throw new y8({connector:a});return await a.switchChain({addEthereumChainParameter:t,chainId:r})}const i=n.chains.find(a=>a.id===r);if(!i)throw new v0;return n.setState(a=>({...a,chainId:r})),i}async function Iv(n,e){const{chainId:t,timeout:r=0,...s}=e,i=n.getClient({chainId:t}),a=await at(i,r8,"waitForTransactionReceipt")({...s,timeout:r});if(a.status==="reverted"){const c=at(i,Z1,"getTransaction"),{from:u,...f}=await c({hash:a.transactionHash}),d=await at(i,ad,"call")({...f,account:u,data:f.input,gasPrice:f.type!=="eip1559"?f.gasPrice:void 0,maxFeePerGas:f.type==="eip1559"?f.maxFeePerGas:void 0,maxPriorityFeePerGas:f.type==="eip1559"?f.maxPriorityFeePerGas:void 0}),h=d!=null&&d.data?mx(`0x${d.data.substring(138)}`):"unknown reason";throw new Error(h)}return{...a,chainId:i.chain.id}}function w8(n,e){const{onChange:t}=e;return n.subscribe(()=>md(n),t,{equalityFn(r,s){const{connector:i,...o}=r,{connector:a,...c}=s;return wo(o,c)&&(i==null?void 0:i.id)===(a==null?void 0:a.id)&&(i==null?void 0:i.uid)===(a==null?void 0:a.uid)}})}function A8(n,e){const{onChange:t}=e;return n.subscribe(r=>r.chainId,t)}function E8(n,e){const{onChange:t}=e;return n.subscribe(()=>Zf(n),t,{equalityFn:wo})}function Cv(n,e){const{onChange:t}=e;return n._internal.connectors.subscribe((r,s)=>{t(Object.values(r),s)})}async function Nv(n,e){const{account:t,chainId:r,connector:s,...i}=e;let o;return typeof t=="object"&&(t==null?void 0:t.type)==="local"?o=n.getClient({chainId:r}):o=await au(n,{account:t??void 0,assertChainId:!1,chainId:r,connector:s}),await at(o,A0,"writeContract")({...i,...t?{account:t}:{},chain:r?{id:r}:null})}yd.type="injected";function yd(n={}){const{shimDisconnect:e=!0,unstable_shimAsyncInject:t}=n;function r(){const c=n.target;if(typeof c=="function"){const u=c();if(u)return u}return typeof c=="object"?c:typeof c=="string"?{...v8[c]??{id:c,name:`${c[0].toUpperCase()}${c.slice(1)}`,provider:`is${c[0].toUpperCase()}${c.slice(1)}`}}:{id:"injected",name:"Injected",provider(u){return u==null?void 0:u.ethereum}}}let s,i,o,a;return c=>({get icon(){return r().icon},get id(){return r().id},get name(){return r().name},get supportsSimulation(){return!0},type:yd.type,async setup(){const u=await this.getProvider();u!=null&&u.on&&n.target&&(o||(o=this.onConnect.bind(this),u.on("connect",o)),s||(s=this.onAccountsChanged.bind(this),u.on("accountsChanged",s)))},async connect({chainId:u,isReconnecting:f,withCapabilities:l}={}){var p,x,m,w,C,v;const d=await this.getProvider();if(!d)throw new si;let h=[];if(f)h=await this.getAccounts().catch(()=>[]);else if(e)try{h=(w=(m=(x=(p=(await d.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]}))[0])==null?void 0:p.caveats)==null?void 0:x[0])==null?void 0:m.value)==null?void 0:w.map(g=>ea(g)),h.length>0&&(h=await this.getAccounts())}catch(P){const g=P;if(g.code===We.code)throw new We(g);if(g.code===$r.code)throw g}try{!(h!=null&&h.length)&&!f&&(h=(await d.request({method:"eth_requestAccounts"})).map(E=>ea(E))),o&&(d.removeListener("connect",o),o=void 0),s||(s=this.onAccountsChanged.bind(this),d.on("accountsChanged",s)),i||(i=this.onChainChanged.bind(this),d.on("chainChanged",i)),a||(a=this.onDisconnect.bind(this),d.on("disconnect",a));let P=await this.getChainId();if(u&&P!==u){const g=await this.switchChain({chainId:u}).catch(E=>{if(E.code===We.code)throw E;return{id:P}});P=(g==null?void 0:g.id)??P}return e&&await((C=c.storage)==null?void 0:C.removeItem(`${this.id}.disconnected`)),n.target||await((v=c.storage)==null?void 0:v.setItem("injected.connected",!0)),{accounts:l?h.map(g=>({address:g,capabilities:{}})):h,chainId:P}}catch(P){const g=P;throw g.code===We.code?new We(g):g.code===$r.code?new $r(g):g}},async disconnect(){var f,l;const u=await this.getProvider();if(!u)throw new si;i&&(u.removeListener("chainChanged",i),i=void 0),a&&(u.removeListener("disconnect",a),a=void 0),o||(o=this.onConnect.bind(this),u.on("connect",o));try{await L1(()=>u.request({method:"wallet_revokePermissions",params:[{eth_accounts:{}}]}),{timeout:100})}catch{}e&&await((f=c.storage)==null?void 0:f.setItem(`${this.id}.disconnected`,!0)),n.target||await((l=c.storage)==null?void 0:l.removeItem("injected.connected"))},async getAccounts(){const u=await this.getProvider();if(!u)throw new si;return(await u.request({method:"eth_accounts"})).map(l=>ea(l))},async getChainId(){const u=await this.getProvider();if(!u)throw new si;const f=await u.request({method:"eth_chainId"});return Number(f)},async getProvider(){if(typeof window>"u")return;let u;const f=r();return typeof f.provider=="function"?u=f.provider(window):typeof f.provider=="string"?u=n0(window,f.provider):u=f.provider,u&&!u.removeListener&&("off"in u&&typeof u.off=="function"?u.removeListener=u.off:u.removeListener=()=>{}),u},async isAuthorized(){var u,f;try{if(e&&await((u=c.storage)==null?void 0:u.getItem(`${this.id}.disconnected`))||!n.target&&!await((f=c.storage)==null?void 0:f.getItem("injected.connected")))return!1;if(!await this.getProvider()){if(t!==void 0&&t!==!1){const p=async()=>(typeof window<"u"&&window.removeEventListener("ethereum#initialized",p),!!await this.getProvider()),x=typeof t=="number"?t:1e3;if(await Promise.race([...typeof window<"u"?[new Promise(w=>window.addEventListener("ethereum#initialized",()=>w(p()),{once:!0}))]:[],new Promise(w=>setTimeout(()=>w(p()),x))]))return!0}throw new si}return!!(await w0(()=>this.getAccounts())).length}catch{return!1}},async switchChain({addEthereumChainParameter:u,chainId:f}){var p,x,m,w;const l=await this.getProvider();if(!l)throw new si;const d=c.chains.find(C=>C.id===f);if(!d)throw new Vs(new v0);const h=new Promise(C=>{const v=P=>{"chainId"in P&&P.chainId===f&&(c.emitter.off("change",v),C())};c.emitter.on("change",v)});try{return await Promise.all([l.request({method:"wallet_switchEthereumChain",params:[{chainId:Q(f)}]}).then(async()=>{await this.getChainId()===f&&c.emitter.emit("change",{chainId:f})}),h]),d}catch(C){const v=C;if(v.code===4902||((x=(p=v==null?void 0:v.data)==null?void 0:p.originalError)==null?void 0:x.code)===4902)try{const{default:P,...g}=d.blockExplorers??{};let E;u!=null&&u.blockExplorerUrls?E=u.blockExplorerUrls:P&&(E=[P.url,...Object.values(g).map(k=>k.url)]);let I;(m=u==null?void 0:u.rpcUrls)!=null&&m.length?I=u.rpcUrls:I=[((w=d.rpcUrls.default)==null?void 0:w.http[0])??""];const S={blockExplorerUrls:E,chainId:Q(f),chainName:(u==null?void 0:u.chainName)??d.name,iconUrls:u==null?void 0:u.iconUrls,nativeCurrency:(u==null?void 0:u.nativeCurrency)??d.nativeCurrency,rpcUrls:I};return await Promise.all([l.request({method:"wallet_addEthereumChain",params:[S]}).then(async()=>{if(await this.getChainId()===f)c.emitter.emit("change",{chainId:f});else throw new We(new Error("User rejected switch after adding network."))}),h]),d}catch(P){throw new We(P)}throw v.code===We.code?new We(v):new Vs(v)}},async onAccountsChanged(u){var f;if(u.length===0)this.onDisconnect();else if(c.emitter.listenerCount("connect")){const l=(await this.getChainId()).toString();this.onConnect({chainId:l}),e&&await((f=c.storage)==null?void 0:f.removeItem(`${this.id}.disconnected`))}else c.emitter.emit("change",{accounts:u.map(l=>ea(l))})},onChainChanged(u){const f=Number(u);c.emitter.emit("change",{chainId:f})},async onConnect(u){const f=await this.getAccounts();if(f.length===0)return;const l=Number(u.chainId);c.emitter.emit("connect",{accounts:f,chainId:l});const d=await this.getProvider();d&&(o&&(d.removeListener("connect",o),o=void 0),s||(s=this.onAccountsChanged.bind(this),d.on("accountsChanged",s)),i||(i=this.onChainChanged.bind(this),d.on("chainChanged",i)),a||(a=this.onDisconnect.bind(this),d.on("disconnect",a)))},async onDisconnect(u){const f=await this.getProvider();u&&u.code===1013&&f&&(await this.getAccounts()).length||(c.emitter.emit("disconnect"),f&&(i&&(f.removeListener("chainChanged",i),i=void 0),a&&(f.removeListener("disconnect",a),a=void 0),o||(o=this.onConnect.bind(this),f.on("connect",o))))}})}const v8={coinbaseWallet:{id:"coinbaseWallet",name:"Coinbase Wallet",provider(n){return n!=null&&n.coinbaseWalletExtension?n.coinbaseWalletExtension:n0(n,"isCoinbaseWallet")}},metaMask:{id:"metaMask",name:"MetaMask",provider(n){return n0(n,e=>{if(!e.isMetaMask||e.isBraveWallet&&!e._events&&!e._state)return!1;const t=["isApexWallet","isAvalanche","isBitKeep","isBlockWallet","isKuCoinWallet","isMathWallet","isOkxWallet","isOKExWallet","isOneInchIOSWallet","isOneInchAndroidWallet","isOpera","isPhantom","isPortal","isRabby","isTokenPocket","isTokenary","isUniswapWallet","isZerion"];for(const r of t)if(e[r])return!1;return!0})}},phantom:{id:"phantom",name:"Phantom",provider(n){var e,t;return(e=n==null?void 0:n.phantom)!=null&&e.ethereum?(t=n.phantom)==null?void 0:t.ethereum:n0(n,"isPhantom")}}};function n0(n,e){function t(s){return typeof e=="function"?e(s):typeof e=="string"?s[e]:!0}const r=n.ethereum;if(r!=null&&r.providers)return r.providers.find(s=>t(s));if(r&&t(r))return r}function P8(n){if(typeof window>"u")return;const e=t=>n(t.detail);return window.addEventListener("eip6963:announceProvider",e),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),()=>window.removeEventListener("eip6963:announceProvider",e)}function I8(){const n=new Set;let e=[];const t=()=>P8(s=>{e.some(({info:i})=>i.uuid===s.info.uuid)||(e=[...e,s],n.forEach(i=>i(e,{added:[s]})))});let r=t();return{_listeners(){return n},clear(){n.forEach(s=>s([],{removed:[...e]})),e=[]},destroy(){this.clear(),n.clear(),r==null||r()},findProvider({rdns:s}){return e.find(i=>i.info.rdns===s)},getProviders(){return e},reset(){this.clear(),r==null||r(),r=t()},subscribe(s,{emitImmediately:i}={}){return n.add(s),i&&s(e,{added:e}),()=>n.delete(s)}}}const C8=n=>(e,t,r)=>{const s=r.subscribe;return r.subscribe=(o,a,c)=>{let u=o;if(a){const f=(c==null?void 0:c.equalityFn)||Object.is;let l=o(r.getState());u=d=>{const h=o(d);if(!f(l,h)){const p=l;a(l=h,p)}},c!=null&&c.fireImmediately&&a(l,l)}return s(u)},n(e,t,r)},N8=C8;function B8(n,e){let t;try{t=n()}catch{return}return{getItem:s=>{var i;const o=c=>c===null?null:JSON.parse(c,void 0),a=(i=t.getItem(s))!=null?i:null;return a instanceof Promise?a.then(o):o(a)},setItem:(s,i)=>t.setItem(s,JSON.stringify(i,void 0)),removeItem:s=>t.removeItem(s)}}const Yf=n=>e=>{try{const t=n(e);return t instanceof Promise?t:{then(r){return Yf(r)(t)},catch(r){return this}}}catch(t){return{then(r){return this},catch(r){return Yf(r)(t)}}}},S8=(n,e)=>(t,r,s)=>{let i={storage:B8(()=>localStorage),partialize:x=>x,version:0,merge:(x,m)=>({...m,...x}),...e},o=!1;const a=new Set,c=new Set;let u=i.storage;if(!u)return n((...x)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),t(...x)},r,s);const f=()=>{const x=i.partialize({...r()});return u.setItem(i.name,{state:x,version:i.version})},l=s.setState;s.setState=(x,m)=>{l(x,m),f()};const d=n((...x)=>{t(...x),f()},r,s);s.getInitialState=()=>d;let h;const p=()=>{var x,m;if(!u)return;o=!1,a.forEach(C=>{var v;return C((v=r())!=null?v:d)});const w=((m=i.onRehydrateStorage)==null?void 0:m.call(i,(x=r())!=null?x:d))||void 0;return Yf(u.getItem.bind(u))(i.name).then(C=>{if(C)if(typeof C.version=="number"&&C.version!==i.version){if(i.migrate)return[!0,i.migrate(C.state,C.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,C.state];return[!1,void 0]}).then(C=>{var v;const[P,g]=C;if(h=i.merge(g,(v=r())!=null?v:d),t(h,!0),P)return f()}).then(()=>{w==null||w(h,void 0),h=r(),o=!0,c.forEach(C=>C(h))}).catch(C=>{w==null||w(void 0,C)})};return s.persist={setOptions:x=>{i={...i,...x},x.storage&&(u=x.storage)},clearStorage:()=>{u==null||u.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>p(),hasHydrated:()=>o,onHydrate:x=>(a.add(x),()=>{a.delete(x)}),onFinishHydration:x=>(c.add(x),()=>{c.delete(x)})},i.skipHydration||p(),h||d},T8=S8,Fh=n=>{let e;const t=new Set,r=(u,f)=>{const l=typeof u=="function"?u(e):u;if(!Object.is(l,e)){const d=e;e=f??(typeof l!="object"||l===null)?l:Object.assign({},e,l),t.forEach(h=>h(e,d))}},s=()=>e,a={setState:r,getState:s,getInitialState:()=>c,subscribe:u=>(t.add(u),()=>t.delete(u))},c=e=n(r,s,a);return a},Ju=n=>n?Fh(n):Fh;var op={exports:{}};(function(n){var e=Object.prototype.hasOwnProperty,t="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(t=!1));function s(c,u,f){this.fn=c,this.context=u,this.once=f||!1}function i(c,u,f,l,d){if(typeof f!="function")throw new TypeError("The listener must be a function");var h=new s(f,l||c,d),p=t?t+u:u;return c._events[p]?c._events[p].fn?c._events[p]=[c._events[p],h]:c._events[p].push(h):(c._events[p]=h,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new r:delete c._events[u]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],f,l;if(this._eventsCount===0)return u;for(l in f=this._events)e.call(f,l)&&u.push(t?l.slice(1):l);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(f)):u},a.prototype.listeners=function(u){var f=t?t+u:u,l=this._events[f];if(!l)return[];if(l.fn)return[l.fn];for(var d=0,h=l.length,p=new Array(h);d<h;d++)p[d]=l[d].fn;return p},a.prototype.listenerCount=function(u){var f=t?t+u:u,l=this._events[f];return l?l.fn?1:l.length:0},a.prototype.emit=function(u,f,l,d,h,p){var x=t?t+u:u;if(!this._events[x])return!1;var m=this._events[x],w=arguments.length,C,v;if(m.fn){switch(m.once&&this.removeListener(u,m.fn,void 0,!0),w){case 1:return m.fn.call(m.context),!0;case 2:return m.fn.call(m.context,f),!0;case 3:return m.fn.call(m.context,f,l),!0;case 4:return m.fn.call(m.context,f,l,d),!0;case 5:return m.fn.call(m.context,f,l,d,h),!0;case 6:return m.fn.call(m.context,f,l,d,h,p),!0}for(v=1,C=new Array(w-1);v<w;v++)C[v-1]=arguments[v];m.fn.apply(m.context,C)}else{var P=m.length,g;for(v=0;v<P;v++)switch(m[v].once&&this.removeListener(u,m[v].fn,void 0,!0),w){case 1:m[v].fn.call(m[v].context);break;case 2:m[v].fn.call(m[v].context,f);break;case 3:m[v].fn.call(m[v].context,f,l);break;case 4:m[v].fn.call(m[v].context,f,l,d);break;default:if(!C)for(g=1,C=new Array(w-1);g<w;g++)C[g-1]=arguments[g];m[v].fn.apply(m[v].context,C)}}return!0},a.prototype.on=function(u,f,l){return i(this,u,f,l,!1)},a.prototype.once=function(u,f,l){return i(this,u,f,l,!0)},a.prototype.removeListener=function(u,f,l,d){var h=t?t+u:u;if(!this._events[h])return this;if(!f)return o(this,h),this;var p=this._events[h];if(p.fn)p.fn===f&&(!d||p.once)&&(!l||p.context===l)&&o(this,h);else{for(var x=0,m=[],w=p.length;x<w;x++)(p[x].fn!==f||d&&!p[x].once||l&&p[x].context!==l)&&m.push(p[x]);m.length?this._events[h]=m.length===1?m[0]:m:o(this,h)}return this},a.prototype.removeAllListeners=function(u){var f;return u?(f=t?t+u:u,this._events[f]&&o(this,f)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=t,a.EventEmitter=a,n.exports=a})(op);var O8=op.exports;const k8=Hm(O8);class R8{constructor(e){Object.defineProperty(this,"uid",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"_emitter",{enumerable:!0,configurable:!0,writable:!0,value:new k8})}on(e,t){this._emitter.on(e,t)}once(e,t){this._emitter.once(e,t)}off(e,t){this._emitter.off(e,t)}emit(e,...t){const r=t[0];this._emitter.emit(e,{uid:this.uid,...r})}listenerCount(e){return this._emitter.listenerCount(e)}}function U8(n){return new R8(n)}function F8(n,e){return JSON.parse(n,(t,r)=>{let s=r;return(s==null?void 0:s.__type)==="bigint"&&(s=BigInt(s.value)),(s==null?void 0:s.__type)==="Map"&&(s=new Map(s.value)),(e==null?void 0:e(t,s))??s})}function Lh(n,e){return n.slice(0,e).join(".")||"."}function Mh(n,e){const{length:t}=n;for(let r=0;r<t;++r)if(n[r]===e)return r+1;return 0}function L8(n,e){const t=typeof n=="function",r=typeof e=="function",s=[],i=[];return function(a,c){if(typeof c=="object")if(s.length){const u=Mh(s,this);u===0?s[s.length]=this:(s.splice(u),i.splice(u)),i[i.length]=a;const f=Mh(s,c);if(f!==0)return r?e.call(this,a,c,Lh(i,f)):`[ref=${Lh(i,f)}]`}else s[0]=c,i[0]=a;return t?n.call(this,a,c):c}}function M8(n,e,t,r){return JSON.stringify(n,L8((s,i)=>{let o=i;return typeof o=="bigint"&&(o={__type:"bigint",value:i.toString()}),o instanceof Map&&(o={__type:"Map",value:Array.from(i.entries())}),(e==null?void 0:e(s,o))??o},r),t??void 0)}function D8(n){const{deserialize:e=F8,key:t="wagmi",serialize:r=M8,storage:s=ap}=n;function i(o){return o instanceof Promise?o.then(a=>a).catch(()=>null):o}return{...s,key:t,async getItem(o,a){const c=s.getItem(`${t}.${o}`),u=await i(c);return u?e(u)??null:a??null},async setItem(o,a){const c=`${t}.${o}`;a===null?await i(s.removeItem(c)):await i(s.setItem(c,r(a)))},async removeItem(o){await i(s.removeItem(`${t}.${o}`))}}}const ap={getItem:()=>null,setItem:()=>{},removeItem:()=>{}};function $8(){const n=typeof window<"u"&&window.localStorage?window.localStorage:ap;return{getItem(e){return n.getItem(e)},removeItem(e){n.removeItem(e)},setItem(e,t){try{n.setItem(e,t)}catch{}}}}const Xf=256;let $c=Xf,Gc;function G8(n=11){if(!Gc||$c+n>Xf*2){Gc="",$c=0;for(let e=0;e<Xf;e++)Gc+=(256+Math.random()*256|0).toString(16).substring(1)}return Gc.substring($c,$c+++n)}function Bv(n){const{multiInjectedProviderDiscovery:e=!0,storage:t=D8({storage:$8()}),syncConnectedChain:r=!0,ssr:s=!1,...i}=n,o=typeof window<"u"&&e?I8():void 0,a=Ju(()=>i.chains),c=Ju(()=>{const g=[],E=new Set;for(const I of i.connectors??[]){const S=u(I);if(g.push(S),!s&&S.rdns){const k=typeof S.rdns=="string"?[S.rdns]:S.rdns;for(const L of k)E.add(L)}}if(!s&&o){const I=o.getProviders();for(const S of I)E.has(S.info.rdns)||g.push(u(f(S)))}return g});function u(g){var S;const E=U8(G8()),I={...g({emitter:E,chains:a.getState(),storage:t,transports:i.transports}),emitter:E,uid:E.uid};return E.on("connect",v),(S=I.setup)==null||S.call(I),I}function f(g){const{info:E}=g,I=g.provider;return yd({target:{...E,id:E.rdns,provider:I}})}const l=new Map;function d(g={}){const E=g.chainId??m.getState().chainId,I=a.getState().find(k=>k.id===E);if(g.chainId&&!I)throw new v0;{const k=l.get(m.getState().chainId);if(k&&!I)return k;if(!I)throw new v0}{const k=l.get(E);if(k)return k}let S;if(i.client)S=i.client({chain:I});else{const k=I.id,L=a.getState().map($=>$.id),R={},z=Object.entries(i);for(const[$,W]of z)if(!($==="chains"||$==="client"||$==="connectors"||$==="transports"))if(typeof W=="object")if(k in W)R[$]=W[k];else{if(L.some(T=>T in W))continue;R[$]=W}else R[$]=W;S=rp({...R,chain:I,batch:R.batch??{multicall:!0},transport:$=>i.transports[k]({...$,connectors:c})})}return l.set(E,S),S}function h(){return{chainId:a.getState()[0].id,connections:new Map,current:null,status:"disconnected"}}let p;const x="0.0.0-canary-";t0.startsWith(x)?p=Number.parseInt(t0.replace(x,""),10):p=Number.parseInt(t0.split(".")[0]??"0",10);const m=Ju(N8(t?T8(h,{migrate(g,E){if(E===p)return g;const I=h(),S=w(g,I.chainId);return{...I,chainId:S}},name:"store",partialize(g){return{connections:{__type:"Map",value:Array.from(g.connections.entries()).map(([E,I])=>{const{id:S,name:k,type:L,uid:R}=I.connector;return[E,{...I,connector:{id:S,name:k,type:L,uid:R}}]})},chainId:g.chainId,current:g.current}},merge(g,E){typeof g=="object"&&g&&"status"in g&&delete g.status;const I=w(g,E.chainId);return{...E,...g,chainId:I}},skipHydration:s,storage:t,version:p}):h));m.setState(h());function w(g,E){return g&&typeof g=="object"&&"chainId"in g&&typeof g.chainId=="number"&&a.getState().some(I=>I.id===g.chainId)?g.chainId:E}r&&m.subscribe(({connections:g,current:E})=>{var I;return E?(I=g.get(E))==null?void 0:I.chainId:void 0},g=>{if(a.getState().some(I=>I.id===g))return m.setState(I=>({...I,chainId:g??I.chainId}))}),o==null||o.subscribe(g=>{const E=new Set,I=new Set;for(const k of c.getState())if(E.add(k.id),k.rdns){const L=typeof k.rdns=="string"?[k.rdns]:k.rdns;for(const R of L)I.add(R)}const S=[];for(const k of g){if(I.has(k.info.rdns))continue;const L=u(f(k));E.has(L.id)||S.push(L)}t&&!m.persist.hasHydrated()||c.setState(k=>[...k,...S],!0)});function C(g){m.setState(E=>{const I=E.connections.get(g.uid);return I?{...E,connections:new Map(E.connections).set(g.uid,{accounts:g.accounts??I.accounts,chainId:g.chainId??I.chainId,connector:I.connector})}:E})}function v(g){m.getState().status==="connecting"||m.getState().status==="reconnecting"||m.setState(E=>{const I=c.getState().find(S=>S.uid===g.uid);return I?(I.emitter.listenerCount("connect")&&I.emitter.off("connect",C),I.emitter.listenerCount("change")||I.emitter.on("change",C),I.emitter.listenerCount("disconnect")||I.emitter.on("disconnect",P),{...E,connections:new Map(E.connections).set(g.uid,{accounts:g.accounts,chainId:g.chainId,connector:I}),current:g.uid,status:"connected"}):E})}function P(g){m.setState(E=>{const I=E.connections.get(g.uid);if(I){const k=I.connector;k.emitter.listenerCount("change")&&I.connector.emitter.off("change",C),k.emitter.listenerCount("disconnect")&&I.connector.emitter.off("disconnect",P),k.emitter.listenerCount("connect")||I.connector.emitter.on("connect",v)}if(E.connections.delete(g.uid),E.connections.size===0)return{...E,connections:new Map,current:null,status:"disconnected"};const S=E.connections.values().next().value;return{...E,connections:new Map(E.connections),current:S.connector.uid}})}return{get chains(){return a.getState()},get connectors(){return c.getState()},storage:t,getClient:d,get state(){return m.getState()},setState(g){let E;typeof g=="function"?E=g(m.getState()):E=g;const I=h();typeof E!="object"&&(E=I),Object.keys(I).some(k=>!(k in E))&&(E=I),m.setState(E,!0)},subscribe(g,E,I){return m.subscribe(g,E,I?{...I,fireImmediately:I.emitImmediately}:void 0)},_internal:{mipd:o,async revalidate(){const g=m.getState(),E=g.connections;let I=g.current;for(const[,S]of E){const k=S.connector;k.isAuthorized&&await k.isAuthorized()||(E.delete(k.uid),I===k.uid&&(I=null))}m.setState(S=>({...S,connections:E,current:I}))},store:m,ssr:!!s,syncConnectedChain:r,transports:i.transports,chains:{setState(g){const E=typeof g=="function"?g(a.getState()):g;if(E.length!==0)return a.setState(E,!0)},subscribe(g){return a.subscribe(g)}},connectors:{providerDetailToConnector:f,setup:u,setState(g){return c.setState(typeof g=="function"?g(c.getState()):g,!0)},subscribe(g){return c.subscribe(g)}},events:{change:C,connect:v,disconnect:P}}}}function z8(n,e){const{initialState:t,reconnectOnMount:r}=e;return t&&!n._internal.store.persist.hasHydrated()&&n.setState({...t,chainId:n.chains.some(s=>s.id===t.chainId)?t.chainId:n.chains[0].id,connections:r?t.connections:new Map,status:r?"reconnecting":"disconnected"}),{async onMount(){n._internal.ssr&&(await n._internal.store.persist.rehydrate(),n._internal.mipd&&n._internal.connectors.setState(s=>{var c;const i=new Set;for(const u of s??[])if(u.rdns){const f=Array.isArray(u.rdns)?u.rdns:[u.rdns];for(const l of f)i.add(l)}const o=[],a=((c=n._internal.mipd)==null?void 0:c.getProviders())??[];for(const u of a){if(i.has(u.info.rdns))continue;const f=n._internal.connectors.providerDetailToConnector(u),l=n._internal.connectors.setup(f);o.push(l)}return[...s,...o]})),r?m8(n):n.storage&&n.setState(s=>({...s,connections:new Map}))}}}function H8(n){const{children:e,config:t,initialState:r,reconnectOnMount:s=!0}=n,{onMount:i}=z8(t,{initialState:r,reconnectOnMount:s});t._internal.ssr||i();const o=Dt.useRef(!0);return Dt.useEffect(()=>{if(o.current&&t._internal.ssr)return i(),()=>{o.current=!1}},[]),e}const cp=Dt.createContext(void 0);function Sv(n){const{children:e,config:t}=n,r={value:t};return Dt.createElement(H8,n,Dt.createElement(cp.Provider,r,e))}const _8="2.19.2",j8=()=>`wagmi@${_8}`;class V8 extends fr{constructor(){super(...arguments),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiError"})}get docsBaseUrl(){return"https://wagmi.sh/react"}get version(){return j8()}}class K8 extends V8{constructor(){super("`useConfig` must be used within `WagmiProvider`.",{docsPath:"/api/WagmiProvider"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiProviderNotFoundError"})}}function Pc(n={}){const e=n.config??Dt.useContext(cp);if(!e)throw new K8;return e}var up={exports:{}},fp={},lp={exports:{}},dp={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ao=Dt;function Q8(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var J8=typeof Object.is=="function"?Object.is:Q8,W8=Ao.useState,q8=Ao.useEffect,Z8=Ao.useLayoutEffect,Y8=Ao.useDebugValue;function X8(n,e){var t=e(),r=W8({inst:{value:t,getSnapshot:e}}),s=r[0].inst,i=r[1];return Z8(function(){s.value=t,s.getSnapshot=e,Wu(s)&&i({inst:s})},[n,t,e]),q8(function(){return Wu(s)&&i({inst:s}),n(function(){Wu(s)&&i({inst:s})})},[n]),Y8(t),t}function Wu(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!J8(n,t)}catch{return!0}}function e3(n,e){return e()}var t3=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?e3:X8;dp.useSyncExternalStore=Ao.useSyncExternalStore!==void 0?Ao.useSyncExternalStore:t3;lp.exports=dp;var n3=lp.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cu=Dt,r3=n3;function s3(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var i3=typeof Object.is=="function"?Object.is:s3,o3=r3.useSyncExternalStore,a3=cu.useRef,c3=cu.useEffect,u3=cu.useMemo,f3=cu.useDebugValue;fp.useSyncExternalStoreWithSelector=function(n,e,t,r,s){var i=a3(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=u3(function(){function c(h){if(!u){if(u=!0,f=h,h=r(h),s!==void 0&&o.hasValue){var p=o.value;if(s(p,h))return l=p}return l=h}if(p=l,i3(f,h))return p;var x=r(h);return s!==void 0&&s(p,x)?(f=h,p):(f=h,l=x)}var u=!1,f,l,d=t===void 0?null:t;return[function(){return c(e())},d===null?void 0:function(){return c(d())}]},[e,t,r,s]);var a=o3(n,i[0],i[1]);return c3(function(){o.hasValue=!0,o.value=a},[a]),f3(a),a};up.exports=fp;var l3=up.exports;const qu=n=>typeof n=="object"&&!Array.isArray(n);function d3(n,e,t=e,r=wo){const s=Dt.useRef([]),i=l3.useSyncExternalStoreWithSelector(n,e,t,o=>o,(o,a)=>{if(qu(o)&&qu(a)&&s.current.length){for(const c of s.current)if(!r(o[c],a[c]))return!1;return!0}return r(o,a)});return Dt.useMemo(()=>{if(qu(i)){const o={...i};let a={};for(const[c,u]of Object.entries(o))a={...a,[c]:{configurable:!1,enumerable:!0,get:()=>(s.current.includes(c)||s.current.push(c),u)}};return Object.defineProperties(o,a),o}return i},[i])}function Tv(n={}){const e=Pc(n);return d3(t=>w8(e,{onChange:t}),()=>md(e))}function h3(n){return JSON.stringify(n,(e,t)=>b3(t)?Object.keys(t).sort().reduce((r,s)=>(r[s]=t[s],r),{}):typeof t=="bigint"?t.toString():t)}function b3(n){if(!Dh(n))return!1;const e=n.constructor;if(typeof e>"u")return!0;const t=e.prototype;return!(!Dh(t)||!t.hasOwnProperty("isPrototypeOf"))}function Dh(n){return Object.prototype.toString.call(n)==="[object Object]"}function x3(n){const{_defaulted:e,behavior:t,gcTime:r,initialData:s,initialDataUpdatedAt:i,maxPages:o,meta:a,networkMode:c,queryFn:u,queryHash:f,queryKey:l,queryKeyHashFn:d,retry:h,retryDelay:p,structuralSharing:x,getPreviousPageParam:m,getNextPageParam:w,initialPageParam:C,_optimisticResults:v,enabled:P,notifyOnChangeProps:g,placeholderData:E,refetchInterval:I,refetchIntervalInBackground:S,refetchOnMount:k,refetchOnReconnect:L,refetchOnWindowFocus:R,retryOnMount:z,select:$,staleTime:W,suspense:B,throwOnError:T,config:M,connector:_,query:H,...j}=n;return j}function p3(n){return{mutationFn(e){return h8(n,e)},mutationKey:["disconnect"]}}function g3(n,e={}){return{async queryFn({queryKey:t}){const{address:r,scopeKey:s,...i}=t[1];if(!r)throw new Error("address is required");return await g8(n,{...i,address:r})??null},queryKey:m3(e)}}function m3(n={}){return["balance",x3(n)]}function y3(n){const e=_m({...n,queryKeyHashFn:h3});return e.queryKey=n.queryKey,e}function w3(n={}){const e=Pc(n);return Dt.useSyncExternalStore(t=>A8(e,{onChange:t}),()=>Uh(e),()=>Uh(e))}function Ov(n={}){const{address:e,query:t={}}=n,r=Pc(n),s=w3({config:r}),i=g3(r,{...n,chainId:n.chainId??s}),o=!!(e&&(t.enabled??!0));return y3({...t,...i,enabled:o})}function A3(n={}){const e=Pc(n);return Dt.useSyncExternalStore(t=>E8(e,{onChange:t}),()=>Zf(e),()=>Zf(e))}function kv(n={}){const{mutation:e}=n,t=Pc(n),r=p3(t),{mutate:s,mutateAsync:i,...o}=jm({...e,...r});return{...o,connectors:A3({config:t}).map(a=>a.connector),disconnect:s,disconnectAsync:i}}const E3={gasPriceOracle:{address:"0x420000000000000000000000000000000000000F"},l1Block:{address:"0x4200000000000000000000000000000000000015"},l2CrossDomainMessenger:{address:"0x4200000000000000000000000000000000000007"},l2Erc721Bridge:{address:"0x4200000000000000000000000000000000000014"},l2StandardBridge:{address:"0x4200000000000000000000000000000000000010"},l2ToL1MessagePasser:{address:"0x4200000000000000000000000000000000000016"}},v3={block:T2({format(n){var t;return{transactions:(t=n.transactions)==null?void 0:t.map(r=>{if(typeof r=="string")return r;const s=iu(r);return s.typeHex==="0x7e"&&(s.isSystemTx=r.isSystemTx,s.mint=r.mint?Yt(r.mint):void 0,s.sourceHash=r.sourceHash,s.type="deposit"),s}),stateRoot:n.stateRoot}}}),transaction:B2({format(n){const e={};return n.type==="0x7e"&&(e.isSystemTx=n.isSystemTx,e.mint=n.mint?Yt(n.mint):void 0,e.sourceHash=n.sourceHash,e.type="deposit"),e}}),transactionReceipt:Pw({format(n){return{l1GasPrice:n.l1GasPrice?Yt(n.l1GasPrice):null,l1GasUsed:n.l1GasUsed?Yt(n.l1GasUsed):null,l1Fee:n.l1Fee?Yt(n.l1Fee):null,l1FeeScalar:n.l1FeeScalar?Number(n.l1FeeScalar):null}}})};function P3(n,e){return N3(n)?C3(n):iw(n,e)}const I3={transaction:P3};function C3(n){B3(n);const{sourceHash:e,data:t,from:r,gas:s,isSystemTx:i,mint:o,to:a,value:c}=n,u=[e,r,a??"0x",o?tn(o):"0x",c?tn(c):"0x",s?tn(s):"0x",i?"0x1":"0x",t??"0x"];return Bn(["0x7e",Vr(u)])}function N3(n){return n.type==="deposit"||typeof n.sourceHash<"u"}function B3(n){const{from:e,to:t}=n;if(e&&!Ge(e))throw new ut({address:e});if(t&&!Ge(t))throw new ut({address:t})}const P0={blockTime:2e3,contracts:E3,formatters:v3,serializers:I3},Rv=Xs({id:42161,name:"Arbitrum One",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},blockTime:250,rpcUrls:{default:{http:["https://arb1.arbitrum.io/rpc"]}},blockExplorers:{default:{name:"Arbiscan",url:"https://arbiscan.io",apiUrl:"https://api.arbiscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:7654707}}}),Jo=1,S3=Xs({...P0,id:8453,name:"Base",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://mainnet.base.org"]}},blockExplorers:{default:{name:"Basescan",url:"https://basescan.org",apiUrl:"https://api.basescan.org/api"}},contracts:{...P0.contracts,disputeGameFactory:{[Jo]:{address:"0x43edB88C4B80fDD2AdFF2412A7BebF9dF42cB40e"}},l2OutputOracle:{[Jo]:{address:"0x56315b90c40730925ec5485cf004d835058518A0"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:5022},portal:{[Jo]:{address:"0x49048044D57e1C92A77f79988d21Fa8fAF74E97e",blockCreated:17482143}},l1StandardBridge:{[Jo]:{address:"0x3154Cf16ccdb4C6d922629664174b904d80F2C35",blockCreated:17482143}}},sourceId:Jo});({...S3});const Uv=Xs({id:56,name:"BNB Smart Chain",blockTime:750,nativeCurrency:{decimals:18,name:"BNB",symbol:"BNB"},rpcUrls:{default:{http:["https://56.rpc.thirdweb.com"]}},blockExplorers:{default:{name:"BscScan",url:"https://bscscan.com",apiUrl:"https://api.bscscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:15921452}}}),Fv=Xs({id:1,name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},blockTime:12e3,rpcUrls:{default:{http:["https://eth.merkle.io"]}},blockExplorers:{default:{name:"Etherscan",url:"https://etherscan.io",apiUrl:"https://api.etherscan.io/api"}},contracts:{ensUniversalResolver:{address:"0xeeeeeeee14d718c2b47d9923deab1335e144eeee",blockCreated:23085558},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:14353601}}}),Wo=1,Lv=Xs({...P0,id:10,name:"OP Mainnet",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://mainnet.optimism.io"]}},blockExplorers:{default:{name:"Optimism Explorer",url:"https://optimistic.etherscan.io",apiUrl:"https://api-optimistic.etherscan.io/api"}},contracts:{...P0.contracts,disputeGameFactory:{[Wo]:{address:"0xe5965Ab5962eDc7477C8520243A95517CD252fA9"}},l2OutputOracle:{[Wo]:{address:"0xdfe97868233d1aa22e815a266982f2cf17685a27"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:4286263},portal:{[Wo]:{address:"0xbEb5Fc579115071764c7423A4f12eDde41f106Ed"}},l1StandardBridge:{[Wo]:{address:"0x99C9fc46f92E8a1c0deC1b1747d010903E884bE1"}}},sourceId:Wo}),Mv=Xs({id:137,name:"Polygon",blockTime:2e3,nativeCurrency:{name:"POL",symbol:"POL",decimals:18},rpcUrls:{default:{http:["https://polygon-rpc.com"]}},blockExplorers:{default:{name:"PolygonScan",url:"https://polygonscan.com",apiUrl:"https://api.polygonscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:25770160}}}),hp="6.15.0";function T3(n,e,t){const r=e.split("|").map(i=>i.trim());for(let i=0;i<r.length;i++)switch(e){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof n===e)return}const s=new Error(`invalid value for type ${e}`);throw s.code="INVALID_ARGUMENT",s.argument=`value.${t}`,s.value=n,s}async function je(n){const e=Object.keys(n);return(await Promise.all(e.map(r=>Promise.resolve(n[r])))).reduce((r,s,i)=>(r[e[i]]=s,r),{})}function q(n,e,t){for(let r in e){let s=e[r];const i=t?t[r]:null;i&&T3(s,i,r),Object.defineProperty(n,r,{enumerable:!0,value:s,writable:!1})}}function bi(n,e){if(n==null)return"null";if(e==null&&(e=new Set),typeof n=="object"){if(e.has(n))return"[Circular]";e.add(n)}if(Array.isArray(n))return"[ "+n.map(t=>bi(t,e)).join(", ")+" ]";if(n instanceof Uint8Array){const t="0123456789abcdef";let r="0x";for(let s=0;s<n.length;s++)r+=t[n[s]>>4],r+=t[n[s]&15];return r}if(typeof n=="object"&&typeof n.toJSON=="function")return bi(n.toJSON(),e);switch(typeof n){case"boolean":case"number":case"symbol":return n.toString();case"bigint":return BigInt(n).toString();case"string":return JSON.stringify(n);case"object":{const t=Object.keys(n);return t.sort(),"{ "+t.map(r=>`${bi(r,e)}: ${bi(n[r],e)}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function Me(n,e){return n&&n.code===e}function wd(n){return Me(n,"CALL_EXCEPTION")}function pe(n,e,t){let r=n;{const i=[];if(t){if("message"in t||"code"in t||"name"in t)throw new Error(`value will overwrite populated values: ${bi(t)}`);for(const o in t){if(o==="shortMessage")continue;const a=t[o];i.push(o+"="+bi(a))}}i.push(`code=${e}`),i.push(`version=${hp}`),i.length&&(n+=" ("+i.join(", ")+")")}let s;switch(e){case"INVALID_ARGUMENT":s=new TypeError(n);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":s=new RangeError(n);break;default:s=new Error(n)}return q(s,{code:e}),t&&Object.assign(s,t),s.shortMessage==null&&q(s,{shortMessage:r}),s}function U(n,e,t,r){if(!n)throw pe(e,t,r)}function A(n,e,t,r){U(n,e,"INVALID_ARGUMENT",{argument:t,value:r})}function bp(n,e,t){t==null&&(t=""),t&&(t=": "+t),U(n>=e,"missing argument"+t,"MISSING_ARGUMENT",{count:n,expectedCount:e}),U(n<=e,"too many arguments"+t,"UNEXPECTED_ARGUMENT",{count:n,expectedCount:e})}const O3=["NFD","NFC","NFKD","NFKC"].reduce((n,e)=>{try{if("test".normalize(e)!=="test")throw new Error("bad");if(e==="NFD"&&"".normalize("NFD")!=="e")throw new Error("broken");n.push(e)}catch{}return n},[]);function xp(n){U(O3.indexOf(n)>=0,"platform missing String.prototype.normalize","UNSUPPORTED_OPERATION",{operation:"String.prototype.normalize",info:{form:n}})}function Qr(n,e,t){if(t==null&&(t=""),n!==e){let r=t,s="new";t&&(r+=".",s+=" "+t),U(!1,`private constructor; use ${r}from* methods`,"UNSUPPORTED_OPERATION",{operation:s})}}function pp(n,e,t){if(n instanceof Uint8Array)return t?new Uint8Array(n):n;if(typeof n=="string"&&n.match(/^0x(?:[0-9a-f][0-9a-f])*$/i)){const r=new Uint8Array((n.length-2)/2);let s=2;for(let i=0;i<r.length;i++)r[i]=parseInt(n.substring(s,s+2),16),s+=2;return r}A(!1,"invalid BytesLike value",e||"value",n)}function V(n,e){return pp(n,e,!1)}function De(n,e){return pp(n,e,!0)}function de(n,e){return!(typeof n!="string"||!n.match(/^0x[0-9A-Fa-f]*$/)||typeof e=="number"&&n.length!==2+2*e||e===!0&&n.length%2!==0)}function uu(n){return de(n,!0)||n instanceof Uint8Array}const $h="0123456789abcdef";function G(n){const e=V(n);let t="0x";for(let r=0;r<e.length;r++){const s=e[r];t+=$h[(s&240)>>4]+$h[s&15]}return t}function ce(n){return"0x"+n.map(e=>G(e).substring(2)).join("")}function Ei(n){return de(n,!0)?(n.length-2)/2:V(n).length}function he(n,e,t){const r=V(n);return t!=null&&t>r.length&&U(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:r,length:r.length,offset:t}),G(r.slice(e??0,t??r.length))}function gp(n,e,t){const r=V(n);U(e>=r.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(r),length:e,offset:e+1});const s=new Uint8Array(e);return s.fill(0),t?s.set(r,e-r.length):s.set(r,0),G(s)}function rr(n,e){return gp(n,e,!0)}function k3(n,e){return gp(n,e,!1)}const fu=BigInt(0),en=BigInt(1),xi=9007199254740991;function I0(n,e){const t=lu(n,"value"),r=BigInt(Y(e,"width"));if(U(t>>r===fu,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:n}),t>>r-en){const s=(en<<r)-en;return-((~t&s)+en)}return t}function mp(n,e){let t=K(n,"value");const r=BigInt(Y(e,"width")),s=en<<r-en;if(t<fu){t=-t,U(t<=s,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:n});const i=(en<<r)-en;return(~t&i)+en}else U(t<s,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:n});return t}function us(n,e){const t=lu(n,"value"),r=BigInt(Y(e,"bits"));return t&(en<<r)-en}function K(n,e){switch(typeof n){case"bigint":return n;case"number":return A(Number.isInteger(n),"underflow",e||"value",n),A(n>=-xi&&n<=xi,"overflow",e||"value",n),BigInt(n);case"string":try{if(n==="")throw new Error("empty string");return n[0]==="-"&&n[1]!=="-"?-BigInt(n.substring(1)):BigInt(n)}catch(t){A(!1,`invalid BigNumberish string: ${t.message}`,e||"value",n)}}A(!1,"invalid BigNumberish value",e||"value",n)}function lu(n,e){const t=K(n,e);return U(t>=fu,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:n}),t}const Gh="0123456789abcdef";function Ic(n){if(n instanceof Uint8Array){let e="0x0";for(const t of n)e+=Gh[t>>4],e+=Gh[t&15];return BigInt(e)}return K(n)}function Y(n,e){switch(typeof n){case"bigint":return A(n>=-xi&&n<=xi,"overflow",e||"value",n),Number(n);case"number":return A(Number.isInteger(n),"underflow",e||"value",n),A(n>=-xi&&n<=xi,"overflow",e||"value",n),n;case"string":try{if(n==="")throw new Error("empty string");return Y(BigInt(n),e)}catch(t){A(!1,`invalid numeric string: ${t.message}`,e||"value",n)}}A(!1,"invalid numeric value",e||"value",n)}function R3(n){return Y(Ic(n))}function sr(n,e){let r=lu(n,"value").toString(16);if(e==null)r.length%2&&(r="0"+r);else{const s=Y(e,"width");for(U(s*2>=r.length,`value exceeds width (${s} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:n});r.length<s*2;)r="0"+r}return"0x"+r}function we(n){const e=lu(n,"value");if(e===fu)return new Uint8Array([]);let t=e.toString(16);t.length%2&&(t="0"+t);const r=new Uint8Array(t.length/2);for(let s=0;s<r.length;s++){const i=s*2;r[s]=parseInt(t.substring(i,i+2),16)}return r}function Zt(n){let e=G(uu(n)?n:we(n)).substring(2);for(;e.startsWith("0");)e=e.substring(1);return e===""&&(e="0"),"0x"+e}const C0="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";let zc=null;function U3(n){if(zc==null){zc={};for(let t=0;t<C0.length;t++)zc[C0[t]]=BigInt(t)}const e=zc[n];return A(e!=null,"invalid base58 value","letter",n),e}const F3=BigInt(0),el=BigInt(58);function yp(n){const e=V(n);let t=Ic(e),r="";for(;t;)r=C0[Number(t%el)]+r,t/=el;for(let s=0;s<e.length&&!e[s];s++)r=C0[0]+r;return r}function L3(n){let e=F3;for(let t=0;t<n.length;t++)e*=el,e+=U3(n[t]);return e}function M3(n){n=atob(n);const e=new Uint8Array(n.length);for(let t=0;t<n.length;t++)e[t]=n.charCodeAt(t);return V(e)}function D3(n){const e=V(n);let t="";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return btoa(t)}var Ni;class wp{constructor(e,t,r){N(this,"filter");N(this,"emitter");O(this,Ni);y(this,Ni,t),q(this,{emitter:e,filter:r})}async removeListener(){b(this,Ni)!=null&&await this.emitter.off(this.filter,b(this,Ni))}}Ni=new WeakMap;function $3(n,e,t,r,s){A(!1,`invalid codepoint at offset ${e}; ${n}`,"bytes",t)}function Ap(n,e,t,r,s){if(n==="BAD_PREFIX"||n==="UNEXPECTED_CONTINUE"){let i=0;for(let o=e+1;o<t.length&&t[o]>>6===2;o++)i++;return i}return n==="OVERRUN"?t.length-e-1:0}function G3(n,e,t,r,s){return n==="OVERLONG"?(A(typeof s=="number","invalid bad code point for replacement","badCodepoint",s),r.push(s),0):(r.push(65533),Ap(n,e,t))}const z3=Object.freeze({error:$3,ignore:Ap,replace:G3});function H3(n,e){e==null&&(e=z3.error);const t=V(n,"bytes"),r=[];let s=0;for(;s<t.length;){const i=t[s++];if(!(i>>7)){r.push(i);continue}let o=null,a=null;if((i&224)===192)o=1,a=127;else if((i&240)===224)o=2,a=2047;else if((i&248)===240)o=3,a=65535;else{(i&192)===128?s+=e("UNEXPECTED_CONTINUE",s-1,t,r):s+=e("BAD_PREFIX",s-1,t,r);continue}if(s-1+o>=t.length){s+=e("OVERRUN",s-1,t,r);continue}let c=i&(1<<8-o-1)-1;for(let u=0;u<o;u++){let f=t[s];if((f&192)!=128){s+=e("MISSING_CONTINUE",s,t,r),c=null;break}c=c<<6|f&63,s++}if(c!==null){if(c>1114111){s+=e("OUT_OF_RANGE",s-1-o,t,r,c);continue}if(c>=55296&&c<=57343){s+=e("UTF16_SURROGATE",s-1-o,t,r,c);continue}if(c<=a){s+=e("OVERLONG",s-1-o,t,r,c);continue}r.push(c)}}return r}function Xe(n,e){A(typeof n=="string","invalid string value","str",n),e!=null&&(xp(e),n=n.normalize(e));let t=[];for(let r=0;r<n.length;r++){const s=n.charCodeAt(r);if(s<128)t.push(s);else if(s<2048)t.push(s>>6|192),t.push(s&63|128);else if((s&64512)==55296){r++;const i=n.charCodeAt(r);A(r<n.length&&(i&64512)===56320,"invalid surrogate pair","str",n);const o=65536+((s&1023)<<10)+(i&1023);t.push(o>>18|240),t.push(o>>12&63|128),t.push(o>>6&63|128),t.push(o&63|128)}else t.push(s>>12|224),t.push(s>>6&63|128),t.push(s&63|128)}return new Uint8Array(t)}function _3(n){return n.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function N0(n,e){return _3(H3(n,e))}function Ep(n){async function e(t,r){U(r==null||!r.cancelled,"request cancelled before sending","CANCELLED");const s=t.url.split(":")[0].toLowerCase();U(s==="http"||s==="https",`unsupported protocol ${s}`,"UNSUPPORTED_OPERATION",{info:{protocol:s},operation:"request"}),U(s==="https"||!t.credentials||t.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let i=null;const o=new AbortController,a=setTimeout(()=>{i=pe("request timeout","TIMEOUT"),o.abort()},t.timeout);r&&r.addListener(()=>{i=pe("request cancelled","CANCELLED"),o.abort()});const c=Object.assign({},n,{method:t.method,headers:new Headers(Array.from(t)),body:t.body||void 0,signal:o.signal});let u;try{u=await fetch(t.url,c)}catch(h){throw clearTimeout(a),i||h}clearTimeout(a);const f={};u.headers.forEach((h,p)=>{f[p.toLowerCase()]=h});const l=await u.arrayBuffer(),d=l==null?null:new Uint8Array(l);return{statusCode:u.status,statusMessage:u.statusText,headers:f,body:d}}return e}const j3=12,V3=250;let zh=Ep();const K3=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),Q3=new RegExp("^ipfs://(ipfs/)?(.*)$","i");let Zu=!1;async function vp(n,e){try{const t=n.match(K3);if(!t)throw new Error("invalid data");return new Gr(200,"OK",{"content-type":t[1]||"text/plain"},t[2]?M3(t[3]):W3(t[3]))}catch{return new Gr(599,"BAD REQUEST (invalid data: URI)",{},null,new ir(n))}}function Pp(n){async function e(t,r){try{const s=t.match(Q3);if(!s)throw new Error("invalid link");return new ir(`${n}${s[2]}`)}catch{return new Gr(599,"BAD REQUEST (invalid IPFS URI)",{},null,new ir(t))}}return e}const Hc={data:vp,ipfs:Pp("https://gateway.ipfs.io/ipfs/")},Ip=new WeakMap;var hs,Ar;class J3{constructor(e){O(this,hs);O(this,Ar);y(this,hs,[]),y(this,Ar,!1),Ip.set(e,()=>{if(!b(this,Ar)){y(this,Ar,!0);for(const t of b(this,hs))setTimeout(()=>{t()},0);y(this,hs,[])}})}addListener(e){U(!b(this,Ar),"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),b(this,hs).push(e)}get cancelled(){return b(this,Ar)}checkSignal(){U(!this.cancelled,"cancelled","CANCELLED",{})}}hs=new WeakMap,Ar=new WeakMap;function _c(n){if(n==null)throw new Error("missing signal; should not happen");return n.checkSignal(),n}var Bi,Si,Vt,Gn,Ti,Oi,Ne,xt,zn,bs,xs,ps,ln,Kt,Er,gs,ta;const $0=class $0{constructor(e){O(this,gs);O(this,Bi);O(this,Si);O(this,Vt);O(this,Gn);O(this,Ti);O(this,Oi);O(this,Ne);O(this,xt);O(this,zn);O(this,bs);O(this,xs);O(this,ps);O(this,ln);O(this,Kt);O(this,Er);y(this,Oi,String(e)),y(this,Bi,!1),y(this,Si,!0),y(this,Vt,{}),y(this,Gn,""),y(this,Ti,3e5),y(this,Kt,{slotInterval:V3,maxAttempts:j3}),y(this,Er,null)}get url(){return b(this,Oi)}set url(e){y(this,Oi,String(e))}get body(){return b(this,Ne)==null?null:new Uint8Array(b(this,Ne))}set body(e){if(e==null)y(this,Ne,void 0),y(this,xt,void 0);else if(typeof e=="string")y(this,Ne,Xe(e)),y(this,xt,"text/plain");else if(e instanceof Uint8Array)y(this,Ne,e),y(this,xt,"application/octet-stream");else if(typeof e=="object")y(this,Ne,Xe(JSON.stringify(e))),y(this,xt,"application/json");else throw new Error("invalid body")}hasBody(){return b(this,Ne)!=null}get method(){return b(this,Gn)?b(this,Gn):this.hasBody()?"POST":"GET"}set method(e){e==null&&(e=""),y(this,Gn,String(e).toUpperCase())}get headers(){const e=Object.assign({},b(this,Vt));return b(this,zn)&&(e.authorization=`Basic ${D3(Xe(b(this,zn)))}`),this.allowGzip&&(e["accept-encoding"]="gzip"),e["content-type"]==null&&b(this,xt)&&(e["content-type"]=b(this,xt)),this.body&&(e["content-length"]=String(this.body.length)),e}getHeader(e){return this.headers[e.toLowerCase()]}setHeader(e,t){b(this,Vt)[String(e).toLowerCase()]=String(t)}clearHeaders(){y(this,Vt,{})}[Symbol.iterator](){const e=this.headers,t=Object.keys(e);let r=0;return{next:()=>{if(r<t.length){const s=t[r++];return{value:[s,e[s]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return b(this,zn)||null}setCredentials(e,t){A(!e.match(/:/),"invalid basic authentication username","username","[REDACTED]"),y(this,zn,`${e}:${t}`)}get allowGzip(){return b(this,Si)}set allowGzip(e){y(this,Si,!!e)}get allowInsecureAuthentication(){return!!b(this,Bi)}set allowInsecureAuthentication(e){y(this,Bi,!!e)}get timeout(){return b(this,Ti)}set timeout(e){A(e>=0,"timeout must be non-zero","timeout",e),y(this,Ti,e)}get preflightFunc(){return b(this,bs)||null}set preflightFunc(e){y(this,bs,e)}get processFunc(){return b(this,xs)||null}set processFunc(e){y(this,xs,e)}get retryFunc(){return b(this,ps)||null}set retryFunc(e){y(this,ps,e)}get getUrlFunc(){return b(this,Er)||zh}set getUrlFunc(e){y(this,Er,e)}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${b(this,Ne)?G(b(this,Ne)):"null"}>`}setThrottleParams(e){e.slotInterval!=null&&(b(this,Kt).slotInterval=e.slotInterval),e.maxAttempts!=null&&(b(this,Kt).maxAttempts=e.maxAttempts)}send(){return U(b(this,ln)==null,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),y(this,ln,new J3(this)),F(this,gs,ta).call(this,0,Hh()+this.timeout,0,this,new Gr(0,"",{},null,this))}cancel(){U(b(this,ln)!=null,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});const e=Ip.get(this);if(!e)throw new Error("missing signal; should not happen");e()}redirect(e){const t=this.url.split(":")[0].toLowerCase(),r=e.split(":")[0].toLowerCase();U(this.method==="GET"&&(t!=="https"||r!=="http")&&e.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(e)})`});const s=new $0(e);return s.method="GET",s.allowGzip=this.allowGzip,s.timeout=this.timeout,y(s,Vt,Object.assign({},b(this,Vt))),b(this,Ne)&&y(s,Ne,new Uint8Array(b(this,Ne))),y(s,xt,b(this,xt)),s}clone(){const e=new $0(this.url);return y(e,Gn,b(this,Gn)),b(this,Ne)&&y(e,Ne,b(this,Ne)),y(e,xt,b(this,xt)),y(e,Vt,Object.assign({},b(this,Vt))),y(e,zn,b(this,zn)),this.allowGzip&&(e.allowGzip=!0),e.timeout=this.timeout,this.allowInsecureAuthentication&&(e.allowInsecureAuthentication=!0),y(e,bs,b(this,bs)),y(e,xs,b(this,xs)),y(e,ps,b(this,ps)),y(e,Kt,Object.assign({},b(this,Kt))),y(e,Er,b(this,Er)),e}static lockConfig(){Zu=!0}static getGateway(e){return Hc[e.toLowerCase()]||null}static registerGateway(e,t){if(e=e.toLowerCase(),e==="http"||e==="https")throw new Error(`cannot intercept ${e}; use registerGetUrl`);if(Zu)throw new Error("gateways locked");Hc[e]=t}static registerGetUrl(e){if(Zu)throw new Error("gateways locked");zh=e}static createGetUrlFunc(e){return Ep(e)}static createDataGateway(){return vp}static createIpfsGatewayFunc(e){return Pp(e)}};Bi=new WeakMap,Si=new WeakMap,Vt=new WeakMap,Gn=new WeakMap,Ti=new WeakMap,Oi=new WeakMap,Ne=new WeakMap,xt=new WeakMap,zn=new WeakMap,bs=new WeakMap,xs=new WeakMap,ps=new WeakMap,ln=new WeakMap,Kt=new WeakMap,Er=new WeakMap,gs=new WeakSet,ta=async function(e,t,r,s,i){var f,l,d;if(e>=b(this,Kt).maxAttempts)return i.makeServerError("exceeded maximum retry limit");U(Hh()<=t,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:s}),r>0&&await q3(r);let o=this.clone();const a=(o.url.split(":")[0]||"").toLowerCase();if(a in Hc){const h=await Hc[a](o.url,_c(b(s,ln)));if(h instanceof Gr){let p=h;if(this.processFunc){_c(b(s,ln));try{p=await this.processFunc(o,p)}catch(x){(x.throttle==null||typeof x.stall!="number")&&p.makeServerError("error in post-processing function",x).assertOk()}}return p}o=h}this.preflightFunc&&(o=await this.preflightFunc(o));const c=await this.getUrlFunc(o,_c(b(s,ln)));let u=new Gr(c.statusCode,c.statusMessage,c.headers,c.body,s);if(u.statusCode===301||u.statusCode===302){try{const h=u.headers.location||"";return F(f=o.redirect(h),gs,ta).call(f,e+1,t,0,s,u)}catch{}return u}else if(u.statusCode===429&&(this.retryFunc==null||await this.retryFunc(o,u,e))){const h=u.headers["retry-after"];let p=b(this,Kt).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return typeof h=="string"&&h.match(/^[1-9][0-9]*$/)&&(p=parseInt(h)),F(l=o.clone(),gs,ta).call(l,e+1,t,p,s,u)}if(this.processFunc){_c(b(s,ln));try{u=await this.processFunc(o,u)}catch(h){(h.throttle==null||typeof h.stall!="number")&&u.makeServerError("error in post-processing function",h).assertOk();let p=b(this,Kt).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return h.stall>=0&&(p=h.stall),F(d=o.clone(),gs,ta).call(d,e+1,t,p,s,u)}}return u};let ir=$0;var Za,Ya,Xa,pt,ki,ms;const Vd=class Vd{constructor(e,t,r,s,i){O(this,Za);O(this,Ya);O(this,Xa);O(this,pt);O(this,ki);O(this,ms);y(this,Za,e),y(this,Ya,t),y(this,Xa,Object.keys(r).reduce((o,a)=>(o[a.toLowerCase()]=String(r[a]),o),{})),y(this,pt,s==null?null:new Uint8Array(s)),y(this,ki,i||null),y(this,ms,{message:""})}toString(){return`<FetchResponse status=${this.statusCode} body=${b(this,pt)?G(b(this,pt)):"null"}>`}get statusCode(){return b(this,Za)}get statusMessage(){return b(this,Ya)}get headers(){return Object.assign({},b(this,Xa))}get body(){return b(this,pt)==null?null:new Uint8Array(b(this,pt))}get bodyText(){try{return b(this,pt)==null?"":N0(b(this,pt))}catch{U(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch{U(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){const e=this.headers,t=Object.keys(e);let r=0;return{next:()=>{if(r<t.length){const s=t[r++];return{value:[s,e[s]],done:!1}}return{value:void 0,done:!0}}}}makeServerError(e,t){let r;e?r=`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${e})`:(e=`${this.statusCode} ${this.statusMessage}`,r=`CLIENT ESCALATED SERVER ERROR (${e})`);const s=new Vd(599,r,this.headers,this.body,b(this,ki)||void 0);return y(s,ms,{message:e,error:t}),s}throwThrottleError(e,t){t==null?t=-1:A(Number.isInteger(t)&&t>=0,"invalid stall timeout","stall",t);const r=new Error(e||"throttling requests");throw q(r,{stall:t,throttle:!0}),r}getHeader(e){return this.headers[e.toLowerCase()]}hasBody(){return b(this,pt)!=null}get request(){return b(this,ki)}ok(){return b(this,ms).message===""&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:e,error:t}=b(this,ms);e===""&&(e=`server response ${this.statusCode} ${this.statusMessage}`);let r=null;this.request&&(r=this.request.url);let s=null;try{b(this,pt)&&(s=N0(b(this,pt)))}catch{}U(!1,e,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:t,info:{requestUrl:r,responseBody:s,responseStatus:`${this.statusCode} ${this.statusMessage}`}})}};Za=new WeakMap,Ya=new WeakMap,Xa=new WeakMap,pt=new WeakMap,ki=new WeakMap,ms=new WeakMap;let Gr=Vd;function Hh(){return new Date().getTime()}function W3(n){return Xe(n.replace(/%([0-9a-f][0-9a-f])/gi,(e,t)=>String.fromCharCode(parseInt(t,16))))}function q3(n){return new Promise(e=>setTimeout(e,n))}const Z3=BigInt(-1),zt=BigInt(0),pi=BigInt(1),Y3=BigInt(5),ii={};let vi="0000";for(;vi.length<80;)vi+=vi;function Zr(n){let e=vi;for(;e.length<n;)e+=e;return BigInt("1"+e.substring(0,n))}function qo(n,e,t){const r=BigInt(e.width);if(e.signed){const s=pi<<r-pi;U(t==null||n>=-s&&n<s,"overflow","NUMERIC_FAULT",{operation:t,fault:"overflow",value:n}),n>zt?n=I0(us(n,r),r):n=-I0(us(-n,r),r)}else{const s=pi<<r;U(t==null||n>=0&&n<s,"overflow","NUMERIC_FAULT",{operation:t,fault:"overflow",value:n}),n=(n%s+s)%s&s-pi}return n}function Yu(n){typeof n=="number"&&(n=`fixed128x${n}`);let e=!0,t=128,r=18;if(typeof n=="string"){if(n!=="fixed")if(n==="ufixed")e=!1;else{const i=n.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);A(i,"invalid fixed format","format",n),e=i[1]!=="u",t=parseInt(i[2]),r=parseInt(i[3])}}else if(n){const i=n,o=(a,c,u)=>i[a]==null?u:(A(typeof i[a]===c,"invalid fixed format ("+a+" not "+c+")","format."+a,i[a]),i[a]);e=o("signed","boolean",e),t=o("width","number",t),r=o("decimals","number",r)}A(t%8===0,"invalid FixedNumber width (not byte aligned)","format.width",t),A(r<=80,"invalid FixedNumber decimals (too large)","format.decimals",r);const s=(e?"":"u")+"fixed"+String(t)+"x"+String(r);return{signed:e,width:t,decimals:r,name:s}}function X3(n,e){let t="";n<zt&&(t="-",n*=Z3);let r=n.toString();if(e===0)return t+r;for(;r.length<=e;)r=vi+r;const s=r.length-e;for(r=r.substring(0,s)+"."+r.substring(s);r[0]==="0"&&r[1]!==".";)r=r.substring(1);for(;r[r.length-1]==="0"&&r[r.length-2]!==".";)r=r.substring(0,r.length-1);return t+r}var Qt,ue,Qe,ae,Xr,Rn,nl,rl,sl,il;const wr=class wr{constructor(e,t,r){O(this,ae);N(this,"format");O(this,Qt);O(this,ue);O(this,Qe);N(this,"_value");Qr(e,ii,"FixedNumber"),y(this,ue,t),y(this,Qt,r);const s=X3(t,r.decimals);q(this,{format:r.name,_value:s}),y(this,Qe,Zr(r.decimals))}get signed(){return b(this,Qt).signed}get width(){return b(this,Qt).width}get decimals(){return b(this,Qt).decimals}get value(){return b(this,ue)}addUnsafe(e){return F(this,ae,nl).call(this,e)}add(e){return F(this,ae,nl).call(this,e,"add")}subUnsafe(e){return F(this,ae,rl).call(this,e)}sub(e){return F(this,ae,rl).call(this,e,"sub")}mulUnsafe(e){return F(this,ae,sl).call(this,e)}mul(e){return F(this,ae,sl).call(this,e,"mul")}mulSignal(e){F(this,ae,Xr).call(this,e);const t=b(this,ue)*b(e,ue);return U(t%b(this,Qe)===zt,"precision lost during signalling mul","NUMERIC_FAULT",{operation:"mulSignal",fault:"underflow",value:this}),F(this,ae,Rn).call(this,t/b(this,Qe),"mulSignal")}divUnsafe(e){return F(this,ae,il).call(this,e)}div(e){return F(this,ae,il).call(this,e,"div")}divSignal(e){U(b(e,ue)!==zt,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),F(this,ae,Xr).call(this,e);const t=b(this,ue)*b(this,Qe);return U(t%b(e,ue)===zt,"precision lost during signalling div","NUMERIC_FAULT",{operation:"divSignal",fault:"underflow",value:this}),F(this,ae,Rn).call(this,t/b(e,ue),"divSignal")}cmp(e){let t=this.value,r=e.value;const s=this.decimals-e.decimals;return s>0?r*=Zr(s):s<0&&(t*=Zr(-s)),t<r?-1:t>r?1:0}eq(e){return this.cmp(e)===0}lt(e){return this.cmp(e)<0}lte(e){return this.cmp(e)<=0}gt(e){return this.cmp(e)>0}gte(e){return this.cmp(e)>=0}floor(){let e=b(this,ue);return b(this,ue)<zt&&(e-=b(this,Qe)-pi),e=b(this,ue)/b(this,Qe)*b(this,Qe),F(this,ae,Rn).call(this,e,"floor")}ceiling(){let e=b(this,ue);return b(this,ue)>zt&&(e+=b(this,Qe)-pi),e=b(this,ue)/b(this,Qe)*b(this,Qe),F(this,ae,Rn).call(this,e,"ceiling")}round(e){if(e==null&&(e=0),e>=this.decimals)return this;const t=this.decimals-e,r=Y3*Zr(t-1);let s=this.value+r;const i=Zr(t);return s=s/i*i,qo(s,b(this,Qt),"round"),new wr(ii,s,b(this,Qt))}isZero(){return b(this,ue)===zt}isNegative(){return b(this,ue)<zt}toString(){return this._value}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return wr.fromString(this.toString(),e)}static fromValue(e,t,r){const s=t==null?0:Y(t),i=Yu(r);let o=K(e,"value");const a=s-i.decimals;if(a>0){const c=Zr(a);U(o%c===zt,"value loses precision for format","NUMERIC_FAULT",{operation:"fromValue",fault:"underflow",value:e}),o/=c}else a<0&&(o*=Zr(-a));return qo(o,i,"fromValue"),new wr(ii,o,i)}static fromString(e,t){const r=e.match(/^(-?)([0-9]*)\.?([0-9]*)$/);A(r&&r[2].length+r[3].length>0,"invalid FixedNumber string value","value",e);const s=Yu(t);let i=r[2]||"0",o=r[3]||"";for(;o.length<s.decimals;)o+=vi;U(o.substring(s.decimals).match(/^0*$/),"too many decimals for format","NUMERIC_FAULT",{operation:"fromString",fault:"underflow",value:e}),o=o.substring(0,s.decimals);const a=BigInt(r[1]+i+o);return qo(a,s,"fromString"),new wr(ii,a,s)}static fromBytes(e,t){let r=Ic(V(e,"value"));const s=Yu(t);return s.signed&&(r=I0(r,s.width)),qo(r,s,"fromBytes"),new wr(ii,r,s)}};Qt=new WeakMap,ue=new WeakMap,Qe=new WeakMap,ae=new WeakSet,Xr=function(e){A(this.format===e.format,"incompatible format; use fixedNumber.toFormat","other",e)},Rn=function(e,t){return e=qo(e,b(this,Qt),t),new wr(ii,e,b(this,Qt))},nl=function(e,t){return F(this,ae,Xr).call(this,e),F(this,ae,Rn).call(this,b(this,ue)+b(e,ue),t)},rl=function(e,t){return F(this,ae,Xr).call(this,e),F(this,ae,Rn).call(this,b(this,ue)-b(e,ue),t)},sl=function(e,t){return F(this,ae,Xr).call(this,e),F(this,ae,Rn).call(this,b(this,ue)*b(e,ue)/b(this,Qe),t)},il=function(e,t){return U(b(e,ue)!==zt,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),F(this,ae,Xr).call(this,e),F(this,ae,Rn).call(this,b(this,ue)*b(this,Qe)/b(e,ue),t)};let tl=wr;function e4(n){let e=n.toString(16);for(;e.length<2;)e="0"+e;return"0x"+e}function _h(n,e,t){let r=0;for(let s=0;s<t;s++)r=r*256+n[e+s];return r}function jh(n,e,t,r){const s=[];for(;t<e+1+r;){const i=Cp(n,t);s.push(i.result),t+=i.consumed,U(t<=e+1+r,"child data too short","BUFFER_OVERRUN",{buffer:n,length:r,offset:e})}return{consumed:1+r,result:s}}function Cp(n,e){U(n.length!==0,"data too short","BUFFER_OVERRUN",{buffer:n,length:0,offset:1});const t=r=>{U(r<=n.length,"data short segment too short","BUFFER_OVERRUN",{buffer:n,length:n.length,offset:r})};if(n[e]>=248){const r=n[e]-247;t(e+1+r);const s=_h(n,e+1,r);return t(e+1+r+s),jh(n,e,e+1+r,r+s)}else if(n[e]>=192){const r=n[e]-192;return t(e+1+r),jh(n,e,e+1,r)}else if(n[e]>=184){const r=n[e]-183;t(e+1+r);const s=_h(n,e+1,r);t(e+1+r+s);const i=G(n.slice(e+1+r,e+1+r+s));return{consumed:1+r+s,result:i}}else if(n[e]>=128){const r=n[e]-128;t(e+1+r);const s=G(n.slice(e+1,e+1+r));return{consumed:1+r,result:s}}return{consumed:1,result:e4(n[e])}}function Cc(n){const e=V(n,"data"),t=Cp(e,0);return A(t.consumed===e.length,"unexpected junk after rlp payload","data",n),t.result}function Vh(n){const e=[];for(;n;)e.unshift(n&255),n>>=8;return e}function Np(n){if(Array.isArray(n)){let r=[];if(n.forEach(function(i){r=r.concat(Np(i))}),r.length<=55)return r.unshift(192+r.length),r;const s=Vh(r.length);return s.unshift(247+s.length),s.concat(r)}const e=Array.prototype.slice.call(V(n,"object"));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const t=Vh(e.length);return t.unshift(183+t.length),t.concat(e)}const Kh="0123456789abcdef";function or(n){let e="0x";for(const t of Np(n))e+=Kh[t>>4],e+=Kh[t&15];return e}const t4=["wei","kwei","mwei","gwei","szabo","finney","ether"];function Dv(n,e){A(typeof n=="string","value must be a string","value",n);let t=18;{const r=t4.indexOf(e);A(r>=0,"invalid unit","unit",e),t=3*r}return tl.fromString(n,{decimals:t,width:512}).value}function n4(n){const e=V(n,"randomBytes");e[6]=e[6]&15|64,e[8]=e[8]&63|128;const t=G(e);return[t.substring(2,10),t.substring(10,14),t.substring(14,18),t.substring(18,22),t.substring(22,34)].join("-")}const qe=32,ol=new Uint8Array(qe),r4=["then"],jc={},Bp=new WeakMap;function ns(n){return Bp.get(n)}function Qh(n,e){Bp.set(n,e)}function Zo(n,e){const t=new Error(`deferred error during ABI decoding triggered accessing ${n}`);throw t.error=e,t}function al(n,e,t){return n.indexOf(null)>=0?e.map((r,s)=>r instanceof Eo?al(ns(r),r,t):r):n.reduce((r,s,i)=>{let o=e.getValue(s);return s in r||(t&&o instanceof Eo&&(o=al(ns(o),o,t)),r[s]=o),r},{})}var Ri;const gi=class gi extends Array{constructor(...t){const r=t[0];let s=t[1],i=(t[2]||[]).slice(),o=!0;r!==jc&&(s=t,i=[],o=!1);super(s.length);O(this,Ri);s.forEach((u,f)=>{this[f]=u});const a=i.reduce((u,f)=>(typeof f=="string"&&u.set(f,(u.get(f)||0)+1),u),new Map);if(Qh(this,Object.freeze(s.map((u,f)=>{const l=i[f];return l!=null&&a.get(l)===1?l:null}))),y(this,Ri,[]),b(this,Ri)==null&&b(this,Ri),!o)return;Object.freeze(this);const c=new Proxy(this,{get:(u,f,l)=>{if(typeof f=="string"){if(f.match(/^[0-9]+$/)){const h=Y(f,"%index");if(h<0||h>=this.length)throw new RangeError("out of result range");const p=u[h];return p instanceof Error&&Zo(`index ${h}`,p),p}if(r4.indexOf(f)>=0)return Reflect.get(u,f,l);const d=u[f];if(d instanceof Function)return function(...h){return d.apply(this===l?u:this,h)};if(!(f in u))return u.getValue.apply(this===l?u:this,[f])}return Reflect.get(u,f,l)}});return Qh(c,ns(this)),c}toArray(t){const r=[];return this.forEach((s,i)=>{s instanceof Error&&Zo(`index ${i}`,s),t&&s instanceof gi&&(s=s.toArray(t)),r.push(s)}),r}toObject(t){const r=ns(this);return r.reduce((s,i,o)=>(U(i!=null,`value at index ${o} unnamed`,"UNSUPPORTED_OPERATION",{operation:"toObject()"}),al(r,this,t)),{})}slice(t,r){t==null&&(t=0),t<0&&(t+=this.length,t<0&&(t=0)),r==null&&(r=this.length),r<0&&(r+=this.length,r<0&&(r=0)),r>this.length&&(r=this.length);const s=ns(this),i=[],o=[];for(let a=t;a<r;a++)i.push(this[a]),o.push(s[a]);return new gi(jc,i,o)}filter(t,r){const s=ns(this),i=[],o=[];for(let a=0;a<this.length;a++){const c=this[a];c instanceof Error&&Zo(`index ${a}`,c),t.call(r,c,a,this)&&(i.push(c),o.push(s[a]))}return new gi(jc,i,o)}map(t,r){const s=[];for(let i=0;i<this.length;i++){const o=this[i];o instanceof Error&&Zo(`index ${i}`,o),s.push(t.call(r,o,i,this))}return s}getValue(t){const r=ns(this).indexOf(t);if(r===-1)return;const s=this[r];return s instanceof Error&&Zo(`property ${JSON.stringify(t)}`,s.error),s}static fromItems(t,r){return new gi(jc,t,r)}};Ri=new WeakMap;let Eo=gi;function Jh(n){let e=we(n);return U(e.length<=qe,"value out-of-bounds","BUFFER_OVERRUN",{buffer:e,length:qe,offset:e.length}),e.length!==qe&&(e=De(ce([ol.slice(e.length%qe),e]))),e}class lr{constructor(e,t,r,s){N(this,"name");N(this,"type");N(this,"localName");N(this,"dynamic");q(this,{name:e,type:t,localName:r,dynamic:s},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(e,t){A(!1,e,this.localName,t)}}var Hn,ys,Ui,r0;class cl{constructor(){O(this,Ui);O(this,Hn);O(this,ys);y(this,Hn,[]),y(this,ys,0)}get data(){return ce(b(this,Hn))}get length(){return b(this,ys)}appendWriter(e){return F(this,Ui,r0).call(this,De(e.data))}writeBytes(e){let t=De(e);const r=t.length%qe;return r&&(t=De(ce([t,ol.slice(r)]))),F(this,Ui,r0).call(this,t)}writeValue(e){return F(this,Ui,r0).call(this,Jh(e))}writeUpdatableValue(){const e=b(this,Hn).length;return b(this,Hn).push(ol),y(this,ys,b(this,ys)+qe),t=>{b(this,Hn)[e]=Jh(t)}}}Hn=new WeakMap,ys=new WeakMap,Ui=new WeakSet,r0=function(e){return b(this,Hn).push(e),y(this,ys,b(this,ys)+e.length),e.length};var et,gt,ws,As,vr,Ys,fl,Sp;const Kd=class Kd{constructor(e,t,r){O(this,Ys);N(this,"allowLoose");O(this,et);O(this,gt);O(this,ws);O(this,As);O(this,vr);q(this,{allowLoose:!!t}),y(this,et,De(e)),y(this,ws,0),y(this,As,null),y(this,vr,r??1024),y(this,gt,0)}get data(){return G(b(this,et))}get dataLength(){return b(this,et).length}get consumed(){return b(this,gt)}get bytes(){return new Uint8Array(b(this,et))}subReader(e){const t=new Kd(b(this,et).slice(b(this,gt)+e),this.allowLoose,b(this,vr));return y(t,As,this),t}readBytes(e,t){let r=F(this,Ys,Sp).call(this,0,e,!!t);return F(this,Ys,fl).call(this,e),y(this,gt,b(this,gt)+r.length),r.slice(0,e)}readValue(){return Ic(this.readBytes(qe))}readIndex(){return R3(this.readBytes(qe))}};et=new WeakMap,gt=new WeakMap,ws=new WeakMap,As=new WeakMap,vr=new WeakMap,Ys=new WeakSet,fl=function(e){var t;if(b(this,As))return F(t=b(this,As),Ys,fl).call(t,e);y(this,ws,b(this,ws)+e),U(b(this,vr)<1||b(this,ws)<=b(this,vr)*this.dataLength,`compressed ABI data exceeds inflation ratio of ${b(this,vr)} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:De(b(this,et)),offset:b(this,gt),length:e,info:{bytesRead:b(this,ws),dataLength:this.dataLength}})},Sp=function(e,t,r){let s=Math.ceil(t/qe)*qe;return b(this,gt)+s>b(this,et).length&&(this.allowLoose&&r&&b(this,gt)+t<=b(this,et).length?s=t:U(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:De(b(this,et)),length:b(this,et).length,offset:b(this,gt)+s})),b(this,et).slice(b(this,gt),b(this,gt)+s)};let ul=Kd;function yt(n){if(!Number.isSafeInteger(n)||n<0)throw new Error(`Wrong positive integer: ${n}`)}function Ad(n,...e){if(!(n instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(n.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${n.length}`)}function Tp(n){if(typeof n!="function"||typeof n.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");yt(n.outputLen),yt(n.blockLen)}function vo(n,e=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(e&&n.finished)throw new Error("Hash#digest() has already been called")}function Op(n,e){Ad(n);const t=e.outputLen;if(n.length<t)throw new Error(`digestInto() expects output buffer of length at least ${t}`)}const Xu=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const kp=n=>n instanceof Uint8Array,s0=n=>new Uint32Array(n.buffer,n.byteOffset,Math.floor(n.byteLength/4)),i0=n=>new DataView(n.buffer,n.byteOffset,n.byteLength),an=(n,e)=>n<<32-e|n>>>e,s4=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!s4)throw new Error("Non little-endian hardware is not supported");const i4=async()=>{};async function Wh(n,e,t){let r=Date.now();for(let s=0;s<n;s++){t(s);const i=Date.now()-r;i>=0&&i<e||(await i4(),r+=i)}}function o4(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}function Po(n){if(typeof n=="string"&&(n=o4(n)),!kp(n))throw new Error(`expected Uint8Array, got ${typeof n}`);return n}function a4(...n){const e=new Uint8Array(n.reduce((r,s)=>r+s.length,0));let t=0;return n.forEach(r=>{if(!kp(r))throw new Error("Uint8Array expected");e.set(r,t),t+=r.length}),e}class Ed{clone(){return this._cloneInto()}}const c4={}.toString;function Rp(n,e){if(e!==void 0&&c4.call(e)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(n,e)}function du(n){const e=r=>n().update(Po(r)).digest(),t=n();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>n(),e}function u4(n=32){if(Xu&&typeof Xu.getRandomValues=="function")return Xu.getRandomValues(new Uint8Array(n));throw new Error("crypto.getRandomValues must be defined")}class Up extends Ed{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,Tp(e);const r=Po(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(r.length>s?e.create().update(r).digest():r);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),i.fill(0)}update(e){return vo(this),this.iHash.update(e),this}digestInto(e){vo(this),Ad(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:s,destroyed:i,blockLen:o,outputLen:a}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const hu=(n,e,t)=>new Up(n,e).update(t).digest();hu.create=(n,e)=>new Up(n,e);function f4(n,e,t,r){Tp(n);const s=Rp({dkLen:32,asyncTick:10},r),{c:i,dkLen:o,asyncTick:a}=s;if(yt(i),yt(o),yt(a),i<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const c=Po(e),u=Po(t),f=new Uint8Array(o),l=hu.create(n,c),d=l._cloneInto().update(u);return{c:i,dkLen:o,asyncTick:a,DK:f,PRF:l,PRFSalt:d}}function l4(n,e,t,r,s){return n.destroy(),e.destroy(),r&&r.destroy(),s.fill(0),t}function vd(n,e,t,r){const{c:s,dkLen:i,DK:o,PRF:a,PRFSalt:c}=f4(n,e,t,r);let u;const f=new Uint8Array(4),l=i0(f),d=new Uint8Array(a.outputLen);for(let h=1,p=0;p<i;h++,p+=a.outputLen){const x=o.subarray(p,p+a.outputLen);l.setInt32(0,h,!1),(u=c._cloneInto(u)).update(f).digestInto(d),x.set(d.subarray(0,x.length));for(let m=1;m<s;m++){a._cloneInto(u).update(d).digestInto(d);for(let w=0;w<x.length;w++)x[w]^=d[w]}}return l4(a,c,o,u,d)}function d4(n,e,t,r){if(typeof n.setBigUint64=="function")return n.setBigUint64(e,t,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(t>>s&i),a=Number(t&i),c=r?4:0,u=r?0:4;n.setUint32(e+c,o,r),n.setUint32(e+u,a,r)}class Pd extends Ed{constructor(e,t,r,s){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=i0(this.buffer)}update(e){vo(this);const{view:t,buffer:r,blockLen:s}=this;e=Po(e);const i=e.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=i0(e);for(;s<=i-o;o+=s)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){vo(this),Op(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>s-o&&(this.process(r,0),o=0);for(let l=o;l<s;l++)t[l]=0;d4(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=i0(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,f=this.get();if(u>f.length)throw new Error("_sha2: outputLen bigger than state");for(let l=0;l<u;l++)a.setUint32(4*l,f[l],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return e.length=s,e.pos=a,e.finished=i,e.destroyed=o,s%t&&e.buffer.set(r),e}}const h4=(n,e,t)=>n&e^~n&t,b4=(n,e,t)=>n&e^n&t^e&t,x4=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),xr=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),pr=new Uint32Array(64);class p4 extends Pd{constructor(){super(64,32,8,!1),this.A=xr[0]|0,this.B=xr[1]|0,this.C=xr[2]|0,this.D=xr[3]|0,this.E=xr[4]|0,this.F=xr[5]|0,this.G=xr[6]|0,this.H=xr[7]|0}get(){const{A:e,B:t,C:r,D:s,E:i,F:o,G:a,H:c}=this;return[e,t,r,s,i,o,a,c]}set(e,t,r,s,i,o,a,c){this.A=e|0,this.B=t|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,t){for(let l=0;l<16;l++,t+=4)pr[l]=e.getUint32(t,!1);for(let l=16;l<64;l++){const d=pr[l-15],h=pr[l-2],p=an(d,7)^an(d,18)^d>>>3,x=an(h,17)^an(h,19)^h>>>10;pr[l]=x+pr[l-7]+p+pr[l-16]|0}let{A:r,B:s,C:i,D:o,E:a,F:c,G:u,H:f}=this;for(let l=0;l<64;l++){const d=an(a,6)^an(a,11)^an(a,25),h=f+d+h4(a,c,u)+x4[l]+pr[l]|0,x=(an(r,2)^an(r,13)^an(r,22))+b4(r,s,i)|0;f=u,u=c,c=a,a=o+h|0,o=i,i=s,s=r,r=h+x|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,f=f+this.H|0,this.set(r,s,i,o,a,c,u,f)}roundClean(){pr.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Mo=du(()=>new p4),Vc=BigInt(2**32-1),ll=BigInt(32);function Fp(n,e=!1){return e?{h:Number(n&Vc),l:Number(n>>ll&Vc)}:{h:Number(n>>ll&Vc)|0,l:Number(n&Vc)|0}}function Lp(n,e=!1){let t=new Uint32Array(n.length),r=new Uint32Array(n.length);for(let s=0;s<n.length;s++){const{h:i,l:o}=Fp(n[s],e);[t[s],r[s]]=[i,o]}return[t,r]}const g4=(n,e)=>BigInt(n>>>0)<<ll|BigInt(e>>>0),m4=(n,e,t)=>n>>>t,y4=(n,e,t)=>n<<32-t|e>>>t,w4=(n,e,t)=>n>>>t|e<<32-t,A4=(n,e,t)=>n<<32-t|e>>>t,E4=(n,e,t)=>n<<64-t|e>>>t-32,v4=(n,e,t)=>n>>>t-32|e<<64-t,P4=(n,e)=>e,I4=(n,e)=>n,Mp=(n,e,t)=>n<<t|e>>>32-t,Dp=(n,e,t)=>e<<t|n>>>32-t,$p=(n,e,t)=>e<<t-32|n>>>64-t,Gp=(n,e,t)=>n<<t-32|e>>>64-t;function C4(n,e,t,r){const s=(e>>>0)+(r>>>0);return{h:n+t+(s/2**32|0)|0,l:s|0}}const N4=(n,e,t)=>(n>>>0)+(e>>>0)+(t>>>0),B4=(n,e,t,r)=>e+t+r+(n/2**32|0)|0,S4=(n,e,t,r)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0),T4=(n,e,t,r,s)=>e+t+r+s+(n/2**32|0)|0,O4=(n,e,t,r,s)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0)+(s>>>0),k4=(n,e,t,r,s,i)=>e+t+r+s+i+(n/2**32|0)|0,X={fromBig:Fp,split:Lp,toBig:g4,shrSH:m4,shrSL:y4,rotrSH:w4,rotrSL:A4,rotrBH:E4,rotrBL:v4,rotr32H:P4,rotr32L:I4,rotlSH:Mp,rotlSL:Dp,rotlBH:$p,rotlBL:Gp,add:C4,add3L:N4,add3H:B4,add4L:S4,add4H:T4,add5H:k4,add5L:O4},[R4,U4]=X.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(n=>BigInt(n))),gr=new Uint32Array(80),mr=new Uint32Array(80);class F4 extends Pd{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:r,Bl:s,Ch:i,Cl:o,Dh:a,Dl:c,Eh:u,El:f,Fh:l,Fl:d,Gh:h,Gl:p,Hh:x,Hl:m}=this;return[e,t,r,s,i,o,a,c,u,f,l,d,h,p,x,m]}set(e,t,r,s,i,o,a,c,u,f,l,d,h,p,x,m){this.Ah=e|0,this.Al=t|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=u|0,this.El=f|0,this.Fh=l|0,this.Fl=d|0,this.Gh=h|0,this.Gl=p|0,this.Hh=x|0,this.Hl=m|0}process(e,t){for(let v=0;v<16;v++,t+=4)gr[v]=e.getUint32(t),mr[v]=e.getUint32(t+=4);for(let v=16;v<80;v++){const P=gr[v-15]|0,g=mr[v-15]|0,E=X.rotrSH(P,g,1)^X.rotrSH(P,g,8)^X.shrSH(P,g,7),I=X.rotrSL(P,g,1)^X.rotrSL(P,g,8)^X.shrSL(P,g,7),S=gr[v-2]|0,k=mr[v-2]|0,L=X.rotrSH(S,k,19)^X.rotrBH(S,k,61)^X.shrSH(S,k,6),R=X.rotrSL(S,k,19)^X.rotrBL(S,k,61)^X.shrSL(S,k,6),z=X.add4L(I,R,mr[v-7],mr[v-16]),$=X.add4H(z,E,L,gr[v-7],gr[v-16]);gr[v]=$|0,mr[v]=z|0}let{Ah:r,Al:s,Bh:i,Bl:o,Ch:a,Cl:c,Dh:u,Dl:f,Eh:l,El:d,Fh:h,Fl:p,Gh:x,Gl:m,Hh:w,Hl:C}=this;for(let v=0;v<80;v++){const P=X.rotrSH(l,d,14)^X.rotrSH(l,d,18)^X.rotrBH(l,d,41),g=X.rotrSL(l,d,14)^X.rotrSL(l,d,18)^X.rotrBL(l,d,41),E=l&h^~l&x,I=d&p^~d&m,S=X.add5L(C,g,I,U4[v],mr[v]),k=X.add5H(S,w,P,E,R4[v],gr[v]),L=S|0,R=X.rotrSH(r,s,28)^X.rotrBH(r,s,34)^X.rotrBH(r,s,39),z=X.rotrSL(r,s,28)^X.rotrBL(r,s,34)^X.rotrBL(r,s,39),$=r&i^r&a^i&a,W=s&o^s&c^o&c;w=x|0,C=m|0,x=h|0,m=p|0,h=l|0,p=d|0,{h:l,l:d}=X.add(u|0,f|0,k|0,L|0),u=a|0,f=c|0,a=i|0,c=o|0,i=r|0,o=s|0;const B=X.add3L(L,z,W);r=X.add3H(B,k,R,$),s=B|0}({h:r,l:s}=X.add(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:o}=X.add(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l:c}=X.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:u,l:f}=X.add(this.Dh|0,this.Dl|0,u|0,f|0),{h:l,l:d}=X.add(this.Eh|0,this.El|0,l|0,d|0),{h,l:p}=X.add(this.Fh|0,this.Fl|0,h|0,p|0),{h:x,l:m}=X.add(this.Gh|0,this.Gl|0,x|0,m|0),{h:w,l:C}=X.add(this.Hh|0,this.Hl|0,w|0,C|0),this.set(r,s,i,o,a,c,u,f,l,d,h,p,x,m,w,C)}roundClean(){gr.fill(0),mr.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const Id=du(()=>new F4);function L4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}const qh=L4(),Zh=qh.crypto||qh.msCrypto;function M4(n){switch(n){case"sha256":return Mo.create();case"sha512":return Id.create()}A(!1,"invalid hashing algorithm name","algorithm",n)}function D4(n,e){const t={sha256:Mo,sha512:Id}[n];return A(t!=null,"invalid hmac algorithm","algorithm",n),hu.create(t,e)}function $4(n,e,t,r,s){const i={sha256:Mo,sha512:Id}[s];return A(i!=null,"invalid pbkdf2 algorithm","algorithm",s),vd(i,n,e,{c:t,dkLen:r})}function G4(n){U(Zh!=null,"platform does not support secure random numbers","UNSUPPORTED_OPERATION",{operation:"randomBytes"}),A(Number.isInteger(n)&&n>0&&n<=1024,"invalid length","length",n);const e=new Uint8Array(n);return Zh.getRandomValues(e),e}let zp=!1;const Hp=function(n,e,t){return D4(n,e).update(t).digest()};let _p=Hp;function Do(n,e,t){const r=V(e,"key"),s=V(t,"data");return G(_p(n,r,s))}Do._=Hp;Do.lock=function(){zp=!0};Do.register=function(n){if(zp)throw new Error("computeHmac is locked");_p=n};Object.freeze(Do);const[jp,Vp,Kp]=[[],[],[]],z4=BigInt(0),Yo=BigInt(1),H4=BigInt(2),_4=BigInt(7),j4=BigInt(256),V4=BigInt(113);for(let n=0,e=Yo,t=1,r=0;n<24;n++){[t,r]=[r,(2*t+3*r)%5],jp.push(2*(5*r+t)),Vp.push((n+1)*(n+2)/2%64);let s=z4;for(let i=0;i<7;i++)e=(e<<Yo^(e>>_4)*V4)%j4,e&H4&&(s^=Yo<<(Yo<<BigInt(i))-Yo);Kp.push(s)}const[K4,Q4]=Lp(Kp,!0),Yh=(n,e,t)=>t>32?$p(n,e,t):Mp(n,e,t),Xh=(n,e,t)=>t>32?Gp(n,e,t):Dp(n,e,t);function J4(n,e=24){const t=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)t[o]=n[o]^n[o+10]^n[o+20]^n[o+30]^n[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,u=t[c],f=t[c+1],l=Yh(u,f,1)^t[a],d=Xh(u,f,1)^t[a+1];for(let h=0;h<50;h+=10)n[o+h]^=l,n[o+h+1]^=d}let s=n[2],i=n[3];for(let o=0;o<24;o++){const a=Vp[o],c=Yh(s,i,a),u=Xh(s,i,a),f=jp[o];s=n[f],i=n[f+1],n[f]=c,n[f+1]=u}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)t[a]=n[o+a];for(let a=0;a<10;a++)n[o+a]^=~t[(a+2)%10]&t[(a+4)%10]}n[0]^=K4[r],n[1]^=Q4[r]}t.fill(0)}class Cd extends Ed{constructor(e,t,r,s=!1,i=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=s,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,yt(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=s0(this.state)}keccak(){J4(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){vo(this);const{blockLen:t,state:r}=this;e=Po(e);const s=e.length;for(let i=0;i<s;){const o=Math.min(t-this.pos,s-i);for(let a=0;a<o;a++)r[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:r,blockLen:s}=this;e[r]^=t,t&128&&r===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){vo(this,!1),Ad(e),this.finish();const t=this.state,{blockLen:r}=this;for(let s=0,i=e.length;s<i;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,i-s);e.set(t.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return yt(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Op(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:r,outputLen:s,rounds:i,enableXOF:o}=this;return e||(e=new Cd(t,r,s,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=s,e.enableXOF=o,e.destroyed=this.destroyed,e}}const W4=(n,e,t)=>du(()=>new Cd(e,n,t)),q4=W4(1,136,256/8);let Qp=!1;const Jp=function(n){return q4(n)};let Wp=Jp;function xe(n){const e=V(n,"data");return G(Wp(e))}xe._=Jp;xe.lock=function(){Qp=!0};xe.register=function(n){if(Qp)throw new TypeError("keccak256 is locked");Wp=n};Object.freeze(xe);const Z4=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),qp=Uint8Array.from({length:16},(n,e)=>e),Y4=qp.map(n=>(9*n+5)%16);let Nd=[qp],Bd=[Y4];for(let n=0;n<4;n++)for(let e of[Nd,Bd])e.push(e[n].map(t=>Z4[t]));const Zp=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(n=>new Uint8Array(n)),X4=Nd.map((n,e)=>n.map(t=>Zp[e][t])),e9=Bd.map((n,e)=>n.map(t=>Zp[e][t])),t9=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),n9=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),Kc=(n,e)=>n<<e|n>>>32-e;function eb(n,e,t,r){return n===0?e^t^r:n===1?e&t|~e&r:n===2?(e|~t)^r:n===3?e&r|t&~r:e^(t|~r)}const Qc=new Uint32Array(16);class r9 extends Pd{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:e,h1:t,h2:r,h3:s,h4:i}=this;return[e,t,r,s,i]}set(e,t,r,s,i){this.h0=e|0,this.h1=t|0,this.h2=r|0,this.h3=s|0,this.h4=i|0}process(e,t){for(let h=0;h<16;h++,t+=4)Qc[h]=e.getUint32(t,!0);let r=this.h0|0,s=r,i=this.h1|0,o=i,a=this.h2|0,c=a,u=this.h3|0,f=u,l=this.h4|0,d=l;for(let h=0;h<5;h++){const p=4-h,x=t9[h],m=n9[h],w=Nd[h],C=Bd[h],v=X4[h],P=e9[h];for(let g=0;g<16;g++){const E=Kc(r+eb(h,i,a,u)+Qc[w[g]]+x,v[g])+l|0;r=l,l=u,u=Kc(a,10)|0,a=i,i=E}for(let g=0;g<16;g++){const E=Kc(s+eb(p,o,c,f)+Qc[C[g]]+m,P[g])+d|0;s=d,d=f,f=Kc(c,10)|0,c=o,o=E}}this.set(this.h1+a+f|0,this.h2+u+d|0,this.h3+l+s|0,this.h4+r+o|0,this.h0+i+c|0)}roundClean(){Qc.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}const s9=du(()=>new r9);let Yp=!1;const Xp=function(n){return s9(n)};let eg=Xp;function $o(n){const e=V(n,"data");return G(eg(e))}$o._=Xp;$o.lock=function(){Yp=!0};$o.register=function(n){if(Yp)throw new TypeError("ripemd160 is locked");eg=n};Object.freeze($o);let tg=!1;const ng=function(n,e,t,r,s){return $4(n,e,t,r,s)};let rg=ng;function Jr(n,e,t,r,s){const i=V(n,"password"),o=V(e,"salt");return G(rg(i,o,t,r,s))}Jr._=ng;Jr.lock=function(){tg=!0};Jr.register=function(n){if(tg)throw new Error("pbkdf2 is locked");rg=n};Object.freeze(Jr);let sg=!1;const ig=function(n){return new Uint8Array(G4(n))};let og=ig;function tr(n){return og(n)}tr._=ig;tr.lock=function(){sg=!0};tr.register=function(n){if(sg)throw new Error("randomBytes is locked");og=n};Object.freeze(tr);const ie=(n,e)=>n<<e|n>>>32-e;function tb(n,e,t,r,s,i){let o=n[e++]^t[r++],a=n[e++]^t[r++],c=n[e++]^t[r++],u=n[e++]^t[r++],f=n[e++]^t[r++],l=n[e++]^t[r++],d=n[e++]^t[r++],h=n[e++]^t[r++],p=n[e++]^t[r++],x=n[e++]^t[r++],m=n[e++]^t[r++],w=n[e++]^t[r++],C=n[e++]^t[r++],v=n[e++]^t[r++],P=n[e++]^t[r++],g=n[e++]^t[r++],E=o,I=a,S=c,k=u,L=f,R=l,z=d,$=h,W=p,B=x,T=m,M=w,_=C,H=v,j=P,Z=g;for(let te=0;te<8;te+=2)L^=ie(E+_|0,7),W^=ie(L+E|0,9),_^=ie(W+L|0,13),E^=ie(_+W|0,18),B^=ie(R+I|0,7),H^=ie(B+R|0,9),I^=ie(H+B|0,13),R^=ie(I+H|0,18),j^=ie(T+z|0,7),S^=ie(j+T|0,9),z^=ie(S+j|0,13),T^=ie(z+S|0,18),k^=ie(Z+M|0,7),$^=ie(k+Z|0,9),M^=ie($+k|0,13),Z^=ie(M+$|0,18),I^=ie(E+k|0,7),S^=ie(I+E|0,9),k^=ie(S+I|0,13),E^=ie(k+S|0,18),z^=ie(R+L|0,7),$^=ie(z+R|0,9),L^=ie($+z|0,13),R^=ie(L+$|0,18),M^=ie(T+B|0,7),W^=ie(M+T|0,9),B^=ie(W+M|0,13),T^=ie(B+W|0,18),_^=ie(Z+j|0,7),H^=ie(_+Z|0,9),j^=ie(H+_|0,13),Z^=ie(j+H|0,18);s[i++]=o+E|0,s[i++]=a+I|0,s[i++]=c+S|0,s[i++]=u+k|0,s[i++]=f+L|0,s[i++]=l+R|0,s[i++]=d+z|0,s[i++]=h+$|0,s[i++]=p+W|0,s[i++]=x+B|0,s[i++]=m+T|0,s[i++]=w+M|0,s[i++]=C+_|0,s[i++]=v+H|0,s[i++]=P+j|0,s[i++]=g+Z|0}function Pi(n,e,t,r,s){let i=r+0,o=r+16*s;for(let a=0;a<16;a++)t[o+a]=n[e+(2*s-1)*16+a];for(let a=0;a<s;a++,i+=16,e+=16)tb(t,o,n,e,t,i),a>0&&(o+=16),tb(t,i,n,e+=16,t,o)}function ag(n,e,t){const r=Rp({dkLen:32,asyncTick:10,maxmem:1073742848},t),{N:s,r:i,p:o,dkLen:a,asyncTick:c,maxmem:u,onProgress:f}=r;if(yt(s),yt(i),yt(o),yt(a),yt(c),yt(u),f!==void 0&&typeof f!="function")throw new Error("progressCb should be function");const l=128*i,d=l/4;if(s<=1||s&s-1||s>=2**(l/8)||s>2**32)throw new Error("Scrypt: N must be larger than 1, a power of 2, less than 2^(128 * r / 8) and less than 2^32");if(o<0||o>(2**32-1)*32/l)throw new Error("Scrypt: p must be a positive integer less than or equal to ((2^32 - 1) * 32) / (128 * r)");if(a<0||a>(2**32-1)*32)throw new Error("Scrypt: dkLen should be positive integer less than or equal to (2^32 - 1) * 32");const h=l*(s+o);if(h>u)throw new Error(`Scrypt: parameters too large, ${h} (128 * r * (N + p)) > ${u} (maxmem)`);const p=vd(Mo,n,e,{c:1,dkLen:l*o}),x=s0(p),m=s0(new Uint8Array(l*s)),w=s0(new Uint8Array(l));let C=()=>{};if(f){const v=2*s*o,P=Math.max(Math.floor(v/1e4),1);let g=0;C=()=>{g++,f&&(!(g%P)||g===v)&&f(g/v)}}return{N:s,r:i,p:o,dkLen:a,blockSize32:d,V:m,B32:x,B:p,tmp:w,blockMixCb:C,asyncTick:c}}function cg(n,e,t,r,s){const i=vd(Mo,n,t,{c:1,dkLen:e});return t.fill(0),r.fill(0),s.fill(0),i}function i9(n,e,t){const{N:r,r:s,p:i,dkLen:o,blockSize32:a,V:c,B32:u,B:f,tmp:l,blockMixCb:d}=ag(n,e,t);for(let h=0;h<i;h++){const p=a*h;for(let x=0;x<a;x++)c[x]=u[p+x];for(let x=0,m=0;x<r-1;x++)Pi(c,m,c,m+=a,s),d();Pi(c,(r-1)*a,u,p,s),d();for(let x=0;x<r;x++){const m=u[p+a-16]%r;for(let w=0;w<a;w++)l[w]=u[p+w]^c[m*a+w];Pi(l,0,u,p,s),d()}}return cg(n,o,f,c,l)}async function o9(n,e,t){const{N:r,r:s,p:i,dkLen:o,blockSize32:a,V:c,B32:u,B:f,tmp:l,blockMixCb:d,asyncTick:h}=ag(n,e,t);for(let p=0;p<i;p++){const x=a*p;for(let w=0;w<a;w++)c[w]=u[x+w];let m=0;await Wh(r-1,h,()=>{Pi(c,m,c,m+=a,s),d()}),Pi(c,(r-1)*a,u,x,s),d(),await Wh(r,h,()=>{const w=u[x+a-16]%r;for(let C=0;C<a;C++)l[C]=u[x+C]^c[w*a+C];Pi(l,0,u,x,s),d()})}return cg(n,o,f,c,l)}let ug=!1,fg=!1;const lg=async function(n,e,t,r,s,i,o){return await o9(n,e,{N:t,r,p:s,dkLen:i,onProgress:o})},dg=function(n,e,t,r,s,i){return i9(n,e,{N:t,r,p:s,dkLen:i})};let hg=lg,bg=dg;async function Go(n,e,t,r,s,i,o){const a=V(n,"passwd"),c=V(e,"salt");return G(await hg(a,c,t,r,s,i,o))}Go._=lg;Go.lock=function(){fg=!0};Go.register=function(n){if(fg)throw new Error("scrypt is locked");hg=n};Object.freeze(Go);function zo(n,e,t,r,s,i){const o=V(n,"passwd"),a=V(e,"salt");return G(bg(o,a,t,r,s,i))}zo._=dg;zo.lock=function(){ug=!0};zo.register=function(n){if(ug)throw new Error("scryptSync is locked");bg=n};Object.freeze(zo);const xg=function(n){return M4("sha256").update(n).digest()};let pg=xg,gg=!1;function $t(n){const e=V(n,"data");return G(pg(e))}$t._=xg;$t.lock=function(){gg=!0};$t.register=function(n){if(gg)throw new Error("sha256 is locked");pg=n};Object.freeze($t);Object.freeze($t);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const mg=BigInt(0),bu=BigInt(1),a9=BigInt(2),xu=n=>n instanceof Uint8Array,c9=Array.from({length:256},(n,e)=>e.toString(16).padStart(2,"0"));function Io(n){if(!xu(n))throw new Error("Uint8Array expected");let e="";for(let t=0;t<n.length;t++)e+=c9[n[t]];return e}function yg(n){const e=n.toString(16);return e.length&1?`0${e}`:e}function Sd(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);return BigInt(n===""?"0":`0x${n}`)}function Co(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);const e=n.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const t=new Uint8Array(e/2);for(let r=0;r<t.length;r++){const s=r*2,i=n.slice(s,s+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");t[r]=o}return t}function Ds(n){return Sd(Io(n))}function Td(n){if(!xu(n))throw new Error("Uint8Array expected");return Sd(Io(Uint8Array.from(n).reverse()))}function No(n,e){return Co(n.toString(16).padStart(e*2,"0"))}function Od(n,e){return No(n,e).reverse()}function u9(n){return Co(yg(n))}function jt(n,e,t){let r;if(typeof e=="string")try{r=Co(e)}catch(i){throw new Error(`${n} must be valid hex string, got "${e}". Cause: ${i}`)}else if(xu(e))r=Uint8Array.from(e);else throw new Error(`${n} must be hex string or Uint8Array`);const s=r.length;if(typeof t=="number"&&s!==t)throw new Error(`${n} expected ${t} bytes, got ${s}`);return r}function Da(...n){const e=new Uint8Array(n.reduce((r,s)=>r+s.length,0));let t=0;return n.forEach(r=>{if(!xu(r))throw new Error("Uint8Array expected");e.set(r,t),t+=r.length}),e}function f9(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}function l9(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}function d9(n){let e;for(e=0;n>mg;n>>=bu,e+=1);return e}function h9(n,e){return n>>BigInt(e)&bu}const b9=(n,e,t)=>n|(t?bu:mg)<<BigInt(e),kd=n=>(a9<<BigInt(n-1))-bu,ef=n=>new Uint8Array(n),nb=n=>Uint8Array.from(n);function wg(n,e,t){if(typeof n!="number"||n<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof t!="function")throw new Error("hmacFn must be a function");let r=ef(n),s=ef(n),i=0;const o=()=>{r.fill(1),s.fill(0),i=0},a=(...l)=>t(s,r,...l),c=(l=ef())=>{s=a(nb([0]),l),r=a(),l.length!==0&&(s=a(nb([1]),l),r=a())},u=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let l=0;const d=[];for(;l<e;){r=a();const h=r.slice();d.push(h),l+=r.length}return Da(...d)};return(l,d)=>{o(),c(l);let h;for(;!(h=d(u()));)c();return o(),h}}const x9={bigint:n=>typeof n=="bigint",function:n=>typeof n=="function",boolean:n=>typeof n=="boolean",string:n=>typeof n=="string",stringOrUint8Array:n=>typeof n=="string"||n instanceof Uint8Array,isSafeInteger:n=>Number.isSafeInteger(n),array:n=>Array.isArray(n),field:(n,e)=>e.Fp.isValid(n),hash:n=>typeof n=="function"&&Number.isSafeInteger(n.outputLen)};function Nc(n,e,t={}){const r=(s,i,o)=>{const a=x9[i];if(typeof a!="function")throw new Error(`Invalid validator "${i}", expected function`);const c=n[s];if(!(o&&c===void 0)&&!a(c,n))throw new Error(`Invalid param ${String(s)}=${c} (${typeof c}), expected ${i}`)};for(const[s,i]of Object.entries(e))r(s,i,!1);for(const[s,i]of Object.entries(t))r(s,i,!0);return n}const p9=Object.freeze(Object.defineProperty({__proto__:null,bitGet:h9,bitLen:d9,bitMask:kd,bitSet:b9,bytesToHex:Io,bytesToNumberBE:Ds,bytesToNumberLE:Td,concatBytes:Da,createHmacDrbg:wg,ensureBytes:jt,equalBytes:f9,hexToBytes:Co,hexToNumber:Sd,numberToBytesBE:No,numberToBytesLE:Od,numberToHexUnpadded:yg,numberToVarBytesBE:u9,utf8ToBytes:l9,validateObject:Nc},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Te=BigInt(0),Pe=BigInt(1),rs=BigInt(2),g9=BigInt(3),dl=BigInt(4),rb=BigInt(5),sb=BigInt(8);BigInt(9);BigInt(16);function rt(n,e){const t=n%e;return t>=Te?t:e+t}function m9(n,e,t){if(t<=Te||e<Te)throw new Error("Expected power/modulo > 0");if(t===Pe)return Te;let r=Pe;for(;e>Te;)e&Pe&&(r=r*n%t),n=n*n%t,e>>=Pe;return r}function It(n,e,t){let r=n;for(;e-- >Te;)r*=r,r%=t;return r}function hl(n,e){if(n===Te||e<=Te)throw new Error(`invert: expected positive integers, got n=${n} mod=${e}`);let t=rt(n,e),r=e,s=Te,i=Pe;for(;t!==Te;){const a=r/t,c=r%t,u=s-i*a;r=t,t=c,s=i,i=u}if(r!==Pe)throw new Error("invert: does not exist");return rt(s,e)}function y9(n){const e=(n-Pe)/rs;let t,r,s;for(t=n-Pe,r=0;t%rs===Te;t/=rs,r++);for(s=rs;s<n&&m9(s,e,n)!==n-Pe;s++);if(r===1){const o=(n+Pe)/dl;return function(c,u){const f=c.pow(u,o);if(!c.eql(c.sqr(f),u))throw new Error("Cannot find square root");return f}}const i=(t+Pe)/rs;return function(a,c){if(a.pow(c,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let u=r,f=a.pow(a.mul(a.ONE,s),t),l=a.pow(c,i),d=a.pow(c,t);for(;!a.eql(d,a.ONE);){if(a.eql(d,a.ZERO))return a.ZERO;let h=1;for(let x=a.sqr(d);h<u&&!a.eql(x,a.ONE);h++)x=a.sqr(x);const p=a.pow(f,Pe<<BigInt(u-h-1));f=a.sqr(p),l=a.mul(l,p),d=a.mul(d,f),u=h}return l}}function w9(n){if(n%dl===g9){const e=(n+Pe)/dl;return function(r,s){const i=r.pow(s,e);if(!r.eql(r.sqr(i),s))throw new Error("Cannot find square root");return i}}if(n%sb===rb){const e=(n-rb)/sb;return function(r,s){const i=r.mul(s,rs),o=r.pow(i,e),a=r.mul(s,o),c=r.mul(r.mul(a,rs),o),u=r.mul(a,r.sub(c,r.ONE));if(!r.eql(r.sqr(u),s))throw new Error("Cannot find square root");return u}}return y9(n)}const A9=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function E9(n){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},t=A9.reduce((r,s)=>(r[s]="function",r),e);return Nc(n,t)}function v9(n,e,t){if(t<Te)throw new Error("Expected power > 0");if(t===Te)return n.ONE;if(t===Pe)return e;let r=n.ONE,s=e;for(;t>Te;)t&Pe&&(r=n.mul(r,s)),s=n.sqr(s),t>>=Pe;return r}function P9(n,e){const t=new Array(e.length),r=e.reduce((i,o,a)=>n.is0(o)?i:(t[a]=i,n.mul(i,o)),n.ONE),s=n.inv(r);return e.reduceRight((i,o,a)=>n.is0(o)?i:(t[a]=n.mul(i,t[a]),n.mul(i,o)),s),t}function Ag(n,e){const t=e!==void 0?e:n.toString(2).length,r=Math.ceil(t/8);return{nBitLength:t,nByteLength:r}}function I9(n,e,t=!1,r={}){if(n<=Te)throw new Error(`Expected Field ORDER > 0, got ${n}`);const{nBitLength:s,nByteLength:i}=Ag(n,e);if(i>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=w9(n),a=Object.freeze({ORDER:n,BITS:s,BYTES:i,MASK:kd(s),ZERO:Te,ONE:Pe,create:c=>rt(c,n),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return Te<=c&&c<n},is0:c=>c===Te,isOdd:c=>(c&Pe)===Pe,neg:c=>rt(-c,n),eql:(c,u)=>c===u,sqr:c=>rt(c*c,n),add:(c,u)=>rt(c+u,n),sub:(c,u)=>rt(c-u,n),mul:(c,u)=>rt(c*u,n),pow:(c,u)=>v9(a,c,u),div:(c,u)=>rt(c*hl(u,n),n),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>hl(c,n),sqrt:r.sqrt||(c=>o(a,c)),invertBatch:c=>P9(a,c),cmov:(c,u,f)=>f?u:c,toBytes:c=>t?Od(c,i):No(c,i),fromBytes:c=>{if(c.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${c.length}`);return t?Td(c):Ds(c)}});return Object.freeze(a)}function Eg(n){if(typeof n!="bigint")throw new Error("field order must be bigint");const e=n.toString(2).length;return Math.ceil(e/8)}function vg(n){const e=Eg(n);return e+Math.ceil(e/2)}function C9(n,e,t=!1){const r=n.length,s=Eg(e),i=vg(e);if(r<16||r<i||r>1024)throw new Error(`expected ${i}-1024 bytes of input, got ${r}`);const o=t?Ds(n):Td(n),a=rt(o,e-Pe)+Pe;return t?Od(a,s):No(a,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const N9=BigInt(0),tf=BigInt(1);function B9(n,e){const t=(s,i)=>{const o=i.negate();return s?o:i},r=s=>{const i=Math.ceil(e/s)+1,o=2**(s-1);return{windows:i,windowSize:o}};return{constTimeNegate:t,unsafeLadder(s,i){let o=n.ZERO,a=s;for(;i>N9;)i&tf&&(o=o.add(a)),a=a.double(),i>>=tf;return o},precomputeWindow(s,i){const{windows:o,windowSize:a}=r(i),c=[];let u=s,f=u;for(let l=0;l<o;l++){f=u,c.push(f);for(let d=1;d<a;d++)f=f.add(u),c.push(f);u=f.double()}return c},wNAF(s,i,o){const{windows:a,windowSize:c}=r(s);let u=n.ZERO,f=n.BASE;const l=BigInt(2**s-1),d=2**s,h=BigInt(s);for(let p=0;p<a;p++){const x=p*c;let m=Number(o&l);o>>=h,m>c&&(m-=d,o+=tf);const w=x,C=x+Math.abs(m)-1,v=p%2!==0,P=m<0;m===0?f=f.add(t(v,i[w])):u=u.add(t(P,i[C]))}return{p:u,f}},wNAFCached(s,i,o,a){const c=s._WINDOW_SIZE||1;let u=i.get(s);return u||(u=this.precomputeWindow(s,c),c!==1&&i.set(s,a(u))),this.wNAF(c,u,o)}}}function Pg(n){return E9(n.Fp),Nc(n,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Ag(n.n,n.nBitLength),...n,p:n.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function S9(n){const e=Pg(n);Nc(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:t,Fp:r,a:s}=e;if(t){if(!r.eql(s,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof t!="object"||typeof t.beta!="bigint"||typeof t.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:T9,hexToBytes:O9}=p9,fs={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(n){const{Err:e}=fs;if(n.length<2||n[0]!==2)throw new e("Invalid signature integer tag");const t=n[1],r=n.subarray(2,t+2);if(!t||r.length!==t)throw new e("Invalid signature integer: wrong length");if(r[0]&128)throw new e("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:T9(r),l:n.subarray(t+2)}},toSig(n){const{Err:e}=fs,t=typeof n=="string"?O9(n):n;if(!(t instanceof Uint8Array))throw new Error("ui8a expected");let r=t.length;if(r<2||t[0]!=48)throw new e("Invalid signature tag");if(t[1]!==r-2)throw new e("Invalid signature: incorrect length");const{d:s,l:i}=fs._parseInt(t.subarray(2)),{d:o,l:a}=fs._parseInt(i);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:s,s:o}},hexFromSig(n){const e=u=>Number.parseInt(u[0],16)&8?"00"+u:u,t=u=>{const f=u.toString(16);return f.length&1?`0${f}`:f},r=e(t(n.s)),s=e(t(n.r)),i=r.length/2,o=s.length/2,a=t(i),c=t(o);return`30${t(o+i+4)}02${c}${s}02${a}${r}`}},Yn=BigInt(0),Mt=BigInt(1);BigInt(2);const ib=BigInt(3);BigInt(4);function k9(n){const e=S9(n),{Fp:t}=e,r=e.toBytes||((p,x,m)=>{const w=x.toAffine();return Da(Uint8Array.from([4]),t.toBytes(w.x),t.toBytes(w.y))}),s=e.fromBytes||(p=>{const x=p.subarray(1),m=t.fromBytes(x.subarray(0,t.BYTES)),w=t.fromBytes(x.subarray(t.BYTES,2*t.BYTES));return{x:m,y:w}});function i(p){const{a:x,b:m}=e,w=t.sqr(p),C=t.mul(w,p);return t.add(t.add(C,t.mul(p,x)),m)}if(!t.eql(t.sqr(e.Gy),i(e.Gx)))throw new Error("bad generator point: equation left != right");function o(p){return typeof p=="bigint"&&Yn<p&&p<e.n}function a(p){if(!o(p))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(p){const{allowedPrivateKeyLengths:x,nByteLength:m,wrapPrivateKey:w,n:C}=e;if(x&&typeof p!="bigint"){if(p instanceof Uint8Array&&(p=Io(p)),typeof p!="string"||!x.includes(p.length))throw new Error("Invalid key");p=p.padStart(m*2,"0")}let v;try{v=typeof p=="bigint"?p:Ds(jt("private key",p,m))}catch{throw new Error(`private key must be ${m} bytes, hex or bigint, not ${typeof p}`)}return w&&(v=rt(v,C)),a(v),v}const u=new Map;function f(p){if(!(p instanceof l))throw new Error("ProjectivePoint expected")}class l{constructor(x,m,w){if(this.px=x,this.py=m,this.pz=w,x==null||!t.isValid(x))throw new Error("x required");if(m==null||!t.isValid(m))throw new Error("y required");if(w==null||!t.isValid(w))throw new Error("z required")}static fromAffine(x){const{x:m,y:w}=x||{};if(!x||!t.isValid(m)||!t.isValid(w))throw new Error("invalid affine point");if(x instanceof l)throw new Error("projective point not allowed");const C=v=>t.eql(v,t.ZERO);return C(m)&&C(w)?l.ZERO:new l(m,w,t.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(x){const m=t.invertBatch(x.map(w=>w.pz));return x.map((w,C)=>w.toAffine(m[C])).map(l.fromAffine)}static fromHex(x){const m=l.fromAffine(s(jt("pointHex",x)));return m.assertValidity(),m}static fromPrivateKey(x){return l.BASE.multiply(c(x))}_setWindowSize(x){this._WINDOW_SIZE=x,u.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!t.is0(this.py))return;throw new Error("bad point: ZERO")}const{x,y:m}=this.toAffine();if(!t.isValid(x)||!t.isValid(m))throw new Error("bad point: x or y not FE");const w=t.sqr(m),C=i(x);if(!t.eql(w,C))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:x}=this.toAffine();if(t.isOdd)return!t.isOdd(x);throw new Error("Field doesn't support isOdd")}equals(x){f(x);const{px:m,py:w,pz:C}=this,{px:v,py:P,pz:g}=x,E=t.eql(t.mul(m,g),t.mul(v,C)),I=t.eql(t.mul(w,g),t.mul(P,C));return E&&I}negate(){return new l(this.px,t.neg(this.py),this.pz)}double(){const{a:x,b:m}=e,w=t.mul(m,ib),{px:C,py:v,pz:P}=this;let g=t.ZERO,E=t.ZERO,I=t.ZERO,S=t.mul(C,C),k=t.mul(v,v),L=t.mul(P,P),R=t.mul(C,v);return R=t.add(R,R),I=t.mul(C,P),I=t.add(I,I),g=t.mul(x,I),E=t.mul(w,L),E=t.add(g,E),g=t.sub(k,E),E=t.add(k,E),E=t.mul(g,E),g=t.mul(R,g),I=t.mul(w,I),L=t.mul(x,L),R=t.sub(S,L),R=t.mul(x,R),R=t.add(R,I),I=t.add(S,S),S=t.add(I,S),S=t.add(S,L),S=t.mul(S,R),E=t.add(E,S),L=t.mul(v,P),L=t.add(L,L),S=t.mul(L,R),g=t.sub(g,S),I=t.mul(L,k),I=t.add(I,I),I=t.add(I,I),new l(g,E,I)}add(x){f(x);const{px:m,py:w,pz:C}=this,{px:v,py:P,pz:g}=x;let E=t.ZERO,I=t.ZERO,S=t.ZERO;const k=e.a,L=t.mul(e.b,ib);let R=t.mul(m,v),z=t.mul(w,P),$=t.mul(C,g),W=t.add(m,w),B=t.add(v,P);W=t.mul(W,B),B=t.add(R,z),W=t.sub(W,B),B=t.add(m,C);let T=t.add(v,g);return B=t.mul(B,T),T=t.add(R,$),B=t.sub(B,T),T=t.add(w,C),E=t.add(P,g),T=t.mul(T,E),E=t.add(z,$),T=t.sub(T,E),S=t.mul(k,B),E=t.mul(L,$),S=t.add(E,S),E=t.sub(z,S),S=t.add(z,S),I=t.mul(E,S),z=t.add(R,R),z=t.add(z,R),$=t.mul(k,$),B=t.mul(L,B),z=t.add(z,$),$=t.sub(R,$),$=t.mul(k,$),B=t.add(B,$),R=t.mul(z,B),I=t.add(I,R),R=t.mul(T,B),E=t.mul(W,E),E=t.sub(E,R),R=t.mul(W,z),S=t.mul(T,S),S=t.add(S,R),new l(E,I,S)}subtract(x){return this.add(x.negate())}is0(){return this.equals(l.ZERO)}wNAF(x){return h.wNAFCached(this,u,x,m=>{const w=t.invertBatch(m.map(C=>C.pz));return m.map((C,v)=>C.toAffine(w[v])).map(l.fromAffine)})}multiplyUnsafe(x){const m=l.ZERO;if(x===Yn)return m;if(a(x),x===Mt)return this;const{endo:w}=e;if(!w)return h.unsafeLadder(this,x);let{k1neg:C,k1:v,k2neg:P,k2:g}=w.splitScalar(x),E=m,I=m,S=this;for(;v>Yn||g>Yn;)v&Mt&&(E=E.add(S)),g&Mt&&(I=I.add(S)),S=S.double(),v>>=Mt,g>>=Mt;return C&&(E=E.negate()),P&&(I=I.negate()),I=new l(t.mul(I.px,w.beta),I.py,I.pz),E.add(I)}multiply(x){a(x);let m=x,w,C;const{endo:v}=e;if(v){const{k1neg:P,k1:g,k2neg:E,k2:I}=v.splitScalar(m);let{p:S,f:k}=this.wNAF(g),{p:L,f:R}=this.wNAF(I);S=h.constTimeNegate(P,S),L=h.constTimeNegate(E,L),L=new l(t.mul(L.px,v.beta),L.py,L.pz),w=S.add(L),C=k.add(R)}else{const{p:P,f:g}=this.wNAF(m);w=P,C=g}return l.normalizeZ([w,C])[0]}multiplyAndAddUnsafe(x,m,w){const C=l.BASE,v=(g,E)=>E===Yn||E===Mt||!g.equals(C)?g.multiplyUnsafe(E):g.multiply(E),P=v(this,m).add(v(x,w));return P.is0()?void 0:P}toAffine(x){const{px:m,py:w,pz:C}=this,v=this.is0();x==null&&(x=v?t.ONE:t.inv(C));const P=t.mul(m,x),g=t.mul(w,x),E=t.mul(C,x);if(v)return{x:t.ZERO,y:t.ZERO};if(!t.eql(E,t.ONE))throw new Error("invZ was invalid");return{x:P,y:g}}isTorsionFree(){const{h:x,isTorsionFree:m}=e;if(x===Mt)return!0;if(m)return m(l,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:x,clearCofactor:m}=e;return x===Mt?this:m?m(l,this):this.multiplyUnsafe(e.h)}toRawBytes(x=!0){return this.assertValidity(),r(l,this,x)}toHex(x=!0){return Io(this.toRawBytes(x))}}l.BASE=new l(e.Gx,e.Gy,t.ONE),l.ZERO=new l(t.ZERO,t.ONE,t.ZERO);const d=e.nBitLength,h=B9(l,e.endo?Math.ceil(d/2):d);return{CURVE:e,ProjectivePoint:l,normPrivateKeyToScalar:c,weierstrassEquation:i,isWithinCurveOrder:o}}function R9(n){const e=Pg(n);return Nc(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function U9(n){const e=R9(n),{Fp:t,n:r}=e,s=t.BYTES+1,i=2*t.BYTES+1;function o(B){return Yn<B&&B<t.ORDER}function a(B){return rt(B,r)}function c(B){return hl(B,r)}const{ProjectivePoint:u,normPrivateKeyToScalar:f,weierstrassEquation:l,isWithinCurveOrder:d}=k9({...e,toBytes(B,T,M){const _=T.toAffine(),H=t.toBytes(_.x),j=Da;return M?j(Uint8Array.from([T.hasEvenY()?2:3]),H):j(Uint8Array.from([4]),H,t.toBytes(_.y))},fromBytes(B){const T=B.length,M=B[0],_=B.subarray(1);if(T===s&&(M===2||M===3)){const H=Ds(_);if(!o(H))throw new Error("Point is not on curve");const j=l(H);let Z=t.sqrt(j);const te=(Z&Mt)===Mt;return(M&1)===1!==te&&(Z=t.neg(Z)),{x:H,y:Z}}else if(T===i&&M===4){const H=t.fromBytes(_.subarray(0,t.BYTES)),j=t.fromBytes(_.subarray(t.BYTES,2*t.BYTES));return{x:H,y:j}}else throw new Error(`Point of length ${T} was invalid. Expected ${s} compressed bytes or ${i} uncompressed bytes`)}}),h=B=>Io(No(B,e.nByteLength));function p(B){const T=r>>Mt;return B>T}function x(B){return p(B)?a(-B):B}const m=(B,T,M)=>Ds(B.slice(T,M));class w{constructor(T,M,_){this.r=T,this.s=M,this.recovery=_,this.assertValidity()}static fromCompact(T){const M=e.nByteLength;return T=jt("compactSignature",T,M*2),new w(m(T,0,M),m(T,M,2*M))}static fromDER(T){const{r:M,s:_}=fs.toSig(jt("DER",T));return new w(M,_)}assertValidity(){if(!d(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!d(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(T){return new w(this.r,this.s,T)}recoverPublicKey(T){const{r:M,s:_,recovery:H}=this,j=I(jt("msgHash",T));if(H==null||![0,1,2,3].includes(H))throw new Error("recovery id invalid");const Z=H===2||H===3?M+e.n:M;if(Z>=t.ORDER)throw new Error("recovery id 2 or 3 invalid");const te=H&1?"03":"02",me=u.fromHex(te+h(Z)),ye=c(Z),be=a(-j*ye),Ae=a(_*ye),Re=u.BASE.multiplyAndAddUnsafe(me,be,Ae);if(!Re)throw new Error("point at infinify");return Re.assertValidity(),Re}hasHighS(){return p(this.s)}normalizeS(){return this.hasHighS()?new w(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return Co(this.toDERHex())}toDERHex(){return fs.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Co(this.toCompactHex())}toCompactHex(){return h(this.r)+h(this.s)}}const C={isValidPrivateKey(B){try{return f(B),!0}catch{return!1}},normPrivateKeyToScalar:f,randomPrivateKey:()=>{const B=vg(e.n);return C9(e.randomBytes(B),e.n)},precompute(B=8,T=u.BASE){return T._setWindowSize(B),T.multiply(BigInt(3)),T}};function v(B,T=!0){return u.fromPrivateKey(B).toRawBytes(T)}function P(B){const T=B instanceof Uint8Array,M=typeof B=="string",_=(T||M)&&B.length;return T?_===s||_===i:M?_===2*s||_===2*i:B instanceof u}function g(B,T,M=!0){if(P(B))throw new Error("first arg must be private key");if(!P(T))throw new Error("second arg must be public key");return u.fromHex(T).multiply(f(B)).toRawBytes(M)}const E=e.bits2int||function(B){const T=Ds(B),M=B.length*8-e.nBitLength;return M>0?T>>BigInt(M):T},I=e.bits2int_modN||function(B){return a(E(B))},S=kd(e.nBitLength);function k(B){if(typeof B!="bigint")throw new Error("bigint expected");if(!(Yn<=B&&B<S))throw new Error(`bigint expected < 2^${e.nBitLength}`);return No(B,e.nByteLength)}function L(B,T,M=R){if(["recovered","canonical"].some(Ke=>Ke in M))throw new Error("sign() legacy options not supported");const{hash:_,randomBytes:H}=e;let{lowS:j,prehash:Z,extraEntropy:te}=M;j==null&&(j=!0),B=jt("msgHash",B),Z&&(B=jt("prehashed msgHash",_(B)));const me=I(B),ye=f(T),be=[k(ye),k(me)];if(te!=null){const Ke=te===!0?H(t.BYTES):te;be.push(jt("extraEntropy",Ke))}const Ae=Da(...be),Re=me;function qr(Ke){const dt=E(Ke);if(!d(dt))return;const ni=c(dt),Et=u.BASE.multiply(dt).toAffine(),Ie=a(Et.x);if(Ie===Yn)return;const vt=a(ni*a(Re+Ie*ye));if(vt===Yn)return;let dr=(Et.x===Ie?0:2)|Number(Et.y&Mt),Tn=vt;return j&&p(vt)&&(Tn=x(vt),dr^=1),new w(Ie,Tn,dr)}return{seed:Ae,k2sig:qr}}const R={lowS:e.lowS,prehash:!1},z={lowS:e.lowS,prehash:!1};function $(B,T,M=R){const{seed:_,k2sig:H}=L(B,T,M),j=e;return wg(j.hash.outputLen,j.nByteLength,j.hmac)(_,H)}u.BASE._setWindowSize(8);function W(B,T,M,_=z){var Et;const H=B;if(T=jt("msgHash",T),M=jt("publicKey",M),"strict"in _)throw new Error("options.strict was renamed to lowS");const{lowS:j,prehash:Z}=_;let te,me;try{if(typeof H=="string"||H instanceof Uint8Array)try{te=w.fromDER(H)}catch(Ie){if(!(Ie instanceof fs.Err))throw Ie;te=w.fromCompact(H)}else if(typeof H=="object"&&typeof H.r=="bigint"&&typeof H.s=="bigint"){const{r:Ie,s:vt}=H;te=new w(Ie,vt)}else throw new Error("PARSE");me=u.fromHex(M)}catch(Ie){if(Ie.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(j&&te.hasHighS())return!1;Z&&(T=e.hash(T));const{r:ye,s:be}=te,Ae=I(T),Re=c(be),qr=a(Ae*Re),Ke=a(ye*Re),dt=(Et=u.BASE.multiplyAndAddUnsafe(me,qr,Ke))==null?void 0:Et.toAffine();return dt?a(dt.x)===ye:!1}return{CURVE:e,getPublicKey:v,getSharedSecret:g,sign:$,verify:W,ProjectivePoint:u,Signature:w,utils:C}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function F9(n){return{hash:n,hmac:(e,...t)=>hu(n,e,a4(...t)),randomBytes:u4}}function L9(n,e){const t=r=>U9({...n,...F9(r)});return Object.freeze({...t(e),create:t})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ig=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),ob=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),M9=BigInt(1),bl=BigInt(2),ab=(n,e)=>(n+e/bl)/e;function D9(n){const e=Ig,t=BigInt(3),r=BigInt(6),s=BigInt(11),i=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),u=n*n*n%e,f=u*u*n%e,l=It(f,t,e)*f%e,d=It(l,t,e)*f%e,h=It(d,bl,e)*u%e,p=It(h,s,e)*h%e,x=It(p,i,e)*p%e,m=It(x,a,e)*x%e,w=It(m,c,e)*m%e,C=It(w,a,e)*x%e,v=It(C,t,e)*f%e,P=It(v,o,e)*p%e,g=It(P,r,e)*u%e,E=It(g,bl,e);if(!xl.eql(xl.sqr(E),n))throw new Error("Cannot find square root");return E}const xl=I9(Ig,void 0,void 0,{sqrt:D9}),yr=L9({a:BigInt(0),b:BigInt(7),Fp:xl,n:ob,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:n=>{const e=ob,t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-M9*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=t,o=BigInt("0x100000000000000000000000000000000"),a=ab(i*n,e),c=ab(-r*n,e);let u=rt(n-a*t-c*s,e),f=rt(-a*r-c*i,e);const l=u>o,d=f>o;if(l&&(u=e-u),d&&(f=e-f),u>o||f>o)throw new Error("splitScalar: Endomorphism failed, k="+n);return{k1neg:l,k1:u,k2neg:d,k2:f}}}},Mo);BigInt(0);yr.ProjectivePoint;const $a="0x0000000000000000000000000000000000000000",cb="0x0000000000000000000000000000000000000000000000000000000000000000",$9=`Ethereum Signed Message:
`,ub=BigInt(0),fb=BigInt(1),lb=BigInt(2),db=BigInt(27),hb=BigInt(28),Jc=BigInt(35),oi={};function bb(n){return rr(we(n),32)}var Fi,dn,Li,Es;const Ht=class Ht{constructor(e,t,r,s){O(this,Fi);O(this,dn);O(this,Li);O(this,Es);Qr(e,oi,"Signature"),y(this,Fi,t),y(this,dn,r),y(this,Li,s),y(this,Es,null)}get r(){return b(this,Fi)}set r(e){A(Ei(e)===32,"invalid r","value",e),y(this,Fi,G(e))}get s(){return A(parseInt(b(this,dn).substring(0,3))<8,"non-canonical s; use ._s","s",b(this,dn)),b(this,dn)}set s(e){A(Ei(e)===32,"invalid s","value",e),y(this,dn,G(e))}get _s(){return b(this,dn)}isValid(){return parseInt(b(this,dn).substring(0,3))<8}get v(){return b(this,Li)}set v(e){const t=Y(e,"value");A(t===27||t===28,"invalid v","v",e),y(this,Li,t)}get networkV(){return b(this,Es)}get legacyChainId(){const e=this.networkV;return e==null?null:Ht.getChainId(e)}get yParity(){return this.v===27?0:1}get yParityAndS(){const e=V(this.s);return this.yParity&&(e[0]|=128),G(e)}get compactSerialized(){return ce([this.r,this.yParityAndS])}get serialized(){return ce([this.r,this.s,this.yParity?"0x1c":"0x1b"])}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this._s}"${this.isValid()?"":', valid: "false"'}, yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){const e=new Ht(oi,this.r,this._s,this.v);return this.networkV&&y(e,Es,this.networkV),e}toJSON(){const e=this.networkV;return{_type:"signature",networkV:e!=null?e.toString():null,r:this.r,s:this._s,v:this.v}}static getChainId(e){const t=K(e,"v");return t==db||t==hb?ub:(A(t>=Jc,"invalid EIP-155 v","v",e),(t-Jc)/lb)}static getChainIdV(e,t){return K(e)*lb+BigInt(35+t-27)}static getNormalizedV(e){const t=K(e);return t===ub||t===db?27:t===fb||t===hb?28:(A(t>=Jc,"invalid v","v",e),t&fb?27:28)}static from(e){function t(u,f){A(u,f,"signature",e)}if(e==null)return new Ht(oi,cb,cb,27);if(typeof e=="string"){const u=V(e,"signature");if(u.length===64){const f=G(u.slice(0,32)),l=u.slice(32,64),d=l[0]&128?28:27;return l[0]&=127,new Ht(oi,f,G(l),d)}if(u.length===65){const f=G(u.slice(0,32)),l=G(u.slice(32,64)),d=Ht.getNormalizedV(u[64]);return new Ht(oi,f,l,d)}t(!1,"invalid raw signature length")}if(e instanceof Ht)return e.clone();const r=e.r;t(r!=null,"missing r");const s=bb(r),i=function(u,f){if(u!=null)return bb(u);if(f!=null){t(de(f,32),"invalid yParityAndS");const l=V(f);return l[0]&=127,G(l)}t(!1,"missing s")}(e.s,e.yParityAndS),{networkV:o,v:a}=function(u,f,l){if(u!=null){const d=K(u);return{networkV:d>=Jc?d:void 0,v:Ht.getNormalizedV(d)}}if(f!=null)return t(de(f,32),"invalid yParityAndS"),{v:V(f)[0]&128?28:27};if(l!=null){switch(Y(l,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}t(!1,"invalid yParity")}t(!1,"missing v")}(e.v,e.yParityAndS,e.yParity),c=new Ht(oi,s,i,a);return o&&y(c,Es,o),t(e.yParity==null||Y(e.yParity,"sig.yParity")===c.yParity,"yParity mismatch"),t(e.yParityAndS==null||e.yParityAndS===c.yParityAndS,"yParityAndS mismatch"),c}};Fi=new WeakMap,dn=new WeakMap,Li=new WeakMap,Es=new WeakMap;let ct=Ht;var _n;const ss=class ss{constructor(e){O(this,_n);A(Ei(e)===32,"invalid private key","privateKey","[REDACTED]"),y(this,_n,G(e))}get privateKey(){return b(this,_n)}get publicKey(){return ss.computePublicKey(b(this,_n))}get compressedPublicKey(){return ss.computePublicKey(b(this,_n),!0)}sign(e){A(Ei(e)===32,"invalid digest length","digest",e);const t=yr.sign(De(e),De(b(this,_n)),{lowS:!0});return ct.from({r:sr(t.r,32),s:sr(t.s,32),v:t.recovery?28:27})}computeSharedSecret(e){const t=ss.computePublicKey(e);return G(yr.getSharedSecret(De(b(this,_n)),V(t),!1))}static computePublicKey(e,t){let r=V(e,"key");if(r.length===32){const i=yr.getPublicKey(r,!!t);return G(i)}if(r.length===64){const i=new Uint8Array(65);i[0]=4,i.set(r,1),r=i}const s=yr.ProjectivePoint.fromHex(r);return G(s.toRawBytes(t))}static recoverPublicKey(e,t){A(Ei(e)===32,"invalid digest length","digest",e);const r=ct.from(t);let s=yr.Signature.fromCompact(De(ce([r.r,r.s])));s=s.addRecoveryBit(r.yParity);const i=s.recoverPublicKey(De(e));return A(i!=null,"invalid signature for digest","signature",t),"0x"+i.toHex(!1)}static addPoints(e,t,r){const s=yr.ProjectivePoint.fromHex(ss.computePublicKey(e).substring(2)),i=yr.ProjectivePoint.fromHex(ss.computePublicKey(t).substring(2));return"0x"+s.add(i).toHex(!!r)}};_n=new WeakMap;let vn=ss;const G9=BigInt(0),z9=BigInt(36);function xb(n){n=n.toLowerCase();const e=n.substring(2).split(""),t=new Uint8Array(40);for(let s=0;s<40;s++)t[s]=e[s].charCodeAt(0);const r=V(xe(t));for(let s=0;s<40;s+=2)r[s>>1]>>4>=8&&(e[s]=e[s].toUpperCase()),(r[s>>1]&15)>=8&&(e[s+1]=e[s+1].toUpperCase());return"0x"+e.join("")}const Rd={};for(let n=0;n<10;n++)Rd[String(n)]=String(n);for(let n=0;n<26;n++)Rd[String.fromCharCode(65+n)]=String(10+n);const pb=15;function H9(n){n=n.toUpperCase(),n=n.substring(4)+n.substring(0,2)+"00";let e=n.split("").map(r=>Rd[r]).join("");for(;e.length>=pb;){let r=e.substring(0,pb);e=parseInt(r,10)%97+e.substring(r.length)}let t=String(98-parseInt(e,10)%97);for(;t.length<2;)t="0"+t;return t}const _9=function(){const n={};for(let e=0;e<36;e++){const t="0123456789abcdefghijklmnopqrstuvwxyz"[e];n[t]=BigInt(e)}return n}();function j9(n){n=n.toLowerCase();let e=G9;for(let t=0;t<n.length;t++)e=e*z9+_9[n[t]];return e}function se(n){if(A(typeof n=="string","invalid address","address",n),n.match(/^(0x)?[0-9a-fA-F]{40}$/)){n.startsWith("0x")||(n="0x"+n);const e=xb(n);return A(!n.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||e===n,"bad address checksum","address",n),e}if(n.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){A(n.substring(2,4)===H9(n),"bad icap checksum","address",n);let e=j9(n.substring(4)).toString(16);for(;e.length<40;)e="0"+e;return xb("0x"+e)}A(!1,"invalid address","address",n)}function V9(n){const e=se(n.from);let r=K(n.nonce,"tx.nonce").toString(16);return r==="0"?r="0x":r.length%2?r="0x0"+r:r="0x"+r,se(he(xe(or([e,r])),12))}function Cg(n){return n&&typeof n.getAddress=="function"}async function nf(n,e){const t=await e;return(t==null||t==="0x0000000000000000000000000000000000000000")&&(U(typeof n!="string","unconfigured name","UNCONFIGURED_NAME",{value:n}),A(!1,"invalid AddressLike value; did not resolve to a value address","target",n)),se(t)}function Oe(n,e){if(typeof n=="string")return n.match(/^0x[0-9a-f]{40}$/i)?se(n):(U(e!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),nf(n,e.resolveName(n)));if(Cg(n))return nf(n,n.getAddress());if(n&&typeof n.then=="function")return nf(n,n);A(!1,"unsupported addressable value","target",n)}const Fn={};function J(n,e){let t=!1;return e<0&&(t=!0,e*=-1),new Ve(Fn,`${t?"":"u"}int${e}`,n,{signed:t,width:e})}function oe(n,e){return new Ve(Fn,`bytes${e||""}`,n,{size:e})}const gb=Symbol.for("_ethers_typed");var vs;const Ln=class Ln{constructor(e,t,r,s){N(this,"type");N(this,"value");O(this,vs);N(this,"_typedSymbol");s==null&&(s=null),Qr(Fn,e,"Typed"),q(this,{_typedSymbol:gb,type:t,value:r}),y(this,vs,s),this.format()}format(){if(this.type==="array")throw new Error("");if(this.type==="dynamicArray")throw new Error("");return this.type==="tuple"?`tuple(${this.value.map(e=>e.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return this.type==="string"}get tupleName(){if(this.type!=="tuple")throw TypeError("not a tuple");return b(this,vs)}get arrayLength(){if(this.type!=="array")throw TypeError("not an array");return b(this,vs)===!0?-1:b(this,vs)===!1?this.value.length:null}static from(e,t){return new Ln(Fn,e,t)}static uint8(e){return J(e,8)}static uint16(e){return J(e,16)}static uint24(e){return J(e,24)}static uint32(e){return J(e,32)}static uint40(e){return J(e,40)}static uint48(e){return J(e,48)}static uint56(e){return J(e,56)}static uint64(e){return J(e,64)}static uint72(e){return J(e,72)}static uint80(e){return J(e,80)}static uint88(e){return J(e,88)}static uint96(e){return J(e,96)}static uint104(e){return J(e,104)}static uint112(e){return J(e,112)}static uint120(e){return J(e,120)}static uint128(e){return J(e,128)}static uint136(e){return J(e,136)}static uint144(e){return J(e,144)}static uint152(e){return J(e,152)}static uint160(e){return J(e,160)}static uint168(e){return J(e,168)}static uint176(e){return J(e,176)}static uint184(e){return J(e,184)}static uint192(e){return J(e,192)}static uint200(e){return J(e,200)}static uint208(e){return J(e,208)}static uint216(e){return J(e,216)}static uint224(e){return J(e,224)}static uint232(e){return J(e,232)}static uint240(e){return J(e,240)}static uint248(e){return J(e,248)}static uint256(e){return J(e,256)}static uint(e){return J(e,256)}static int8(e){return J(e,-8)}static int16(e){return J(e,-16)}static int24(e){return J(e,-24)}static int32(e){return J(e,-32)}static int40(e){return J(e,-40)}static int48(e){return J(e,-48)}static int56(e){return J(e,-56)}static int64(e){return J(e,-64)}static int72(e){return J(e,-72)}static int80(e){return J(e,-80)}static int88(e){return J(e,-88)}static int96(e){return J(e,-96)}static int104(e){return J(e,-104)}static int112(e){return J(e,-112)}static int120(e){return J(e,-120)}static int128(e){return J(e,-128)}static int136(e){return J(e,-136)}static int144(e){return J(e,-144)}static int152(e){return J(e,-152)}static int160(e){return J(e,-160)}static int168(e){return J(e,-168)}static int176(e){return J(e,-176)}static int184(e){return J(e,-184)}static int192(e){return J(e,-192)}static int200(e){return J(e,-200)}static int208(e){return J(e,-208)}static int216(e){return J(e,-216)}static int224(e){return J(e,-224)}static int232(e){return J(e,-232)}static int240(e){return J(e,-240)}static int248(e){return J(e,-248)}static int256(e){return J(e,-256)}static int(e){return J(e,-256)}static bytes1(e){return oe(e,1)}static bytes2(e){return oe(e,2)}static bytes3(e){return oe(e,3)}static bytes4(e){return oe(e,4)}static bytes5(e){return oe(e,5)}static bytes6(e){return oe(e,6)}static bytes7(e){return oe(e,7)}static bytes8(e){return oe(e,8)}static bytes9(e){return oe(e,9)}static bytes10(e){return oe(e,10)}static bytes11(e){return oe(e,11)}static bytes12(e){return oe(e,12)}static bytes13(e){return oe(e,13)}static bytes14(e){return oe(e,14)}static bytes15(e){return oe(e,15)}static bytes16(e){return oe(e,16)}static bytes17(e){return oe(e,17)}static bytes18(e){return oe(e,18)}static bytes19(e){return oe(e,19)}static bytes20(e){return oe(e,20)}static bytes21(e){return oe(e,21)}static bytes22(e){return oe(e,22)}static bytes23(e){return oe(e,23)}static bytes24(e){return oe(e,24)}static bytes25(e){return oe(e,25)}static bytes26(e){return oe(e,26)}static bytes27(e){return oe(e,27)}static bytes28(e){return oe(e,28)}static bytes29(e){return oe(e,29)}static bytes30(e){return oe(e,30)}static bytes31(e){return oe(e,31)}static bytes32(e){return oe(e,32)}static address(e){return new Ln(Fn,"address",e)}static bool(e){return new Ln(Fn,"bool",!!e)}static bytes(e){return new Ln(Fn,"bytes",e)}static string(e){return new Ln(Fn,"string",e)}static array(e,t){throw new Error("not implemented yet")}static tuple(e,t){throw new Error("not implemented yet")}static overrides(e){return new Ln(Fn,"overrides",Object.assign({},e))}static isTyped(e){return e&&typeof e=="object"&&"_typedSymbol"in e&&e._typedSymbol===gb}static dereference(e,t){if(Ln.isTyped(e)){if(e.type!==t)throw new Error(`invalid type: expecetd ${t}, got ${e.type}`);return e.value}return e}};vs=new WeakMap;let Ve=Ln;class K9 extends lr{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,t){let r=Ve.dereference(t,"string");try{r=se(r)}catch(s){return this._throwError(s.message,t)}return e.writeValue(r)}decode(e){return se(sr(e.readValue(),20))}}class Q9 extends lr{constructor(t){super(t.name,t.type,"_",t.dynamic);N(this,"coder");this.coder=t}defaultValue(){return this.coder.defaultValue()}encode(t,r){return this.coder.encode(t,r)}decode(t){return this.coder.decode(t)}}function Ng(n,e,t){let r=[];if(Array.isArray(t))r=t;else if(t&&typeof t=="object"){let c={};r=e.map(u=>{const f=u.localName;return U(f,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:u},value:t}),U(!c[f],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:u},value:t}),c[f]=!0,t[f]})}else A(!1,"invalid tuple value","tuple",t);A(e.length===r.length,"types/value length mismatch","tuple",t);let s=new cl,i=new cl,o=[];e.forEach((c,u)=>{let f=r[u];if(c.dynamic){let l=i.length;c.encode(i,f);let d=s.writeUpdatableValue();o.push(h=>{d(h+l)})}else c.encode(s,f)}),o.forEach(c=>{c(s.length)});let a=n.appendWriter(s);return a+=n.appendWriter(i),a}function Bg(n,e){let t=[],r=[],s=n.subReader(0);return e.forEach(i=>{let o=null;if(i.dynamic){let a=n.readIndex(),c=s.subReader(a);try{o=i.decode(c)}catch(u){if(Me(u,"BUFFER_OVERRUN"))throw u;o=u,o.baseType=i.name,o.name=i.localName,o.type=i.type}}else try{o=i.decode(n)}catch(a){if(Me(a,"BUFFER_OVERRUN"))throw a;o=a,o.baseType=i.name,o.name=i.localName,o.type=i.type}if(o==null)throw new Error("investigate");t.push(o),r.push(i.localName||null)}),Eo.fromItems(t,r)}class J9 extends lr{constructor(t,r,s){const i=t.type+"["+(r>=0?r:"")+"]",o=r===-1||t.dynamic;super("array",i,s,o);N(this,"coder");N(this,"length");q(this,{coder:t,length:r})}defaultValue(){const t=this.coder.defaultValue(),r=[];for(let s=0;s<this.length;s++)r.push(t);return r}encode(t,r){const s=Ve.dereference(r,"array");Array.isArray(s)||this._throwError("expected array value",s);let i=this.length;i===-1&&(i=s.length,t.writeValue(s.length)),bp(s.length,i,"coder array"+(this.localName?" "+this.localName:""));let o=[];for(let a=0;a<s.length;a++)o.push(this.coder);return Ng(t,o,s)}decode(t){let r=this.length;r===-1&&(r=t.readIndex(),U(r*qe<=t.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:t.bytes,offset:r*qe,length:t.dataLength}));let s=[];for(let i=0;i<r;i++)s.push(new Q9(this.coder));return Bg(t,s)}}class W9 extends lr{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,t){const r=Ve.dereference(t,"bool");return e.writeValue(r?1:0)}decode(e){return!!e.readValue()}}class Sg extends lr{constructor(e,t){super(e,e,t,!0)}defaultValue(){return"0x"}encode(e,t){t=De(t);let r=e.writeValue(t.length);return r+=e.writeBytes(t),r}decode(e){return e.readBytes(e.readIndex(),!0)}}class q9 extends Sg{constructor(e){super("bytes",e)}decode(e){return G(super.decode(e))}}class Z9 extends lr{constructor(t,r){let s="bytes"+String(t);super(s,s,r,!1);N(this,"size");q(this,{size:t},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(t,r){let s=De(Ve.dereference(r,this.type));return s.length!==this.size&&this._throwError("incorrect data length",r),t.writeBytes(s)}decode(t){return G(t.readBytes(this.size))}}const Y9=new Uint8Array([]);class X9 extends lr{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,t){return t!=null&&this._throwError("not null",t),e.writeBytes(Y9)}decode(e){return e.readBytes(0),null}}const eA=BigInt(0),tA=BigInt(1),nA=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class rA extends lr{constructor(t,r,s){const i=(r?"int":"uint")+t*8;super(i,i,s,!1);N(this,"size");N(this,"signed");q(this,{size:t,signed:r},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(t,r){let s=K(Ve.dereference(r,this.type)),i=us(nA,qe*8);if(this.signed){let o=us(i,this.size*8-1);(s>o||s<-(o+tA))&&this._throwError("value out-of-bounds",r),s=mp(s,8*qe)}else(s<eA||s>us(i,this.size*8))&&this._throwError("value out-of-bounds",r);return t.writeValue(s)}decode(t){let r=us(t.readValue(),this.size*8);return this.signed&&(r=I0(r,this.size*8)),r}}class sA extends Sg{constructor(e){super("string",e)}defaultValue(){return""}encode(e,t){return super.encode(e,Xe(Ve.dereference(t,"string")))}decode(e){return N0(super.decode(e))}}class Wc extends lr{constructor(t,r){let s=!1;const i=[];t.forEach(a=>{a.dynamic&&(s=!0),i.push(a.type)});const o="tuple("+i.join(",")+")";super("tuple",o,r,s);N(this,"coders");q(this,{coders:Object.freeze(t.slice())})}defaultValue(){const t=[];this.coders.forEach(s=>{t.push(s.defaultValue())});const r=this.coders.reduce((s,i)=>{const o=i.localName;return o&&(s[o]||(s[o]=0),s[o]++),s},{});return this.coders.forEach((s,i)=>{let o=s.localName;!o||r[o]!==1||(o==="length"&&(o="_length"),t[o]==null&&(t[o]=t[i]))}),Object.freeze(t)}encode(t,r){const s=Ve.dereference(r,"tuple");return Ng(t,this.coders,s)}decode(t){return Bg(t,this.coders)}}function rf(n,e){return{address:se(n),storageKeys:e.map((t,r)=>(A(de(t,32),"invalid slot",`storageKeys[${r}]`,t),t.toLowerCase()))}}function ei(n){if(Array.isArray(n))return n.map((t,r)=>Array.isArray(t)?(A(t.length===2,"invalid slot set",`value[${r}]`,t),rf(t[0],t[1])):(A(t!=null&&typeof t=="object","invalid address-slot set","value",n),rf(t.address,t.storageKeys)));A(n!=null&&typeof n=="object","invalid access list","value",n);const e=Object.keys(n).map(t=>{const r=n[t].reduce((s,i)=>(s[i]=!0,s),{});return rf(t,Object.keys(r).sort())});return e.sort((t,r)=>t.address.localeCompare(r.address)),e}function Tg(n){return{address:se(n.address),nonce:K(n.nonce!=null?n.nonce:0),chainId:K(n.chainId!=null?n.chainId:0),signature:ct.from(n.signature)}}function Bc(n){let e;return typeof n=="string"?e=vn.computePublicKey(n,!1):e=n.publicKey,se(xe("0x"+e.substring(4)).substring(26))}function iA(n,e){return Bc(vn.recoverPublicKey(n,e))}const Se=BigInt(0),oA=BigInt(2),aA=BigInt(27),cA=BigInt(28),uA=BigInt(35),fA=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),sf=4096*32;function lA(n){return{blobToKzgCommitment:r=>{if("computeBlobProof"in n){if("blobToKzgCommitment"in n&&typeof n.blobToKzgCommitment=="function")return V(n.blobToKzgCommitment(G(r)))}else if("blobToKzgCommitment"in n&&typeof n.blobToKzgCommitment=="function")return V(n.blobToKzgCommitment(r));if("blobToKZGCommitment"in n&&typeof n.blobToKZGCommitment=="function")return V(n.blobToKZGCommitment(G(r)));A(!1,"unsupported KZG library","kzg",n)},computeBlobKzgProof:(r,s)=>{if("computeBlobProof"in n&&typeof n.computeBlobProof=="function")return V(n.computeBlobProof(G(r),G(s)));if("computeBlobKzgProof"in n&&typeof n.computeBlobKzgProof=="function")return n.computeBlobKzgProof(r,s);if("computeBlobKZGProof"in n&&typeof n.computeBlobKZGProof=="function")return V(n.computeBlobKZGProof(G(r),G(s)));A(!1,"unsupported KZG library","kzg",n)}}}function mb(n,e){let t=n.toString(16);for(;t.length<2;)t="0"+t;return t+=$t(e).substring(4),"0x"+t}function Ho(n){return n==="0x"?null:se(n)}function pu(n,e){try{return ei(n)}catch(t){A(!1,t.message,e,n)}}function dA(n,e){try{if(!Array.isArray(n))throw new Error("authorizationList: invalid array");const t=[];for(let r=0;r<n.length;r++){const s=n[r];if(!Array.isArray(s))throw new Error(`authorization[${r}]: invalid array`);if(s.length!==6)throw new Error(`authorization[${r}]: wrong length`);if(!s[1])throw new Error(`authorization[${r}]: null address`);t.push({address:Ho(s[1]),nonce:fe(s[2],"nonce"),chainId:fe(s[0],"chainId"),signature:ct.from({yParity:ti(s[3],"yParity"),r:rr(s[4],32),s:rr(s[5],32)})})}return t}catch(t){A(!1,t.message,e,n)}}function ti(n,e){return n==="0x"?0:Y(n,e)}function fe(n,e){if(n==="0x")return Se;const t=K(n,e);return A(t<=fA,"value exceeds uint size",e,t),t}function re(n,e){const t=K(n,"value"),r=we(t);return A(r.length<=32,"value too large",`tx.${e}`,t),r}function gu(n){return ei(n).map(e=>[e.address,e.storageKeys])}function hA(n){return n.map(e=>[re(e.chainId,"chainId"),e.address,re(e.nonce,"nonce"),re(e.signature.yParity,"yParity"),we(e.signature.r),we(e.signature.s)])}function bA(n,e){A(Array.isArray(n),`invalid ${e}`,"value",n);for(let t=0;t<n.length;t++)A(de(n[t],32),"invalid ${ param } hash",`value[${t}]`,n[t]);return n}function xA(n){const e=Cc(n);A(Array.isArray(e)&&(e.length===9||e.length===6),"invalid field count for legacy transaction","data",n);const t={type:0,nonce:ti(e[0],"nonce"),gasPrice:fe(e[1],"gasPrice"),gasLimit:fe(e[2],"gasLimit"),to:Ho(e[3]),value:fe(e[4],"value"),data:G(e[5]),chainId:Se};if(e.length===6)return t;const r=fe(e[6],"v"),s=fe(e[7],"r"),i=fe(e[8],"s");if(s===Se&&i===Se)t.chainId=r;else{let o=(r-uA)/oA;o<Se&&(o=Se),t.chainId=o,A(o!==Se||r===aA||r===cA,"non-canonical legacy v","v",e[6]),t.signature=ct.from({r:rr(e[7],32),s:rr(e[8],32),v:r})}return t}function pA(n,e){const t=[re(n.nonce,"nonce"),re(n.gasPrice||0,"gasPrice"),re(n.gasLimit,"gasLimit"),n.to||"0x",re(n.value,"value"),n.data];let r=Se;if(n.chainId!=Se)r=K(n.chainId,"tx.chainId"),A(!e||e.networkV==null||e.legacyChainId===r,"tx.chainId/sig.v mismatch","sig",e);else if(n.signature){const i=n.signature.legacyChainId;i!=null&&(r=i)}if(!e)return r!==Se&&(t.push(we(r)),t.push("0x"),t.push("0x")),or(t);let s=BigInt(27+e.yParity);return r!==Se?s=ct.getChainIdV(r,e.v):BigInt(e.v)!==s&&A(!1,"tx.chainId/sig.v mismatch","sig",e),t.push(we(s)),t.push(we(e.r)),t.push(we(e.s)),or(t)}function mu(n,e){let t;try{if(t=ti(e[0],"yParity"),t!==0&&t!==1)throw new Error("bad yParity")}catch{A(!1,"invalid yParity","yParity",e[0])}const r=rr(e[1],32),s=rr(e[2],32),i=ct.from({r,s,yParity:t});n.signature=i}function gA(n){const e=Cc(V(n).slice(1));A(Array.isArray(e)&&(e.length===9||e.length===12),"invalid field count for transaction type: 2","data",G(n));const t={type:2,chainId:fe(e[0],"chainId"),nonce:ti(e[1],"nonce"),maxPriorityFeePerGas:fe(e[2],"maxPriorityFeePerGas"),maxFeePerGas:fe(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:fe(e[4],"gasLimit"),to:Ho(e[5]),value:fe(e[6],"value"),data:G(e[7]),accessList:pu(e[8],"accessList")};return e.length===9||mu(t,e.slice(9)),t}function mA(n,e){const t=[re(n.chainId,"chainId"),re(n.nonce,"nonce"),re(n.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),re(n.maxFeePerGas||0,"maxFeePerGas"),re(n.gasLimit,"gasLimit"),n.to||"0x",re(n.value,"value"),n.data,gu(n.accessList||[])];return e&&(t.push(re(e.yParity,"yParity")),t.push(we(e.r)),t.push(we(e.s))),ce(["0x02",or(t)])}function yA(n){const e=Cc(V(n).slice(1));A(Array.isArray(e)&&(e.length===8||e.length===11),"invalid field count for transaction type: 1","data",G(n));const t={type:1,chainId:fe(e[0],"chainId"),nonce:ti(e[1],"nonce"),gasPrice:fe(e[2],"gasPrice"),gasLimit:fe(e[3],"gasLimit"),to:Ho(e[4]),value:fe(e[5],"value"),data:G(e[6]),accessList:pu(e[7],"accessList")};return e.length===8||mu(t,e.slice(8)),t}function wA(n,e){const t=[re(n.chainId,"chainId"),re(n.nonce,"nonce"),re(n.gasPrice||0,"gasPrice"),re(n.gasLimit,"gasLimit"),n.to||"0x",re(n.value,"value"),n.data,gu(n.accessList||[])];return e&&(t.push(re(e.yParity,"recoveryParam")),t.push(we(e.r)),t.push(we(e.s))),ce(["0x01",or(t)])}function AA(n){let e=Cc(V(n).slice(1)),t="3",r=null;if(e.length===4&&Array.isArray(e[0])){t="3 (network format)";const i=e[1],o=e[2],a=e[3];A(Array.isArray(i),"invalid network format: blobs not an array","fields[1]",i),A(Array.isArray(o),"invalid network format: commitments not an array","fields[2]",o),A(Array.isArray(a),"invalid network format: proofs not an array","fields[3]",a),A(i.length===o.length,"invalid network format: blobs/commitments length mismatch","fields",e),A(i.length===a.length,"invalid network format: blobs/proofs length mismatch","fields",e),r=[];for(let c=0;c<e[1].length;c++)r.push({data:i[c],commitment:o[c],proof:a[c]});e=e[0]}A(Array.isArray(e)&&(e.length===11||e.length===14),`invalid field count for transaction type: ${t}`,"data",G(n));const s={type:3,chainId:fe(e[0],"chainId"),nonce:ti(e[1],"nonce"),maxPriorityFeePerGas:fe(e[2],"maxPriorityFeePerGas"),maxFeePerGas:fe(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:fe(e[4],"gasLimit"),to:Ho(e[5]),value:fe(e[6],"value"),data:G(e[7]),accessList:pu(e[8],"accessList"),maxFeePerBlobGas:fe(e[9],"maxFeePerBlobGas"),blobVersionedHashes:e[10]};r&&(s.blobs=r),A(s.to!=null,`invalid address for transaction type: ${t}`,"data",n),A(Array.isArray(s.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",n);for(let i=0;i<s.blobVersionedHashes.length;i++)A(de(s.blobVersionedHashes[i],32),`invalid blobVersionedHash at index ${i}: must be length 32`,"data",n);return e.length===11||mu(s,e.slice(11)),s}function EA(n,e,t){const r=[re(n.chainId,"chainId"),re(n.nonce,"nonce"),re(n.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),re(n.maxFeePerGas||0,"maxFeePerGas"),re(n.gasLimit,"gasLimit"),n.to||$a,re(n.value,"value"),n.data,gu(n.accessList||[]),re(n.maxFeePerBlobGas||0,"maxFeePerBlobGas"),bA(n.blobVersionedHashes||[],"blobVersionedHashes")];return e&&(r.push(re(e.yParity,"yParity")),r.push(we(e.r)),r.push(we(e.s)),t)?ce(["0x03",or([r,t.map(s=>s.data),t.map(s=>s.commitment),t.map(s=>s.proof)])]):ce(["0x03",or(r)])}function vA(n){const e=Cc(V(n).slice(1));A(Array.isArray(e)&&(e.length===10||e.length===13),"invalid field count for transaction type: 4","data",G(n));const t={type:4,chainId:fe(e[0],"chainId"),nonce:ti(e[1],"nonce"),maxPriorityFeePerGas:fe(e[2],"maxPriorityFeePerGas"),maxFeePerGas:fe(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:fe(e[4],"gasLimit"),to:Ho(e[5]),value:fe(e[6],"value"),data:G(e[7]),accessList:pu(e[8],"accessList"),authorizationList:dA(e[9],"authorizationList")};return e.length===10||mu(t,e.slice(10)),t}function PA(n,e){const t=[re(n.chainId,"chainId"),re(n.nonce,"nonce"),re(n.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),re(n.maxFeePerGas||0,"maxFeePerGas"),re(n.gasLimit,"gasLimit"),n.to||"0x",re(n.value,"value"),n.data,gu(n.accessList||[]),hA(n.authorizationList||[])];return e&&(t.push(re(e.yParity,"yParity")),t.push(we(e.r)),t.push(we(e.s))),ce(["0x04",or(t)])}var Jt,Mi,Di,$i,Gi,zi,Hi,_i,ji,Vi,Ki,Qi,Ps,Pr,hn,Ir,Ji,Wi,o0;const un=class un{constructor(){O(this,Wi);O(this,Jt);O(this,Mi);O(this,Di);O(this,$i);O(this,Gi);O(this,zi);O(this,Hi);O(this,_i);O(this,ji);O(this,Vi);O(this,Ki);O(this,Qi);O(this,Ps);O(this,Pr);O(this,hn);O(this,Ir);O(this,Ji);y(this,Jt,null),y(this,Mi,null),y(this,$i,0),y(this,Gi,Se),y(this,zi,null),y(this,Hi,null),y(this,_i,null),y(this,Di,"0x"),y(this,ji,Se),y(this,Vi,Se),y(this,Ki,null),y(this,Qi,null),y(this,Ps,null),y(this,Pr,null),y(this,hn,null),y(this,Ir,null),y(this,Ji,null)}get type(){return b(this,Jt)}set type(e){switch(e){case null:y(this,Jt,null);break;case 0:case"legacy":y(this,Jt,0);break;case 1:case"berlin":case"eip-2930":y(this,Jt,1);break;case 2:case"london":case"eip-1559":y(this,Jt,2);break;case 3:case"cancun":case"eip-4844":y(this,Jt,3);break;case 4:case"pectra":case"eip-7702":y(this,Jt,4);break;default:A(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844";case 4:return"eip-7702"}return null}get to(){const e=b(this,Mi);return e==null&&this.type===3?$a:e}set to(e){y(this,Mi,e==null?null:se(e))}get nonce(){return b(this,$i)}set nonce(e){y(this,$i,Y(e,"value"))}get gasLimit(){return b(this,Gi)}set gasLimit(e){y(this,Gi,K(e))}get gasPrice(){const e=b(this,zi);return e==null&&(this.type===0||this.type===1)?Se:e}set gasPrice(e){y(this,zi,e==null?null:K(e,"gasPrice"))}get maxPriorityFeePerGas(){const e=b(this,Hi);return e??(this.type===2||this.type===3?Se:null)}set maxPriorityFeePerGas(e){y(this,Hi,e==null?null:K(e,"maxPriorityFeePerGas"))}get maxFeePerGas(){const e=b(this,_i);return e??(this.type===2||this.type===3?Se:null)}set maxFeePerGas(e){y(this,_i,e==null?null:K(e,"maxFeePerGas"))}get data(){return b(this,Di)}set data(e){y(this,Di,G(e))}get value(){return b(this,ji)}set value(e){y(this,ji,K(e,"value"))}get chainId(){return b(this,Vi)}set chainId(e){y(this,Vi,K(e))}get signature(){return b(this,Ki)||null}set signature(e){y(this,Ki,e==null?null:ct.from(e))}get accessList(){const e=b(this,Qi)||null;return e??(this.type===1||this.type===2||this.type===3?[]:null)}set accessList(e){y(this,Qi,e==null?null:ei(e))}get authorizationList(){const e=b(this,Ji)||null;return e==null&&this.type===4?[]:e}set authorizationList(e){y(this,Ji,e==null?null:e.map(t=>Tg(t)))}get maxFeePerBlobGas(){const e=b(this,Ps);return e==null&&this.type===3?Se:e}set maxFeePerBlobGas(e){y(this,Ps,e==null?null:K(e,"maxFeePerBlobGas"))}get blobVersionedHashes(){let e=b(this,Pr);return e==null&&this.type===3?[]:e}set blobVersionedHashes(e){if(e!=null){A(Array.isArray(e),"blobVersionedHashes must be an Array","value",e),e=e.slice();for(let t=0;t<e.length;t++)A(de(e[t],32),"invalid blobVersionedHash",`value[${t}]`,e[t])}y(this,Pr,e)}get blobs(){return b(this,Ir)==null?null:b(this,Ir).map(e=>Object.assign({},e))}set blobs(e){if(e==null){y(this,Ir,null);return}const t=[],r=[];for(let s=0;s<e.length;s++){const i=e[s];if(uu(i)){U(b(this,hn),"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let o=V(i);if(A(o.length<=sf,"blob is too large",`blobs[${s}]`,i),o.length!==sf){const u=new Uint8Array(sf);u.set(o),o=u}const a=b(this,hn).blobToKzgCommitment(o),c=G(b(this,hn).computeBlobKzgProof(o,a));t.push({data:G(o),commitment:G(a),proof:c}),r.push(mb(1,a))}else{const o=G(i.commitment);t.push({data:G(i.data),commitment:o,proof:G(i.proof)}),r.push(mb(1,o))}}y(this,Ir,t),y(this,Pr,r)}get kzg(){return b(this,hn)}set kzg(e){e==null?y(this,hn,null):y(this,hn,lA(e))}get hash(){return this.signature==null?null:xe(F(this,Wi,o0).call(this,!0,!1))}get unsignedHash(){return xe(this.unsignedSerialized)}get from(){return this.signature==null?null:iA(this.unsignedHash,this.signature)}get fromPublicKey(){return this.signature==null?null:vn.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return this.signature!=null}get serialized(){return F(this,Wi,o0).call(this,!0,!0)}get unsignedSerialized(){return F(this,Wi,o0).call(this,!1,!1)}inferType(){const e=this.inferTypes();return e.indexOf(2)>=0?2:e.pop()}inferTypes(){const e=this.gasPrice!=null,t=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null,r=this.accessList!=null,s=b(this,Ps)!=null||b(this,Pr);this.maxFeePerGas!=null&&this.maxPriorityFeePerGas!=null&&U(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),U(!t||this.type!==0&&this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),U(this.type!==0||!r,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const i=[];return this.type!=null?i.push(this.type):this.authorizationList&&this.authorizationList.length?i.push(4):t?i.push(2):e?(i.push(1),r||i.push(0)):r?(i.push(1),i.push(2)):(s&&this.to||(i.push(0),i.push(1),i.push(2)),i.push(3)),i.sort(),i}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}clone(){return un.from(this)}toJSON(){const e=t=>t==null?null:t.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(e){if(e==null)return new un;if(typeof e=="string"){const r=V(e);if(r[0]>=127)return un.from(xA(r));switch(r[0]){case 1:return un.from(yA(r));case 2:return un.from(gA(r));case 3:return un.from(AA(r));case 4:return un.from(vA(r))}U(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const t=new un;return e.type!=null&&(t.type=e.type),e.to!=null&&(t.to=e.to),e.nonce!=null&&(t.nonce=e.nonce),e.gasLimit!=null&&(t.gasLimit=e.gasLimit),e.gasPrice!=null&&(t.gasPrice=e.gasPrice),e.maxPriorityFeePerGas!=null&&(t.maxPriorityFeePerGas=e.maxPriorityFeePerGas),e.maxFeePerGas!=null&&(t.maxFeePerGas=e.maxFeePerGas),e.maxFeePerBlobGas!=null&&(t.maxFeePerBlobGas=e.maxFeePerBlobGas),e.data!=null&&(t.data=e.data),e.value!=null&&(t.value=e.value),e.chainId!=null&&(t.chainId=e.chainId),e.signature!=null&&(t.signature=ct.from(e.signature)),e.accessList!=null&&(t.accessList=e.accessList),e.authorizationList!=null&&(t.authorizationList=e.authorizationList),e.blobVersionedHashes!=null&&(t.blobVersionedHashes=e.blobVersionedHashes),e.kzg!=null&&(t.kzg=e.kzg),e.blobs!=null&&(t.blobs=e.blobs),e.hash!=null&&(A(t.isSigned(),"unsigned transaction cannot define '.hash'","tx",e),A(t.hash===e.hash,"hash mismatch","tx",e)),e.from!=null&&(A(t.isSigned(),"unsigned transaction cannot define '.from'","tx",e),A(t.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),t}};Jt=new WeakMap,Mi=new WeakMap,Di=new WeakMap,$i=new WeakMap,Gi=new WeakMap,zi=new WeakMap,Hi=new WeakMap,_i=new WeakMap,ji=new WeakMap,Vi=new WeakMap,Ki=new WeakMap,Qi=new WeakMap,Ps=new WeakMap,Pr=new WeakMap,hn=new WeakMap,Ir=new WeakMap,Ji=new WeakMap,Wi=new WeakSet,o0=function(e,t){U(!e||this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});const r=e?this.signature:null;switch(this.inferType()){case 0:return pA(this,r);case 1:return wA(this,r);case 2:return mA(this,r);case 3:return EA(this,r,t?this.blobs:null);case 4:return PA(this,r)}U(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})};let Ga=un;function IA(n){return A(typeof n.address=="string","invalid address for hashAuthorization","auth.address",n),xe(ce(["0x05",or([n.chainId!=null?we(n.chainId):"0x",se(n.address),n.nonce!=null?we(n.nonce):"0x"])]))}function ar(n){return xe(Xe(n))}var CA="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";const yb=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),wb=4;function NA(n){let e=0;function t(){return n[e++]<<8|n[e++]}let r=t(),s=1,i=[0,1];for(let g=1;g<r;g++)i.push(s+=t());let o=t(),a=e;e+=o;let c=0,u=0;function f(){return c==0&&(u=u<<8|n[e++],c=8),u>>--c&1}const l=31,d=2**l,h=d>>>1,p=h>>1,x=d-1;let m=0;for(let g=0;g<l;g++)m=m<<1|f();let w=[],C=0,v=d;for(;;){let g=Math.floor(((m-C+1)*s-1)/v),E=0,I=r;for(;I-E>1;){let L=E+I>>>1;g<i[L]?I=L:E=L}if(E==0)break;w.push(E);let S=C+Math.floor(v*i[E]/s),k=C+Math.floor(v*i[E+1]/s)-1;for(;!((S^k)&h);)m=m<<1&x|f(),S=S<<1&x,k=k<<1&x|1;for(;S&~k&p;)m=m&h|m<<1&x>>>1|f(),S=S<<1^h,k=(k^h)<<1|h|1;C=S,v=1+k-S}let P=r-4;return w.map(g=>{switch(g-P){case 3:return P+65792+(n[a++]<<16|n[a++]<<8|n[a++]);case 2:return P+256+(n[a++]<<8|n[a++]);case 1:return P+n[a++];default:return g-1}})}function BA(n){let e=0;return()=>n[e++]}function Og(n){return BA(NA(SA(n)))}function SA(n){let e=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((s,i)=>e[s.charCodeAt(0)]=i);let t=n.length,r=new Uint8Array(6*t>>3);for(let s=0,i=0,o=0,a=0;s<t;s++)a=a<<6|e[n.charCodeAt(s)],o+=6,o>=8&&(r[i++]=a>>(o-=8));return r}function TA(n){return n&1?~n>>1:n>>1}function OA(n,e){let t=Array(n);for(let r=0,s=0;r<n;r++)t[r]=s+=TA(e());return t}function za(n,e=0){let t=[];for(;;){let r=n(),s=n();if(!s)break;e+=r;for(let i=0;i<s;i++)t.push(e+i);e+=s+1}return t}function kg(n){return Ha(()=>{let e=za(n);if(e.length)return e})}function Rg(n){let e=[];for(;;){let t=n();if(t==0)break;e.push(kA(t,n))}for(;;){let t=n()-1;if(t<0)break;e.push(RA(t,n))}return e.flat()}function Ha(n){let e=[];for(;;){let t=n(e.length);if(!t)break;e.push(t)}return e}function Ug(n,e,t){let r=Array(n).fill().map(()=>[]);for(let s=0;s<e;s++)OA(n,t).forEach((i,o)=>r[o].push(i));return r}function kA(n,e){let t=1+e(),r=e(),s=Ha(e);return Ug(s.length,1+n,e).flatMap((o,a)=>{let[c,...u]=o;return Array(s[a]).fill().map((f,l)=>{let d=l*r;return[c+l*t,u.map(h=>h+d)]})})}function RA(n,e){let t=1+e();return Ug(t,1+n,e).map(s=>[s[0],s.slice(1)])}function UA(n){let e=[],t=za(n);return s(r([]),[]),e;function r(i){let o=n(),a=Ha(()=>{let c=za(n).map(u=>t[u]);if(c.length)return r(c)});return{S:o,B:a,Q:i}}function s({S:i,B:o},a,c){if(!(i&4&&c===a[a.length-1])){i&2&&(c=a[a.length-1]),i&1&&e.push(a);for(let u of o)for(let f of u.Q)s(u,[...a,f],c)}}}function FA(n){return n.toString(16).toUpperCase().padStart(2,"0")}function Fg(n){return`{${FA(n)}}`}function LA(n){let e=[];for(let t=0,r=n.length;t<r;){let s=n.codePointAt(t);t+=s<65536?1:2,e.push(s)}return e}function Bo(n){let t=n.length;if(t<4096)return String.fromCodePoint(...n);let r=[];for(let s=0;s<t;)r.push(String.fromCodePoint(...n.slice(s,s+=4096)));return r.join("")}function MA(n,e){let t=n.length,r=t-e.length;for(let s=0;r==0&&s<t;s++)r=n[s]-e[s];return r}var DA="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";const _a=44032,B0=4352,S0=4449,T0=4519,Lg=19,Mg=21,So=28,O0=Mg*So,$A=Lg*O0,GA=_a+$A,zA=B0+Lg,HA=S0+Mg,_A=T0+So;function na(n){return n>>24&255}function Dg(n){return n&16777215}let pl,Ab,gl,a0;function jA(){let n=Og(DA);pl=new Map(kg(n).flatMap((e,t)=>e.map(r=>[r,t+1<<24]))),Ab=new Set(za(n)),gl=new Map,a0=new Map;for(let[e,t]of Rg(n)){if(!Ab.has(e)&&t.length==2){let[r,s]=t,i=a0.get(r);i||(i=new Map,a0.set(r,i)),i.set(s,e)}gl.set(e,t.reverse())}}function $g(n){return n>=_a&&n<GA}function VA(n,e){if(n>=B0&&n<zA&&e>=S0&&e<HA)return _a+(n-B0)*O0+(e-S0)*So;if($g(n)&&e>T0&&e<_A&&(n-_a)%So==0)return n+(e-T0);{let t=a0.get(n);return t&&(t=t.get(e),t)?t:-1}}function Gg(n){pl||jA();let e=[],t=[],r=!1;function s(i){let o=pl.get(i);o&&(r=!0,i|=o),e.push(i)}for(let i of n)for(;;){if(i<128)e.push(i);else if($g(i)){let o=i-_a,a=o/O0|0,c=o%O0/So|0,u=o%So;s(B0+a),s(S0+c),u>0&&s(T0+u)}else{let o=gl.get(i);o?t.push(...o):s(i)}if(!t.length)break;i=t.pop()}if(r&&e.length>1){let i=na(e[0]);for(let o=1;o<e.length;o++){let a=na(e[o]);if(a==0||i<=a){i=a;continue}let c=o-1;for(;;){let u=e[c+1];if(e[c+1]=e[c],e[c]=u,!c||(i=na(e[--c]),i<=a))break}i=na(e[o])}}return e}function KA(n){let e=[],t=[],r=-1,s=0;for(let i of n){let o=na(i),a=Dg(i);if(r==-1)o==0?r=a:e.push(a);else if(s>0&&s>=o)o==0?(e.push(r,...t),t.length=0,r=a):t.push(a),s=o;else{let c=VA(r,a);c>=0?r=c:s==0&&o==0?(e.push(r),r=a):(t.push(a),s=o)}}return r>=0&&e.push(r,...t),e}function zg(n){return Gg(n).map(Dg)}function QA(n){return KA(Gg(n))}const Eb=45,Hg=".",_g=65039,jg=1,k0=n=>Array.from(n);function ja(n,e){return n.P.has(e)||n.Q.has(e)}class JA extends Array{get is_emoji(){return!0}}let ml,Vg,ls,yl,Kg,Ii,of,fi,es,vb,wl;function Ud(){if(ml)return;let n=Og(CA);const e=()=>za(n),t=()=>new Set(e()),r=(f,l)=>l.forEach(d=>f.add(d));ml=new Map(Rg(n)),Vg=t(),ls=e(),yl=new Set(e().map(f=>ls[f])),ls=new Set(ls),Kg=t(),t();let s=kg(n),i=n();const o=()=>{let f=new Set;return e().forEach(l=>r(f,s[l])),r(f,e()),f};Ii=Ha(f=>{let l=Ha(n).map(d=>d+96);if(l.length){let d=f>=i;l[0]-=32,l=Bo(l),d&&(l=`Restricted[${l}]`);let h=o(),p=o(),x=!n();return{N:l,P:h,Q:p,M:x,R:d}}}),of=t(),fi=new Map;let a=e().concat(k0(of)).sort((f,l)=>f-l);a.forEach((f,l)=>{let d=n(),h=a[l]=d?a[l-d]:{V:[],M:new Map};h.V.push(f),of.has(f)||fi.set(f,h)});for(let{V:f,M:l}of new Set(fi.values())){let d=[];for(let p of f){let x=Ii.filter(w=>ja(w,p)),m=d.find(({G:w})=>x.some(C=>w.has(C)));m||(m={G:new Set,V:[]},d.push(m)),m.V.push(p),r(m.G,x)}let h=d.flatMap(p=>k0(p.G));for(let{G:p,V:x}of d){let m=new Set(h.filter(w=>!p.has(w)));for(let w of x)l.set(w,m)}}es=new Set;let c=new Set;const u=f=>es.has(f)?c.add(f):es.add(f);for(let f of Ii){for(let l of f.P)u(l);for(let l of f.Q)u(l)}for(let f of es)!fi.has(f)&&!c.has(f)&&fi.set(f,jg);r(es,zg(es)),vb=UA(n).map(f=>JA.from(f)).sort(MA),wl=new Map;for(let f of vb){let l=[wl];for(let d of f){let h=l.map(p=>{let x=p.get(d);return x||(x=new Map,p.set(d,x)),x});d===_g?l.push(...h):l=h}for(let d of l)d.V=f}}function Fd(n){return(Qg(n)?"":`${Ld(yu([n]))} `)+Fg(n)}function Ld(n){return`"${n}"`}function WA(n){if(n.length>=4&&n[2]==Eb&&n[3]==Eb)throw new Error(`invalid label extension: "${Bo(n.slice(0,4))}"`)}function qA(n){for(let t=n.lastIndexOf(95);t>0;)if(n[--t]!==95)throw new Error("underscore allowed only at start")}function ZA(n){let e=n[0],t=yb.get(e);if(t)throw ua(`leading ${t}`);let r=n.length,s=-1;for(let i=1;i<r;i++){e=n[i];let o=yb.get(e);if(o){if(s==i)throw ua(`${t} + ${o}`);s=i+1,t=o}}if(s==r)throw ua(`trailing ${t}`)}function yu(n,e=1/0,t=Fg){let r=[];YA(n[0])&&r.push(""),n.length>e&&(e>>=1,n=[...n.slice(0,e),8230,...n.slice(-e)]);let s=0,i=n.length;for(let o=0;o<i;o++){let a=n[o];Qg(a)&&(r.push(Bo(n.slice(s,o))),r.push(t(a)),s=o+1)}return r.push(Bo(n.slice(s,i))),r.join("")}function YA(n){return Ud(),ls.has(n)}function Qg(n){return Ud(),Kg.has(n)}function XA(n){return r7(e7(n,QA,o7))}function e7(n,e,t){if(!n)return[];Ud();let r=0;return n.split(Hg).map(s=>{let i=LA(s),o={input:i,offset:r};r+=i.length+1;try{let a=o.tokens=i7(i,e,t),c=a.length,u;if(!c)throw new Error("empty label");let f=o.output=a.flat();if(qA(f),!(o.emoji=c>1||a[0].is_emoji)&&f.every(d=>d<128))WA(f),u="ASCII";else{let d=a.flatMap(h=>h.is_emoji?[]:h);if(!d.length)u="Emoji";else{if(ls.has(f[0]))throw ua("leading combining mark");for(let x=1;x<c;x++){let m=a[x];if(!m.is_emoji&&ls.has(m[0]))throw ua(`emoji + combining mark: "${Bo(a[x-1])} + ${yu([m[0]])}"`)}ZA(f);let h=k0(new Set(d)),[p]=n7(h);s7(p,d),t7(p,h),u=p.N}}o.type=u}catch(a){o.error=a}return o})}function t7(n,e){let t,r=[];for(let s of e){let i=fi.get(s);if(i===jg)return;if(i){let o=i.M.get(s);if(t=t?t.filter(a=>o.has(a)):k0(o),!t.length)return}else r.push(s)}if(t){for(let s of t)if(r.every(i=>ja(s,i)))throw new Error(`whole-script confusable: ${n.N}/${s.N}`)}}function n7(n){let e=Ii;for(let t of n){let r=e.filter(s=>ja(s,t));if(!r.length)throw Ii.some(s=>ja(s,t))?Wg(e[0],t):Jg(t);if(e=r,r.length==1)break}return e}function r7(n){return n.map(({input:e,error:t,output:r})=>{if(t){let s=t.message;throw new Error(n.length==1?s:`Invalid label ${Ld(yu(e,63))}: ${s}`)}return Bo(r)}).join(Hg)}function Jg(n){return new Error(`disallowed character: ${Fd(n)}`)}function Wg(n,e){let t=Fd(e),r=Ii.find(s=>s.P.has(e));return r&&(t=`${r.N} ${t}`),new Error(`illegal mixture: ${n.N} + ${t}`)}function ua(n){return new Error(`illegal placement: ${n}`)}function s7(n,e){for(let t of e)if(!ja(n,t))throw Wg(n,t);if(n.M){let t=zg(e);for(let r=1,s=t.length;r<s;r++)if(yl.has(t[r])){let i=r+1;for(let o;i<s&&yl.has(o=t[i]);i++)for(let a=r;a<i;a++)if(t[a]==o)throw new Error(`duplicate non-spacing marks: ${Fd(o)}`);if(i-r>wb)throw new Error(`excessive non-spacing marks: ${Ld(yu(t.slice(r-1,i)))} (${i-r}/${wb})`);r=i}}}function i7(n,e,t){let r=[],s=[];for(n=n.slice().reverse();n.length;){let i=a7(n);if(i)s.length&&(r.push(e(s)),s=[]),r.push(t(i));else{let o=n.pop();if(es.has(o))s.push(o);else{let a=ml.get(o);if(a)s.push(...a);else if(!Vg.has(o))throw Jg(o)}}}return s.length&&r.push(e(s)),r}function o7(n){return n.filter(e=>e!=_g)}function a7(n,e){let t=wl,r,s=n.length;for(;s&&(t=t.get(n[--s]),!!t);){let{V:i}=t;i&&(r=i,n.length=s)}return r}const qg=new Uint8Array(32);qg.fill(0);function Pb(n){return A(n.length!==0,"invalid ENS name; empty component","comp",n),n}function Zg(n){const e=Xe(c7(n)),t=[];if(n.length===0)return t;let r=0;for(let s=0;s<e.length;s++)e[s]===46&&(t.push(Pb(e.slice(r,s))),r=s+1);return A(r<e.length,"invalid ENS name; empty component","name",n),t.push(Pb(e.slice(r))),t}function c7(n){try{if(n.length===0)throw new Error("empty label");return XA(n)}catch(e){A(!1,`invalid ENS name (${e.message})`,"name",n)}}function Al(n){A(typeof n=="string","invalid ENS name; not a string","name",n),A(n.length,"invalid ENS name (empty label)","name",n);let e=qg;const t=Zg(n);for(;t.length;)e=xe(ce([e,xe(t.pop())]));return G(e)}function u7(n,e){const t=e;return A(t<=255,"DNS encoded label cannot exceed 255","length",t),G(ce(Zg(n).map(r=>{A(r.length<=t,`label ${JSON.stringify(n)} exceeds ${t} bytes`,"name",n);const s=new Uint8Array(r.length+1);return s.set(r,1),s[0]=s.length-1,s})))+"00"}function f7(n){return typeof n=="string"&&(n=Xe(n)),xe(ce([Xe($9),Xe(String(n.length)),n]))}const Yg=new Uint8Array(32);Yg.fill(0);const l7=BigInt(-1),Xg=BigInt(0),em=BigInt(1),d7=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function h7(n){const e=V(n),t=e.length%32;return t?ce([e,Yg.slice(t)]):G(e)}const b7=sr(em,32),x7=sr(Xg,32),Ib={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},af=["name","version","chainId","verifyingContract","salt"];function Cb(n){return function(e){return A(typeof e=="string",`invalid domain value for ${JSON.stringify(n)}`,`domain.${n}`,e),e}}const p7={name:Cb("name"),version:Cb("version"),chainId:function(n){const e=K(n,"domain.chainId");return A(e>=0,"invalid chain ID","domain.chainId",n),Number.isSafeInteger(e)?Number(e):Zt(e)},verifyingContract:function(n){try{return se(n).toLowerCase()}catch{}A(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",n)},salt:function(n){const e=V(n,"domain.salt");return A(e.length===32,'invalid domain value "salt"',"domain.salt",n),G(e)}};function cf(n){{const e=n.match(/^(u?)int(\d+)$/);if(e){const t=e[1]==="",r=parseInt(e[2]);A(r%8===0&&r!==0&&r<=256&&e[2]===String(r),"invalid numeric width","type",n);const s=us(d7,t?r-1:r),i=t?(s+em)*l7:Xg;return function(o){const a=K(o,"value");return A(a>=i&&a<=s,`value out-of-bounds for ${n}`,"value",a),sr(t?mp(a,256):a,32)}}}{const e=n.match(/^bytes(\d+)$/);if(e){const t=parseInt(e[1]);return A(t!==0&&t<=32&&e[1]===String(t),"invalid bytes width","type",n),function(r){const s=V(r);return A(s.length===t,`invalid length for ${n}`,"value",r),h7(r)}}}switch(n){case"address":return function(e){return rr(se(e),32)};case"bool":return function(e){return e?b7:x7};case"bytes":return function(e){return xe(e)};case"string":return function(e){return ar(e)}}return null}function Nb(n,e){return`${n}(${e.map(({name:t,type:r})=>r+" "+t).join(",")})`}function qc(n){const e=n.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return e?{base:e[1],index:e[2]+e[4],array:{base:e[1],prefix:e[1]+e[2],count:e[5]?parseInt(e[5]):-1}}:{base:n}}var ec,jn,qi,G0,tm;const Tt=class Tt{constructor(e){O(this,G0);N(this,"primaryType");O(this,ec);O(this,jn);O(this,qi);y(this,jn,new Map),y(this,qi,new Map);const t=new Map,r=new Map,s=new Map,i={};Object.keys(e).forEach(c=>{i[c]=e[c].map(({name:u,type:f})=>{let{base:l,index:d}=qc(f);return l==="int"&&!e.int&&(l="int256"),l==="uint"&&!e.uint&&(l="uint256"),{name:u,type:l+(d||"")}}),t.set(c,new Set),r.set(c,[]),s.set(c,new Set)}),y(this,ec,JSON.stringify(i));for(const c in i){const u=new Set;for(const f of i[c]){A(!u.has(f.name),`duplicate variable name ${JSON.stringify(f.name)} in ${JSON.stringify(c)}`,"types",e),u.add(f.name);const l=qc(f.type).base;A(l!==c,`circular type reference to ${JSON.stringify(l)}`,"types",e),!cf(l)&&(A(r.has(l),`unknown type ${JSON.stringify(l)}`,"types",e),r.get(l).push(c),t.get(c).add(l))}}const o=Array.from(r.keys()).filter(c=>r.get(c).length===0);A(o.length!==0,"missing primary type","types",e),A(o.length===1,`ambiguous primary types or unused types: ${o.map(c=>JSON.stringify(c)).join(", ")}`,"types",e),q(this,{primaryType:o[0]});function a(c,u){A(!u.has(c),`circular type reference to ${JSON.stringify(c)}`,"types",e),u.add(c);for(const f of t.get(c))if(r.has(f)){a(f,u);for(const l of u)s.get(l).add(f)}u.delete(c)}a(this.primaryType,new Set);for(const[c,u]of s){const f=Array.from(u);f.sort(),b(this,jn).set(c,Nb(c,i[c])+f.map(l=>Nb(l,i[l])).join(""))}}get types(){return JSON.parse(b(this,ec))}getEncoder(e){let t=b(this,qi).get(e);return t||(t=F(this,G0,tm).call(this,e),b(this,qi).set(e,t)),t}encodeType(e){const t=b(this,jn).get(e);return A(t,`unknown type: ${JSON.stringify(e)}`,"name",e),t}encodeData(e,t){return this.getEncoder(e)(t)}hashStruct(e,t){return xe(this.encodeData(e,t))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,t,r){if(cf(e))return r(e,t);const s=qc(e).array;if(s)return A(s.count===-1||s.count===t.length,`array length mismatch; expected length ${s.count}`,"value",t),t.map(o=>this._visit(s.prefix,o,r));const i=this.types[e];if(i)return i.reduce((o,{name:a,type:c})=>(o[a]=this._visit(c,t[a],r),o),{});A(!1,`unknown type: ${e}`,"type",e)}visit(e,t){return this._visit(this.primaryType,e,t)}static from(e){return new Tt(e)}static getPrimaryType(e){return Tt.from(e).primaryType}static hashStruct(e,t,r){return Tt.from(t).hashStruct(e,r)}static hashDomain(e){const t=[];for(const r in e){if(e[r]==null)continue;const s=Ib[r];A(s,`invalid typed-data domain key: ${JSON.stringify(r)}`,"domain",e),t.push({name:r,type:s})}return t.sort((r,s)=>af.indexOf(r.name)-af.indexOf(s.name)),Tt.hashStruct("EIP712Domain",{EIP712Domain:t},e)}static encode(e,t,r){return ce(["0x1901",Tt.hashDomain(e),Tt.from(t).hash(r)])}static hash(e,t,r){return xe(Tt.encode(e,t,r))}static async resolveNames(e,t,r,s){e=Object.assign({},e);for(const a in e)e[a]==null&&delete e[a];const i={};e.verifyingContract&&!de(e.verifyingContract,20)&&(i[e.verifyingContract]="0x");const o=Tt.from(t);o.visit(r,(a,c)=>(a==="address"&&!de(c,20)&&(i[c]="0x"),c));for(const a in i)i[a]=await s(a);return e.verifyingContract&&i[e.verifyingContract]&&(e.verifyingContract=i[e.verifyingContract]),r=o.visit(r,(a,c)=>a==="address"&&i[c]?i[c]:c),{domain:e,value:r}}static getPayload(e,t,r){Tt.hashDomain(e);const s={},i=[];af.forEach(c=>{const u=e[c];u!=null&&(s[c]=p7[c](u),i.push({name:c,type:Ib[c]}))});const o=Tt.from(t);t=o.types;const a=Object.assign({},t);return A(a.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",t),a.EIP712Domain=i,o.encode(r),{types:a,domain:s,primaryType:o.primaryType,message:o.visit(r,(c,u)=>{if(c.match(/^bytes(\d*)/))return G(V(u));if(c.match(/^u?int/))return K(u).toString();switch(c){case"address":return u.toLowerCase();case"bool":return!!u;case"string":return A(typeof u=="string","invalid string","value",u),u}A(!1,"unsupported type","type",c)})}}};ec=new WeakMap,jn=new WeakMap,qi=new WeakMap,G0=new WeakSet,tm=function(e){{const s=cf(e);if(s)return s}const t=qc(e).array;if(t){const s=t.prefix,i=this.getEncoder(s);return o=>{A(t.count===-1||t.count===o.length,`array length mismatch; expected length ${t.count}`,"value",o);let a=o.map(i);return b(this,jn).has(s)&&(a=a.map(xe)),xe(ce(a))}}const r=this.types[e];if(r){const s=ar(b(this,jn).get(e));return i=>{const o=r.map(({name:a,type:c})=>{const u=this.getEncoder(c)(i[a]);return b(this,jn).has(c)?xe(u):u});return o.unshift(s),ce(o)}}A(!1,`unknown type: ${e}`,"type",e)};let To=Tt;function Ze(n){const e=new Set;return n.forEach(t=>e.add(t)),Object.freeze(e)}const g7="external public payable override",m7=Ze(g7.split(" ")),nm="constant external internal payable private public pure view override",y7=Ze(nm.split(" ")),rm="constructor error event fallback function receive struct",sm=Ze(rm.split(" ")),im="calldata memory storage payable indexed",w7=Ze(im.split(" ")),A7="tuple returns",E7=[rm,im,A7,nm].join(" "),v7=Ze(E7.split(" ")),P7={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},I7=new RegExp("^(\\s*)"),C7=new RegExp("^([0-9]+)"),N7=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),om=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),am=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");var Fe,Wt,tc,El;const z0=class z0{constructor(e){O(this,tc);O(this,Fe);O(this,Wt);y(this,Fe,0),y(this,Wt,e.slice())}get offset(){return b(this,Fe)}get length(){return b(this,Wt).length-b(this,Fe)}clone(){return new z0(b(this,Wt))}reset(){y(this,Fe,0)}popKeyword(e){const t=this.peek();if(t.type!=="KEYWORD"||!e.has(t.text))throw new Error(`expected keyword ${t.text}`);return this.pop().text}popType(e){if(this.peek().type!==e){const t=this.peek();throw new Error(`expected ${e}; got ${t.type} ${JSON.stringify(t.text)}`)}return this.pop().text}popParen(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const t=F(this,tc,El).call(this,b(this,Fe)+1,e.match+1);return y(this,Fe,e.match+1),t}popParams(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const t=[];for(;b(this,Fe)<e.match-1;){const r=this.peek().linkNext;t.push(F(this,tc,El).call(this,b(this,Fe)+1,r)),y(this,Fe,r)}return y(this,Fe,e.match+1),t}peek(){if(b(this,Fe)>=b(this,Wt).length)throw new Error("out-of-bounds");return b(this,Wt)[b(this,Fe)]}peekKeyword(e){const t=this.peekType("KEYWORD");return t!=null&&e.has(t)?t:null}peekType(e){if(this.length===0)return null;const t=this.peek();return t.type===e?t.text:null}pop(){const e=this.peek();return _o(this,Fe)._++,e}toString(){const e=[];for(let t=b(this,Fe);t<b(this,Wt).length;t++){const r=b(this,Wt)[t];e.push(`${r.type}:${r.text}`)}return`<TokenString ${e.join(" ")}>`}};Fe=new WeakMap,Wt=new WeakMap,tc=new WeakSet,El=function(e=0,t=0){return new z0(b(this,Wt).slice(e,t).map(r=>Object.freeze(Object.assign({},r,{match:r.match-e,linkBack:r.linkBack-e,linkNext:r.linkNext-e}))))};let nn=z0;function Wr(n){const e=[],t=o=>{const a=i<n.length?JSON.stringify(n[i]):"$EOI";throw new Error(`invalid token ${a} at ${i}: ${o}`)};let r=[],s=[],i=0;for(;i<n.length;){let o=n.substring(i),a=o.match(I7);a&&(i+=a[1].length,o=n.substring(i));const c={depth:r.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:i,value:-1};e.push(c);let u=P7[o[0]]||"";if(u){if(c.type=u,c.text=o[0],i++,u==="OPEN_PAREN")r.push(e.length-1),s.push(e.length-1);else if(u=="CLOSE_PAREN")r.length===0&&t("no matching open bracket"),c.match=r.pop(),e[c.match].match=e.length-1,c.depth--,c.linkBack=s.pop(),e[c.linkBack].linkNext=e.length-1;else if(u==="COMMA")c.linkBack=s.pop(),e[c.linkBack].linkNext=e.length-1,s.push(e.length-1);else if(u==="OPEN_BRACKET")c.type="BRACKET";else if(u==="CLOSE_BRACKET"){let f=e.pop().text;if(e.length>0&&e[e.length-1].type==="NUMBER"){const l=e.pop().text;f=l+f,e[e.length-1].value=Y(l)}if(e.length===0||e[e.length-1].type!=="BRACKET")throw new Error("missing opening bracket");e[e.length-1].text+=f}continue}if(a=o.match(N7),a){if(c.text=a[1],i+=c.text.length,v7.has(c.text)){c.type="KEYWORD";continue}if(c.text.match(am)){c.type="TYPE";continue}c.type="ID";continue}if(a=o.match(C7),a){c.text=a[1],c.type="NUMBER",i+=c.text.length;continue}throw new Error(`unexpected token ${JSON.stringify(o[0])} at position ${i}`)}return new nn(e.map(o=>Object.freeze(o)))}function Bb(n,e){let t=[];for(const r in e.keys())n.has(r)&&t.push(r);if(t.length>1)throw new Error(`conflicting types: ${t.join(", ")}`)}function wu(n,e){if(e.peekKeyword(sm)){const t=e.pop().text;if(t!==n)throw new Error(`expected ${n}, got ${t}`)}return e.popType("ID")}function cr(n,e){const t=new Set;for(;;){const r=n.peekType("KEYWORD");if(r==null||e&&!e.has(r))break;if(n.pop(),t.has(r))throw new Error(`duplicate keywords: ${JSON.stringify(r)}`);t.add(r)}return Object.freeze(t)}function cm(n){let e=cr(n,y7);return Bb(e,Ze("constant payable nonpayable".split(" "))),Bb(e,Ze("pure view payable nonpayable".split(" "))),e.has("view")?"view":e.has("pure")?"pure":e.has("payable")?"payable":e.has("nonpayable")?"nonpayable":e.has("constant")?"view":"nonpayable"}function nr(n,e){return n.popParams().map(t=>$e.from(t,e))}function um(n){if(n.peekType("AT")){if(n.pop(),n.peekType("NUMBER"))return K(n.pop().text);throw new Error("invalid gas")}return null}function Js(n){if(n.length)throw new Error(`unexpected tokens at offset ${n.offset}: ${n.toString()}`)}const B7=new RegExp(/^(.*)\[([0-9]*)\]$/);function Sb(n){const e=n.match(am);if(A(e,"invalid type","type",n),n==="uint")return"uint256";if(n==="int")return"int256";if(e[2]){const t=parseInt(e[2]);A(t!==0&&t<=32,"invalid bytes length","type",n)}else if(e[3]){const t=parseInt(e[3]);A(t!==0&&t<=256&&t%8===0,"invalid numeric width","type",n)}return n}const ge={},ft=Symbol.for("_ethers_internal"),Tb="_ParamTypeInternal",Ob="_ErrorInternal",kb="_EventInternal",Rb="_ConstructorInternal",Ub="_FallbackInternal",Fb="_FunctionInternal",Lb="_StructInternal";var Zi,c0;const Ot=class Ot{constructor(e,t,r,s,i,o,a,c){O(this,Zi);N(this,"name");N(this,"type");N(this,"baseType");N(this,"indexed");N(this,"components");N(this,"arrayLength");N(this,"arrayChildren");if(Qr(e,ge,"ParamType"),Object.defineProperty(this,ft,{value:Tb}),o&&(o=Object.freeze(o.slice())),s==="array"){if(a==null||c==null)throw new Error("")}else if(a!=null||c!=null)throw new Error("");if(s==="tuple"){if(o==null)throw new Error("")}else if(o!=null)throw new Error("");q(this,{name:t,type:r,baseType:s,indexed:i,components:o,arrayLength:a,arrayChildren:c})}format(e){if(e==null&&(e="sighash"),e==="json"){const r=this.name||"";if(this.isArray()){const i=JSON.parse(this.arrayChildren.format("json"));return i.name=r,i.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(i)}const s={type:this.baseType==="tuple"?"tuple":this.type,name:r};return typeof this.indexed=="boolean"&&(s.indexed=this.indexed),this.isTuple()&&(s.components=this.components.map(i=>JSON.parse(i.format(e)))),JSON.stringify(s)}let t="";return this.isArray()?(t+=this.arrayChildren.format(e),t+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?t+="("+this.components.map(r=>r.format(e)).join(e==="full"?", ":",")+")":t+=this.type,e!=="sighash"&&(this.indexed===!0&&(t+=" indexed"),e==="full"&&this.name&&(t+=" "+this.name)),t}isArray(){return this.baseType==="array"}isTuple(){return this.baseType==="tuple"}isIndexable(){return this.indexed!=null}walk(e,t){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(this.arrayLength!==-1&&e.length!==this.arrayLength)throw new Error("array is wrong length");const r=this;return e.map(s=>r.arrayChildren.walk(s,t))}if(this.isTuple()){if(!Array.isArray(e))throw new Error("invalid tuple value");if(e.length!==this.components.length)throw new Error("array is wrong length");const r=this;return e.map((s,i)=>r.components[i].walk(s,t))}return t(this.type,e)}async walkAsync(e,t){const r=[],s=[e];return F(this,Zi,c0).call(this,r,e,t,i=>{s[0]=i}),r.length&&await Promise.all(r),s[0]}static from(e,t){if(Ot.isParamType(e))return e;if(typeof e=="string")try{return Ot.from(Wr(e),t)}catch{A(!1,"invalid param type","obj",e)}else if(e instanceof nn){let a="",c="",u=null;cr(e,Ze(["tuple"])).has("tuple")||e.peekType("OPEN_PAREN")?(c="tuple",u=e.popParams().map(x=>Ot.from(x)),a=`tuple(${u.map(x=>x.format()).join(",")})`):(a=Sb(e.popType("TYPE")),c=a);let f=null,l=null;for(;e.length&&e.peekType("BRACKET");){const x=e.pop();f=new Ot(ge,"",a,c,null,u,l,f),l=x.value,a+=x.text,c="array",u=null}let d=null;if(cr(e,w7).has("indexed")){if(!t)throw new Error("");d=!0}const p=e.peekType("ID")?e.pop().text:"";if(e.length)throw new Error("leftover tokens");return new Ot(ge,p,a,c,d,u,l,f)}const r=e.name;A(!r||typeof r=="string"&&r.match(om),"invalid name","obj.name",r);let s=e.indexed;s!=null&&(A(t,"parameter cannot be indexed","obj.indexed",e.indexed),s=!!s);let i=e.type,o=i.match(B7);if(o){const a=parseInt(o[2]||"-1"),c=Ot.from({type:o[1],components:e.components});return new Ot(ge,r||"",i,"array",s,null,a,c)}if(i==="tuple"||i.startsWith("tuple(")||i.startsWith("(")){const a=e.components!=null?e.components.map(u=>Ot.from(u)):null;return new Ot(ge,r||"",i,"tuple",s,a,null,null)}return i=Sb(e.type),new Ot(ge,r||"",i,i,s,null,null,null)}static isParamType(e){return e&&e[ft]===Tb}};Zi=new WeakSet,c0=function(e,t,r,s){if(this.isArray()){if(!Array.isArray(t))throw new Error("invalid array value");if(this.arrayLength!==-1&&t.length!==this.arrayLength)throw new Error("array is wrong length");const o=this.arrayChildren,a=t.slice();a.forEach((c,u)=>{var f;F(f=o,Zi,c0).call(f,e,c,r,l=>{a[u]=l})}),s(a);return}if(this.isTuple()){const o=this.components;let a;if(Array.isArray(t))a=t.slice();else{if(t==null||typeof t!="object")throw new Error("invalid tuple value");a=o.map(c=>{if(!c.name)throw new Error("cannot use object value with unnamed components");if(!(c.name in t))throw new Error(`missing value for component ${c.name}`);return t[c.name]})}if(a.length!==this.components.length)throw new Error("array is wrong length");a.forEach((c,u)=>{var f;F(f=o[u],Zi,c0).call(f,e,c,r,l=>{a[u]=l})}),s(a);return}const i=r(this.type,t);i.then?e.push(async function(){s(await i)}()):s(i)};let $e=Ot;class Ws{constructor(e,t,r){N(this,"type");N(this,"inputs");Qr(e,ge,"Fragment"),r=Object.freeze(r.slice()),q(this,{type:t,inputs:r})}static from(e){if(typeof e=="string"){try{Ws.from(JSON.parse(e))}catch{}return Ws.from(Wr(e))}if(e instanceof nn)switch(e.peekKeyword(sm)){case"constructor":return Xn.from(e);case"error":return st.from(e);case"event":return wn.from(e);case"fallback":case"receive":return $n.from(e);case"function":return An.from(e);case"struct":return $s.from(e)}else if(typeof e=="object"){switch(e.type){case"constructor":return Xn.from(e);case"error":return st.from(e);case"event":return wn.from(e);case"fallback":case"receive":return $n.from(e);case"function":return An.from(e);case"struct":return $s.from(e)}U(!1,`unsupported type: ${e.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}A(!1,"unsupported frgament object","obj",e)}static isConstructor(e){return Xn.isFragment(e)}static isError(e){return st.isFragment(e)}static isEvent(e){return wn.isFragment(e)}static isFunction(e){return An.isFragment(e)}static isStruct(e){return $s.isFragment(e)}}class Au extends Ws{constructor(t,r,s,i){super(t,r,i);N(this,"name");A(typeof s=="string"&&s.match(om),"invalid identifier","name",s),i=Object.freeze(i.slice()),q(this,{name:s})}}function Va(n,e){return"("+e.map(t=>t.format(n)).join(n==="full"?", ":",")+")"}class st extends Au{constructor(e,t,r){super(e,"error",t,r),Object.defineProperty(this,ft,{value:Ob})}get selector(){return ar(this.format("sighash")).substring(0,10)}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(r=>JSON.parse(r.format(e)))});const t=[];return e!=="sighash"&&t.push("error"),t.push(this.name+Va(e,this.inputs)),t.join(" ")}static from(e){if(st.isFragment(e))return e;if(typeof e=="string")return st.from(Wr(e));if(e instanceof nn){const t=wu("error",e),r=nr(e);return Js(e),new st(ge,t,r)}return new st(ge,e.name,e.inputs?e.inputs.map($e.from):[])}static isFragment(e){return e&&e[ft]===Ob}}class wn extends Au{constructor(t,r,s,i){super(t,"event",r,s);N(this,"anonymous");Object.defineProperty(this,ft,{value:kb}),q(this,{anonymous:i})}get topicHash(){return ar(this.format("sighash"))}format(t){if(t==null&&(t="sighash"),t==="json")return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(s=>JSON.parse(s.format(t)))});const r=[];return t!=="sighash"&&r.push("event"),r.push(this.name+Va(t,this.inputs)),t!=="sighash"&&this.anonymous&&r.push("anonymous"),r.join(" ")}static getTopicHash(t,r){return r=(r||[]).map(i=>$e.from(i)),new wn(ge,t,r,!1).topicHash}static from(t){if(wn.isFragment(t))return t;if(typeof t=="string")try{return wn.from(Wr(t))}catch{A(!1,"invalid event fragment","obj",t)}else if(t instanceof nn){const r=wu("event",t),s=nr(t,!0),i=!!cr(t,Ze(["anonymous"])).has("anonymous");return Js(t),new wn(ge,r,s,i)}return new wn(ge,t.name,t.inputs?t.inputs.map(r=>$e.from(r,!0)):[],!!t.anonymous)}static isFragment(t){return t&&t[ft]===kb}}class Xn extends Ws{constructor(t,r,s,i,o){super(t,r,s);N(this,"payable");N(this,"gas");Object.defineProperty(this,ft,{value:Rb}),q(this,{payable:i,gas:o})}format(t){if(U(t!=null&&t!=="sighash","cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),t==="json")return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(s=>JSON.parse(s.format(t)))});const r=[`constructor${Va(t,this.inputs)}`];return this.payable&&r.push("payable"),this.gas!=null&&r.push(`@${this.gas.toString()}`),r.join(" ")}static from(t){if(Xn.isFragment(t))return t;if(typeof t=="string")try{return Xn.from(Wr(t))}catch{A(!1,"invalid constuctor fragment","obj",t)}else if(t instanceof nn){cr(t,Ze(["constructor"]));const r=nr(t),s=!!cr(t,m7).has("payable"),i=um(t);return Js(t),new Xn(ge,"constructor",r,s,i)}return new Xn(ge,"constructor",t.inputs?t.inputs.map($e.from):[],!!t.payable,t.gas!=null?t.gas:null)}static isFragment(t){return t&&t[ft]===Rb}}class $n extends Ws{constructor(t,r,s){super(t,"fallback",r);N(this,"payable");Object.defineProperty(this,ft,{value:Ub}),q(this,{payable:s})}format(t){const r=this.inputs.length===0?"receive":"fallback";if(t==="json"){const s=this.payable?"payable":"nonpayable";return JSON.stringify({type:r,stateMutability:s})}return`${r}()${this.payable?" payable":""}`}static from(t){if($n.isFragment(t))return t;if(typeof t=="string")try{return $n.from(Wr(t))}catch{A(!1,"invalid fallback fragment","obj",t)}else if(t instanceof nn){const r=t.toString(),s=t.peekKeyword(Ze(["fallback","receive"]));if(A(s,"type must be fallback or receive","obj",r),t.popKeyword(Ze(["fallback","receive"]))==="receive"){const c=nr(t);return A(c.length===0,"receive cannot have arguments","obj.inputs",c),cr(t,Ze(["payable"])),Js(t),new $n(ge,[],!0)}let o=nr(t);o.length?A(o.length===1&&o[0].type==="bytes","invalid fallback inputs","obj.inputs",o.map(c=>c.format("minimal")).join(", ")):o=[$e.from("bytes")];const a=cm(t);if(A(a==="nonpayable"||a==="payable","fallback cannot be constants","obj.stateMutability",a),cr(t,Ze(["returns"])).has("returns")){const c=nr(t);A(c.length===1&&c[0].type==="bytes","invalid fallback outputs","obj.outputs",c.map(u=>u.format("minimal")).join(", "))}return Js(t),new $n(ge,o,a==="payable")}if(t.type==="receive")return new $n(ge,[],!0);if(t.type==="fallback"){const r=[$e.from("bytes")],s=t.stateMutability==="payable";return new $n(ge,r,s)}A(!1,"invalid fallback description","obj",t)}static isFragment(t){return t&&t[ft]===Ub}}class An extends Au{constructor(t,r,s,i,o,a){super(t,"function",r,i);N(this,"constant");N(this,"outputs");N(this,"stateMutability");N(this,"payable");N(this,"gas");Object.defineProperty(this,ft,{value:Fb}),o=Object.freeze(o.slice()),q(this,{constant:s==="view"||s==="pure",gas:a,outputs:o,payable:s==="payable",stateMutability:s})}get selector(){return ar(this.format("sighash")).substring(0,10)}format(t){if(t==null&&(t="sighash"),t==="json")return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(s=>JSON.parse(s.format(t))),outputs:this.outputs.map(s=>JSON.parse(s.format(t)))});const r=[];return t!=="sighash"&&r.push("function"),r.push(this.name+Va(t,this.inputs)),t!=="sighash"&&(this.stateMutability!=="nonpayable"&&r.push(this.stateMutability),this.outputs&&this.outputs.length&&(r.push("returns"),r.push(Va(t,this.outputs))),this.gas!=null&&r.push(`@${this.gas.toString()}`)),r.join(" ")}static getSelector(t,r){return r=(r||[]).map(i=>$e.from(i)),new An(ge,t,"view",r,[],null).selector}static from(t){if(An.isFragment(t))return t;if(typeof t=="string")try{return An.from(Wr(t))}catch{A(!1,"invalid function fragment","obj",t)}else if(t instanceof nn){const s=wu("function",t),i=nr(t),o=cm(t);let a=[];cr(t,Ze(["returns"])).has("returns")&&(a=nr(t));const c=um(t);return Js(t),new An(ge,s,o,i,a,c)}let r=t.stateMutability;return r==null&&(r="payable",typeof t.constant=="boolean"?(r="view",t.constant||(r="payable",typeof t.payable=="boolean"&&!t.payable&&(r="nonpayable"))):typeof t.payable=="boolean"&&!t.payable&&(r="nonpayable")),new An(ge,t.name,r,t.inputs?t.inputs.map($e.from):[],t.outputs?t.outputs.map($e.from):[],t.gas!=null?t.gas:null)}static isFragment(t){return t&&t[ft]===Fb}}class $s extends Au{constructor(e,t,r){super(e,"struct",t,r),Object.defineProperty(this,ft,{value:Lb})}format(){throw new Error("@TODO")}static from(e){if(typeof e=="string")try{return $s.from(Wr(e))}catch{A(!1,"invalid struct fragment","obj",e)}else if(e instanceof nn){const t=wu("struct",e),r=nr(e);return Js(e),new $s(ge,t,r)}return new $s(ge,e.name,e.inputs?e.inputs.map($e.from):[])}static isFragment(e){return e&&e[ft]===Lb}}const sn=new Map;sn.set(0,"GENERIC_PANIC");sn.set(1,"ASSERT_FALSE");sn.set(17,"OVERFLOW");sn.set(18,"DIVIDE_BY_ZERO");sn.set(33,"ENUM_RANGE_ERROR");sn.set(34,"BAD_STORAGE_DATA");sn.set(49,"STACK_UNDERFLOW");sn.set(50,"ARRAY_RANGE_ERROR");sn.set(65,"OUT_OF_MEMORY");sn.set(81,"UNINITIALIZED_FUNCTION_CALL");const S7=new RegExp(/^bytes([0-9]*)$/),T7=new RegExp(/^(u?int)([0-9]*)$/);let uf=null,Mb=1024;function O7(n,e,t,r){let s="missing revert data",i=null;const o=null;let a=null;if(t){s="execution reverted";const u=V(t);if(t=G(t),u.length===0)s+=" (no data present; likely require(false) occurred",i="require(false)";else if(u.length%32!==4)s+=" (could not decode reason; invalid data length)";else if(G(u.slice(0,4))==="0x08c379a0")try{i=r.decode(["string"],u.slice(4))[0],a={signature:"Error(string)",name:"Error",args:[i]},s+=`: ${JSON.stringify(i)}`}catch{s+=" (could not decode reason; invalid string data)"}else if(G(u.slice(0,4))==="0x4e487b71")try{const f=Number(r.decode(["uint256"],u.slice(4))[0]);a={signature:"Panic(uint256)",name:"Panic",args:[f]},i=`Panic due to ${sn.get(f)||"UNKNOWN"}(${f})`,s+=`: ${i}`}catch{s+=" (could not decode panic code)"}else s+=" (unknown custom error)"}const c={to:e.to?se(e.to):null,data:e.data||"0x"};return e.from&&(c.from=se(e.from)),pe(s,"CALL_EXCEPTION",{action:n,data:t,reason:i,transaction:c,invocation:o,revert:a})}var Cr,li;const H0=class H0{constructor(){O(this,Cr)}getDefaultValue(e){const t=e.map(s=>F(this,Cr,li).call(this,$e.from(s)));return new Wc(t,"_").defaultValue()}encode(e,t){bp(t.length,e.length,"types/values length mismatch");const r=e.map(o=>F(this,Cr,li).call(this,$e.from(o))),s=new Wc(r,"_"),i=new cl;return s.encode(i,t),i.data}decode(e,t,r){const s=e.map(o=>F(this,Cr,li).call(this,$e.from(o)));return new Wc(s,"_").decode(new ul(t,r,Mb))}static _setDefaultMaxInflation(e){A(typeof e=="number"&&Number.isInteger(e),"invalid defaultMaxInflation factor","value",e),Mb=e}static defaultAbiCoder(){return uf==null&&(uf=new H0),uf}static getBuiltinCallException(e,t,r){return O7(e,t,r,H0.defaultAbiCoder())}};Cr=new WeakSet,li=function(e){if(e.isArray())return new J9(F(this,Cr,li).call(this,e.arrayChildren),e.arrayLength,e.name);if(e.isTuple())return new Wc(e.components.map(r=>F(this,Cr,li).call(this,r)),e.name);switch(e.baseType){case"address":return new K9(e.name);case"bool":return new W9(e.name);case"string":return new sA(e.name);case"bytes":return new q9(e.name);case"":return new X9(e.name)}let t=e.type.match(T7);if(t){let r=parseInt(t[2]||"256");return A(r!==0&&r<=256&&r%8===0,"invalid "+t[1]+" bit length","param",e),new rA(r/8,t[1]==="int",e.name)}if(t=e.type.match(S7),t){let r=parseInt(t[1]);return A(r!==0&&r<=32,"invalid bytes length","param",e),new Z9(r,e.name)}A(!1,"invalid type","type",e.type)};let Ka=H0;class k7{constructor(e,t,r){N(this,"fragment");N(this,"name");N(this,"signature");N(this,"topic");N(this,"args");const s=e.name,i=e.format();q(this,{fragment:e,name:s,signature:i,topic:t,args:r})}}class R7{constructor(e,t,r,s){N(this,"fragment");N(this,"name");N(this,"args");N(this,"signature");N(this,"selector");N(this,"value");const i=e.name,o=e.format();q(this,{fragment:e,name:i,args:r,signature:o,selector:t,value:s})}}class U7{constructor(e,t,r){N(this,"fragment");N(this,"name");N(this,"args");N(this,"signature");N(this,"selector");const s=e.name,i=e.format();q(this,{fragment:e,name:s,args:r,signature:i,selector:t})}}class Db{constructor(e){N(this,"hash");N(this,"_isIndexed");q(this,{hash:e,_isIndexed:!0})}static isIndexed(e){return!!(e&&e._isIndexed)}}const $b={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},Gb={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:n=>`reverted with reason string ${JSON.stringify(n)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:n=>{let e="unknown panic code";return n>=0&&n<=255&&$b[n.toString()]&&(e=$b[n.toString()]),`reverted with panic code 0x${n.toString(16)} (${e})`}}};var bn,xn,pn,ze,Pn,u0,f0;const is=class is{constructor(e){O(this,Pn);N(this,"fragments");N(this,"deploy");N(this,"fallback");N(this,"receive");O(this,bn);O(this,xn);O(this,pn);O(this,ze);let t=[];typeof e=="string"?t=JSON.parse(e):t=e,y(this,pn,new Map),y(this,bn,new Map),y(this,xn,new Map);const r=[];for(const o of t)try{r.push(Ws.from(o))}catch(a){console.log(`[Warning] Invalid Fragment ${JSON.stringify(o)}:`,a.message)}q(this,{fragments:Object.freeze(r)});let s=null,i=!1;y(this,ze,this.getAbiCoder()),this.fragments.forEach((o,a)=>{let c;switch(o.type){case"constructor":if(this.deploy){console.log("duplicate definition - constructor");return}q(this,{deploy:o});return;case"fallback":o.inputs.length===0?i=!0:(A(!s||o.payable!==s.payable,"conflicting fallback fragments",`fragments[${a}]`,o),s=o,i=s.payable);return;case"function":c=b(this,pn);break;case"event":c=b(this,xn);break;case"error":c=b(this,bn);break;default:return}const u=o.format();c.has(u)||c.set(u,o)}),this.deploy||q(this,{deploy:Xn.from("constructor()")}),q(this,{fallback:s,receive:i})}format(e){const t=e?"minimal":"full";return this.fragments.map(s=>s.format(t))}formatJson(){const e=this.fragments.map(t=>t.format("json"));return JSON.stringify(e.map(t=>JSON.parse(t)))}getAbiCoder(){return Ka.defaultAbiCoder()}getFunctionName(e){const t=F(this,Pn,u0).call(this,e,null,!1);return A(t,"no matching function","key",e),t.name}hasFunction(e){return!!F(this,Pn,u0).call(this,e,null,!1)}getFunction(e,t){return F(this,Pn,u0).call(this,e,t||null,!0)}forEachFunction(e){const t=Array.from(b(this,pn).keys());t.sort((r,s)=>r.localeCompare(s));for(let r=0;r<t.length;r++){const s=t[r];e(b(this,pn).get(s),r)}}getEventName(e){const t=F(this,Pn,f0).call(this,e,null,!1);return A(t,"no matching event","key",e),t.name}hasEvent(e){return!!F(this,Pn,f0).call(this,e,null,!1)}getEvent(e,t){return F(this,Pn,f0).call(this,e,t||null,!0)}forEachEvent(e){const t=Array.from(b(this,xn).keys());t.sort((r,s)=>r.localeCompare(s));for(let r=0;r<t.length;r++){const s=t[r];e(b(this,xn).get(s),r)}}getError(e,t){if(de(e)){const s=e.toLowerCase();if(Gb[s])return st.from(Gb[s].signature);for(const i of b(this,bn).values())if(s===i.selector)return i;return null}if(e.indexOf("(")===-1){const s=[];for(const[i,o]of b(this,bn))i.split("(")[0]===e&&s.push(o);if(s.length===0)return e==="Error"?st.from("error Error(string)"):e==="Panic"?st.from("error Panic(uint256)"):null;if(s.length>1){const i=s.map(o=>JSON.stringify(o.format())).join(", ");A(!1,`ambiguous error description (i.e. ${i})`,"name",e)}return s[0]}if(e=st.from(e).format(),e==="Error(string)")return st.from("error Error(string)");if(e==="Panic(uint256)")return st.from("error Panic(uint256)");const r=b(this,bn).get(e);return r||null}forEachError(e){const t=Array.from(b(this,bn).keys());t.sort((r,s)=>r.localeCompare(s));for(let r=0;r<t.length;r++){const s=t[r];e(b(this,bn).get(s),r)}}_decodeParams(e,t){return b(this,ze).decode(e,t)}_encodeParams(e,t){return b(this,ze).encode(e,t)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,t){if(typeof e=="string"){const r=this.getError(e);A(r,"unknown error","fragment",e),e=r}return A(he(t,0,4)===e.selector,`data signature does not match error ${e.name}.`,"data",t),this._decodeParams(e.inputs,he(t,4))}encodeErrorResult(e,t){if(typeof e=="string"){const r=this.getError(e);A(r,"unknown error","fragment",e),e=r}return ce([e.selector,this._encodeParams(e.inputs,t||[])])}decodeFunctionData(e,t){if(typeof e=="string"){const r=this.getFunction(e);A(r,"unknown function","fragment",e),e=r}return A(he(t,0,4)===e.selector,`data signature does not match function ${e.name}.`,"data",t),this._decodeParams(e.inputs,he(t,4))}encodeFunctionData(e,t){if(typeof e=="string"){const r=this.getFunction(e);A(r,"unknown function","fragment",e),e=r}return ce([e.selector,this._encodeParams(e.inputs,t||[])])}decodeFunctionResult(e,t){if(typeof e=="string"){const i=this.getFunction(e);A(i,"unknown function","fragment",e),e=i}let r="invalid length for result data";const s=De(t);if(s.length%32===0)try{return b(this,ze).decode(e.outputs,s)}catch{r="could not decode result data"}U(!1,r,"BAD_DATA",{value:G(s),info:{method:e.name,signature:e.format()}})}makeError(e,t){const r=V(e,"data"),s=Ka.getBuiltinCallException("call",t,r);if(s.message.startsWith("execution reverted (unknown custom error)")){const a=G(r.slice(0,4)),c=this.getError(a);if(c)try{const u=b(this,ze).decode(c.inputs,r.slice(4));s.revert={name:c.name,signature:c.format(),args:u},s.reason=s.revert.signature,s.message=`execution reverted: ${s.reason}`}catch{s.message="execution reverted (coult not decode custom error)"}}const o=this.parseTransaction(t);return o&&(s.invocation={method:o.name,signature:o.signature,args:o.args}),s}encodeFunctionResult(e,t){if(typeof e=="string"){const r=this.getFunction(e);A(r,"unknown function","fragment",e),e=r}return G(b(this,ze).encode(e.outputs,t||[]))}encodeFilterTopics(e,t){if(typeof e=="string"){const i=this.getEvent(e);A(i,"unknown event","eventFragment",e),e=i}U(t.length<=e.inputs.length,`too many arguments for ${e.format()}`,"UNEXPECTED_ARGUMENT",{count:t.length,expectedCount:e.inputs.length});const r=[];e.anonymous||r.push(e.topicHash);const s=(i,o)=>i.type==="string"?ar(o):i.type==="bytes"?xe(G(o)):(i.type==="bool"&&typeof o=="boolean"?o=o?"0x01":"0x00":i.type.match(/^u?int/)?o=sr(o):i.type.match(/^bytes/)?o=k3(o,32):i.type==="address"&&b(this,ze).encode(["address"],[o]),rr(G(o),32));for(t.forEach((i,o)=>{const a=e.inputs[o];if(!a.indexed){A(i==null,"cannot filter non-indexed parameters; must be null","contract."+a.name,i);return}i==null?r.push(null):a.baseType==="array"||a.baseType==="tuple"?A(!1,"filtering with tuples or arrays not supported","contract."+a.name,i):Array.isArray(i)?r.push(i.map(c=>s(a,c))):r.push(s(a,i))});r.length&&r[r.length-1]===null;)r.pop();return r}encodeEventLog(e,t){if(typeof e=="string"){const o=this.getEvent(e);A(o,"unknown event","eventFragment",e),e=o}const r=[],s=[],i=[];return e.anonymous||r.push(e.topicHash),A(t.length===e.inputs.length,"event arguments/values mismatch","values",t),e.inputs.forEach((o,a)=>{const c=t[a];if(o.indexed)if(o.type==="string")r.push(ar(c));else if(o.type==="bytes")r.push(xe(c));else{if(o.baseType==="tuple"||o.baseType==="array")throw new Error("not implemented");r.push(b(this,ze).encode([o.type],[c]))}else s.push(o),i.push(c)}),{data:b(this,ze).encode(s,i),topics:r}}decodeEventLog(e,t,r){if(typeof e=="string"){const h=this.getEvent(e);A(h,"unknown event","eventFragment",e),e=h}if(r!=null&&!e.anonymous){const h=e.topicHash;A(de(r[0],32)&&r[0].toLowerCase()===h,"fragment/topic mismatch","topics[0]",r[0]),r=r.slice(1)}const s=[],i=[],o=[];e.inputs.forEach((h,p)=>{h.indexed?h.type==="string"||h.type==="bytes"||h.baseType==="tuple"||h.baseType==="array"?(s.push($e.from({type:"bytes32",name:h.name})),o.push(!0)):(s.push(h),o.push(!1)):(i.push(h),o.push(!1))});const a=r!=null?b(this,ze).decode(s,ce(r)):null,c=b(this,ze).decode(i,t,!0),u=[],f=[];let l=0,d=0;return e.inputs.forEach((h,p)=>{let x=null;if(h.indexed)if(a==null)x=new Db(null);else if(o[p])x=new Db(a[d++]);else try{x=a[d++]}catch(m){x=m}else try{x=c[l++]}catch(m){x=m}u.push(x),f.push(h.name||null)}),Eo.fromItems(u,f)}parseTransaction(e){const t=V(e.data,"tx.data"),r=K(e.value!=null?e.value:0,"tx.value"),s=this.getFunction(G(t.slice(0,4)));if(!s)return null;const i=b(this,ze).decode(s.inputs,t.slice(4));return new R7(s,s.selector,i,r)}parseCallResult(e){throw new Error("@TODO")}parseLog(e){const t=this.getEvent(e.topics[0]);return!t||t.anonymous?null:new k7(t,t.topicHash,this.decodeEventLog(t,e.data,e.topics))}parseError(e){const t=G(e),r=this.getError(he(t,0,4));if(!r)return null;const s=b(this,ze).decode(r.inputs,he(t,4));return new U7(r,r.selector,s)}static from(e){return e instanceof is?e:typeof e=="string"?new is(JSON.parse(e)):typeof e.formatJson=="function"?new is(e.formatJson()):typeof e.format=="function"?new is(e.format("json")):new is(e)}};bn=new WeakMap,xn=new WeakMap,pn=new WeakMap,ze=new WeakMap,Pn=new WeakSet,u0=function(e,t,r){if(de(e)){const i=e.toLowerCase();for(const o of b(this,pn).values())if(i===o.selector)return o;return null}if(e.indexOf("(")===-1){const i=[];for(const[o,a]of b(this,pn))o.split("(")[0]===e&&i.push(a);if(t){const o=t.length>0?t[t.length-1]:null;let a=t.length,c=!0;Ve.isTyped(o)&&o.type==="overrides"&&(c=!1,a--);for(let u=i.length-1;u>=0;u--){const f=i[u].inputs.length;f!==a&&(!c||f!==a-1)&&i.splice(u,1)}for(let u=i.length-1;u>=0;u--){const f=i[u].inputs;for(let l=0;l<t.length;l++)if(Ve.isTyped(t[l])){if(l>=f.length){if(t[l].type==="overrides")continue;i.splice(u,1);break}if(t[l].type!==f[l].baseType){i.splice(u,1);break}}}}if(i.length===1&&t&&t.length!==i[0].inputs.length){const o=t[t.length-1];(o==null||Array.isArray(o)||typeof o!="object")&&i.splice(0,1)}if(i.length===0)return null;if(i.length>1&&r){const o=i.map(a=>JSON.stringify(a.format())).join(", ");A(!1,`ambiguous function description (i.e. matches ${o})`,"key",e)}return i[0]}const s=b(this,pn).get(An.from(e).format());return s||null},f0=function(e,t,r){if(de(e)){const i=e.toLowerCase();for(const o of b(this,xn).values())if(i===o.topicHash)return o;return null}if(e.indexOf("(")===-1){const i=[];for(const[o,a]of b(this,xn))o.split("(")[0]===e&&i.push(a);if(t){for(let o=i.length-1;o>=0;o--)i[o].inputs.length<t.length&&i.splice(o,1);for(let o=i.length-1;o>=0;o--){const a=i[o].inputs;for(let c=0;c<t.length;c++)if(Ve.isTyped(t[c])&&t[c].type!==a[c].baseType){i.splice(o,1);break}}}if(i.length===0)return null;if(i.length>1&&r){const o=i.map(a=>JSON.stringify(a.format())).join(", ");A(!1,`ambiguous event description (i.e. matches ${o})`,"key",e)}return i[0]}const s=b(this,xn).get(wn.from(e).format());return s||null};let vl=is;const fm=BigInt(0);function Ci(n){return n??null}function ve(n){return n==null?null:n.toString()}class zb{constructor(e,t,r){N(this,"gasPrice");N(this,"maxFeePerGas");N(this,"maxPriorityFeePerGas");q(this,{gasPrice:Ci(e),maxFeePerGas:Ci(t),maxPriorityFeePerGas:Ci(r)})}toJSON(){const{gasPrice:e,maxFeePerGas:t,maxPriorityFeePerGas:r}=this;return{_type:"FeeData",gasPrice:ve(e),maxFeePerGas:ve(t),maxPriorityFeePerGas:ve(r)}}}function Qa(n){const e={};n.to&&(e.to=n.to),n.from&&(e.from=n.from),n.data&&(e.data=G(n.data));const t="chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const s of t)!(s in n)||n[s]==null||(e[s]=K(n[s],`request.${s}`));const r="type,nonce".split(/,/);for(const s of r)!(s in n)||n[s]==null||(e[s]=Y(n[s],`request.${s}`));return n.accessList&&(e.accessList=ei(n.accessList)),n.authorizationList&&(e.authorizationList=n.authorizationList.slice()),"blockTag"in n&&(e.blockTag=n.blockTag),"enableCcipRead"in n&&(e.enableCcipRead=!!n.enableCcipRead),"customData"in n&&(e.customData=n.customData),"blobVersionedHashes"in n&&n.blobVersionedHashes&&(e.blobVersionedHashes=n.blobVersionedHashes.slice()),"kzg"in n&&(e.kzg=n.kzg),"blobs"in n&&n.blobs&&(e.blobs=n.blobs.map(s=>uu(s)?G(s):Object.assign({},s))),e}var Vn;class F7{constructor(e,t){N(this,"provider");N(this,"number");N(this,"hash");N(this,"timestamp");N(this,"parentHash");N(this,"parentBeaconBlockRoot");N(this,"nonce");N(this,"difficulty");N(this,"gasLimit");N(this,"gasUsed");N(this,"stateRoot");N(this,"receiptsRoot");N(this,"blobGasUsed");N(this,"excessBlobGas");N(this,"miner");N(this,"prevRandao");N(this,"extraData");N(this,"baseFeePerGas");O(this,Vn);y(this,Vn,e.transactions.map(r=>typeof r!="string"?new Ja(r,t):r)),q(this,{provider:t,hash:Ci(e.hash),number:e.number,timestamp:e.timestamp,parentHash:e.parentHash,parentBeaconBlockRoot:e.parentBeaconBlockRoot,nonce:e.nonce,difficulty:e.difficulty,gasLimit:e.gasLimit,gasUsed:e.gasUsed,blobGasUsed:e.blobGasUsed,excessBlobGas:e.excessBlobGas,miner:e.miner,prevRandao:Ci(e.prevRandao),extraData:e.extraData,baseFeePerGas:Ci(e.baseFeePerGas),stateRoot:e.stateRoot,receiptsRoot:e.receiptsRoot})}get transactions(){return b(this,Vn).map(e=>typeof e=="string"?e:e.hash)}get prefetchedTransactions(){const e=b(this,Vn).slice();return e.length===0?[]:(U(typeof e[0]=="object","transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),e)}toJSON(){const{baseFeePerGas:e,difficulty:t,extraData:r,gasLimit:s,gasUsed:i,hash:o,miner:a,prevRandao:c,nonce:u,number:f,parentHash:l,parentBeaconBlockRoot:d,stateRoot:h,receiptsRoot:p,timestamp:x,transactions:m}=this;return{_type:"Block",baseFeePerGas:ve(e),difficulty:ve(t),extraData:r,gasLimit:ve(s),gasUsed:ve(i),blobGasUsed:ve(this.blobGasUsed),excessBlobGas:ve(this.excessBlobGas),hash:o,miner:a,prevRandao:c,nonce:u,number:f,parentHash:l,timestamp:x,parentBeaconBlockRoot:d,stateRoot:h,receiptsRoot:p,transactions:m}}[Symbol.iterator](){let e=0;const t=this.transactions;return{next:()=>e<this.length?{value:t[e++],done:!1}:{value:void 0,done:!0}}}get length(){return b(this,Vn).length}get date(){return this.timestamp==null?null:new Date(this.timestamp*1e3)}async getTransaction(e){let t;if(typeof e=="number")t=b(this,Vn)[e];else{const r=e.toLowerCase();for(const s of b(this,Vn))if(typeof s=="string"){if(s!==r)continue;t=s;break}else{if(s.hash!==r)continue;t=s;break}}if(t==null)throw new Error("no such tx");return typeof t=="string"?await this.provider.getTransaction(t):t}getPrefetchedTransaction(e){const t=this.prefetchedTransactions;if(typeof e=="number")return t[e];e=e.toLowerCase();for(const r of t)if(r.hash===e)return r;A(!1,"no matching transaction","indexOrHash",e)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return L7(this)}}Vn=new WeakMap;class Sc{constructor(e,t){N(this,"provider");N(this,"transactionHash");N(this,"blockHash");N(this,"blockNumber");N(this,"removed");N(this,"address");N(this,"data");N(this,"topics");N(this,"index");N(this,"transactionIndex");this.provider=t;const r=Object.freeze(e.topics.slice());q(this,{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,removed:e.removed,address:e.address,data:e.data,topics:r,index:e.index,transactionIndex:e.transactionIndex})}toJSON(){const{address:e,blockHash:t,blockNumber:r,data:s,index:i,removed:o,topics:a,transactionHash:c,transactionIndex:u}=this;return{_type:"log",address:e,blockHash:t,blockNumber:r,data:s,index:i,removed:o,topics:a,transactionHash:c,transactionIndex:u}}async getBlock(){const e=await this.provider.getBlock(this.blockHash);return U(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransaction(){const e=await this.provider.getTransaction(this.transactionHash);return U(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransactionReceipt(){const e=await this.provider.getTransactionReceipt(this.transactionHash);return U(!!e,"failed to find transaction receipt","UNKNOWN_ERROR",{}),e}removedEvent(){return M7(this)}}var nc;class lm{constructor(e,t){N(this,"provider");N(this,"to");N(this,"from");N(this,"contractAddress");N(this,"hash");N(this,"index");N(this,"blockHash");N(this,"blockNumber");N(this,"logsBloom");N(this,"gasUsed");N(this,"blobGasUsed");N(this,"cumulativeGasUsed");N(this,"gasPrice");N(this,"blobGasPrice");N(this,"type");N(this,"status");N(this,"root");O(this,nc);y(this,nc,Object.freeze(e.logs.map(s=>new Sc(s,t))));let r=fm;e.effectiveGasPrice!=null?r=e.effectiveGasPrice:e.gasPrice!=null&&(r=e.gasPrice),q(this,{provider:t,to:e.to,from:e.from,contractAddress:e.contractAddress,hash:e.hash,index:e.index,blockHash:e.blockHash,blockNumber:e.blockNumber,logsBloom:e.logsBloom,gasUsed:e.gasUsed,cumulativeGasUsed:e.cumulativeGasUsed,blobGasUsed:e.blobGasUsed,gasPrice:r,blobGasPrice:e.blobGasPrice,type:e.type,status:e.status,root:e.root})}get logs(){return b(this,nc)}toJSON(){const{to:e,from:t,contractAddress:r,hash:s,index:i,blockHash:o,blockNumber:a,logsBloom:c,logs:u,status:f,root:l}=this;return{_type:"TransactionReceipt",blockHash:o,blockNumber:a,contractAddress:r,cumulativeGasUsed:ve(this.cumulativeGasUsed),from:t,gasPrice:ve(this.gasPrice),blobGasUsed:ve(this.blobGasUsed),blobGasPrice:ve(this.blobGasPrice),gasUsed:ve(this.gasUsed),hash:s,index:i,logs:u,logsBloom:c,root:l,status:f,to:e}}get length(){return this.logs.length}[Symbol.iterator](){let e=0;return{next:()=>e<this.length?{value:this.logs[e++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){const e=await this.provider.getBlock(this.blockHash);if(e==null)throw new Error("TODO");return e}async getTransaction(){const e=await this.provider.getTransaction(this.hash);if(e==null)throw new Error("TODO");return e}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return hm(this)}reorderedEvent(e){return U(!e||e.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),dm(this,e)}}nc=new WeakMap;var Nr;const Qd=class Qd{constructor(e,t){N(this,"provider");N(this,"blockNumber");N(this,"blockHash");N(this,"index");N(this,"hash");N(this,"type");N(this,"to");N(this,"from");N(this,"nonce");N(this,"gasLimit");N(this,"gasPrice");N(this,"maxPriorityFeePerGas");N(this,"maxFeePerGas");N(this,"maxFeePerBlobGas");N(this,"data");N(this,"value");N(this,"chainId");N(this,"signature");N(this,"accessList");N(this,"blobVersionedHashes");N(this,"authorizationList");O(this,Nr);this.provider=t,this.blockNumber=e.blockNumber!=null?e.blockNumber:null,this.blockHash=e.blockHash!=null?e.blockHash:null,this.hash=e.hash,this.index=e.index,this.type=e.type,this.from=e.from,this.to=e.to||null,this.gasLimit=e.gasLimit,this.nonce=e.nonce,this.data=e.data,this.value=e.value,this.gasPrice=e.gasPrice,this.maxPriorityFeePerGas=e.maxPriorityFeePerGas!=null?e.maxPriorityFeePerGas:null,this.maxFeePerGas=e.maxFeePerGas!=null?e.maxFeePerGas:null,this.maxFeePerBlobGas=e.maxFeePerBlobGas!=null?e.maxFeePerBlobGas:null,this.chainId=e.chainId,this.signature=e.signature,this.accessList=e.accessList!=null?e.accessList:null,this.blobVersionedHashes=e.blobVersionedHashes!=null?e.blobVersionedHashes:null,this.authorizationList=e.authorizationList!=null?e.authorizationList:null,y(this,Nr,-1)}toJSON(){const{blockNumber:e,blockHash:t,index:r,hash:s,type:i,to:o,from:a,nonce:c,data:u,signature:f,accessList:l,blobVersionedHashes:d}=this;return{_type:"TransactionResponse",accessList:l,blockNumber:e,blockHash:t,blobVersionedHashes:d,chainId:ve(this.chainId),data:u,from:a,gasLimit:ve(this.gasLimit),gasPrice:ve(this.gasPrice),hash:s,maxFeePerGas:ve(this.maxFeePerGas),maxPriorityFeePerGas:ve(this.maxPriorityFeePerGas),maxFeePerBlobGas:ve(this.maxFeePerBlobGas),nonce:c,signature:f,to:o,index:r,type:i,value:ve(this.value)}}async getBlock(){let e=this.blockNumber;if(e==null){const r=await this.getTransaction();r&&(e=r.blockNumber)}if(e==null)return null;const t=this.provider.getBlock(e);if(t==null)throw new Error("TODO");return t}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(this.blockNumber==null){const{tx:t,blockNumber:r}=await je({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return t==null||t.blockNumber==null?0:r-t.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(e,t){const r=e??1,s=t??0;let i=b(this,Nr),o=-1,a=i===-1;const c=async()=>{if(a)return null;const{blockNumber:d,nonce:h}=await je({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(h<this.nonce){i=d;return}if(a)return null;const p=await this.getTransaction();if(!(p&&p.blockNumber!=null))for(o===-1&&(o=i-3,o<b(this,Nr)&&(o=b(this,Nr)));o<=d;){if(a)return null;const x=await this.provider.getBlock(o,!0);if(x==null)return;for(const m of x)if(m===this.hash)return;for(let m=0;m<x.length;m++){const w=await x.getTransaction(m);if(w.from===this.from&&w.nonce===this.nonce){if(a)return null;const C=await this.provider.getTransactionReceipt(w.hash);if(C==null||d-C.blockNumber+1<r)return;let v="replaced";w.data===this.data&&w.to===this.to&&w.value===this.value?v="repriced":w.data==="0x"&&w.from===w.to&&w.value===fm&&(v="cancelled"),U(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:v==="replaced"||v==="cancelled",reason:v,replacement:w.replaceableTransaction(i),hash:w.hash,receipt:C})}}o++}},u=d=>{if(d==null||d.status!==0)return d;U(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:d.to,from:d.from,data:""},receipt:d})},f=await this.provider.getTransactionReceipt(this.hash);if(r===0)return u(f);if(f){if(r===1||await f.confirmations()>=r)return u(f)}else if(await c(),r===0)return null;return await new Promise((d,h)=>{const p=[],x=()=>{p.forEach(w=>w())};if(p.push(()=>{a=!0}),s>0){const w=setTimeout(()=>{x(),h(pe("wait for transaction timeout","TIMEOUT"))},s);p.push(()=>{clearTimeout(w)})}const m=async w=>{if(await w.confirmations()>=r){x();try{d(u(w))}catch(C){h(C)}}};if(p.push(()=>{this.provider.off(this.hash,m)}),this.provider.on(this.hash,m),i>=0){const w=async()=>{try{await c()}catch(C){if(Me(C,"TRANSACTION_REPLACED")){x(),h(C);return}}a||this.provider.once("block",w)};p.push(()=>{this.provider.off("block",w)}),this.provider.once("block",w)}})}isMined(){return this.blockHash!=null}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}removedEvent(){return U(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),hm(this)}reorderedEvent(e){return U(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),U(!e||e.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),dm(this,e)}replaceableTransaction(e){A(Number.isInteger(e)&&e>=0,"invalid startBlock","startBlock",e);const t=new Qd(this,this.provider);return y(t,Nr,e),t}};Nr=new WeakMap;let Ja=Qd;function L7(n){return{orphan:"drop-block",hash:n.hash,number:n.number}}function dm(n,e){return{orphan:"reorder-transaction",tx:n,other:e}}function hm(n){return{orphan:"drop-transaction",tx:n}}function M7(n){return{orphan:"drop-log",log:{transactionHash:n.transactionHash,blockHash:n.blockHash,blockNumber:n.blockNumber,address:n.address,data:n.data,topics:Object.freeze(n.topics.slice()),index:n.index}}}class Md extends Sc{constructor(t,r,s){super(t,t.provider);N(this,"interface");N(this,"fragment");N(this,"args");const i=r.decodeEventLog(s,t.data,t.topics);q(this,{args:i,fragment:s,interface:r})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class bm extends Sc{constructor(t,r){super(t,t.provider);N(this,"error");q(this,{error:r})}}var Yi;class D7 extends lm{constructor(t,r,s){super(s,r);O(this,Yi);y(this,Yi,t)}get logs(){return super.logs.map(t=>{const r=t.topics.length?b(this,Yi).getEvent(t.topics[0]):null;if(r)try{return new Md(t,b(this,Yi),r)}catch(s){return new bm(t,s)}return t})}}Yi=new WeakMap;var rc;class Dd extends Ja{constructor(t,r,s){super(s,r);O(this,rc);y(this,rc,t)}async wait(t,r){const s=await super.wait(t,r);return s==null?null:new D7(b(this,rc),this.provider,s)}}rc=new WeakMap;class xm extends wp{constructor(t,r,s,i){super(t,r,s);N(this,"log");q(this,{log:i})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class $7 extends xm{constructor(e,t,r,s,i){super(e,t,r,new Md(i,e.interface,s));const o=e.interface.decodeEventLog(s,this.log.data,this.log.topics);q(this,{args:o,fragment:s})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}const Hb=BigInt(0);function pm(n){return n&&typeof n.call=="function"}function gm(n){return n&&typeof n.estimateGas=="function"}function Eu(n){return n&&typeof n.resolveName=="function"}function mm(n){return n&&typeof n.sendTransaction=="function"}function ym(n){if(n!=null){if(Eu(n))return n;if(n.provider)return n.provider}}var sc;class G7{constructor(e,t,r){O(this,sc);N(this,"fragment");if(q(this,{fragment:t}),t.inputs.length<r.length)throw new Error("too many arguments");const s=qs(e.runner,"resolveName"),i=Eu(s)?s:null;y(this,sc,async function(){const o=await Promise.all(t.inputs.map((a,c)=>r[c]==null?null:a.walkAsync(r[c],(f,l)=>f==="address"?Array.isArray(l)?Promise.all(l.map(d=>Oe(d,i))):Oe(l,i):l)));return e.interface.encodeFilterTopics(t,o)}())}getTopicFilter(){return b(this,sc)}}sc=new WeakMap;function qs(n,e){return n==null?null:typeof n[e]=="function"?n:n.provider&&typeof n.provider[e]=="function"?n.provider:null}function ds(n){return n==null?null:n.provider||null}async function wm(n,e){const t=Ve.dereference(n,"overrides");A(typeof t=="object","invalid overrides parameter","overrides",n);const r=Qa(t);return A(r.to==null||(e||[]).indexOf("to")>=0,"cannot override to","overrides.to",r.to),A(r.data==null||(e||[]).indexOf("data")>=0,"cannot override data","overrides.data",r.data),r.from&&(r.from=r.from),r}async function z7(n,e,t){const r=qs(n,"resolveName"),s=Eu(r)?r:null;return await Promise.all(e.map((i,o)=>i.walkAsync(t[o],(a,c)=>(c=Ve.dereference(c,a),a==="address"?Oe(c,s):c))))}function H7(n){const e=async function(o){const a=await wm(o,["data"]);a.to=await n.getAddress(),a.from&&(a.from=await Oe(a.from,ym(n.runner)));const c=n.interface,u=K(a.value||Hb,"overrides.value")===Hb,f=(a.data||"0x")==="0x";c.fallback&&!c.fallback.payable&&c.receive&&!f&&!u&&A(!1,"cannot send data to receive or send value to non-payable fallback","overrides",o),A(c.fallback||f,"cannot send data to receive-only contract","overrides.data",a.data);const l=c.receive||c.fallback&&c.fallback.payable;return A(l||u,"cannot send value to non-payable fallback","overrides.value",a.value),A(c.fallback||f,"cannot send data to receive-only contract","overrides.data",a.data),a},t=async function(o){const a=qs(n.runner,"call");U(pm(a),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const c=await e(o);try{return await a.call(c)}catch(u){throw wd(u)&&u.data?n.interface.makeError(u.data,c):u}},r=async function(o){const a=n.runner;U(mm(a),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const c=await a.sendTransaction(await e(o)),u=ds(n.runner);return new Dd(n.interface,u,c)},s=async function(o){const a=qs(n.runner,"estimateGas");return U(gm(a),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await a.estimateGas(await e(o))},i=async o=>await r(o);return q(i,{_contract:n,estimateGas:s,populateTransaction:e,send:r,staticCall:t}),i}function _7(n,e){const t=function(...u){const f=n.interface.getFunction(e,u);return U(f,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:u}}),f},r=async function(...u){const f=t(...u);let l={};if(f.inputs.length+1===u.length&&(l=await wm(u.pop()),l.from&&(l.from=await Oe(l.from,ym(n.runner)))),f.inputs.length!==u.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");const d=await z7(n.runner,f.inputs,u);return Object.assign({},l,await je({to:n.getAddress(),data:n.interface.encodeFunctionData(f,d)}))},s=async function(...u){const f=await a(...u);return f.length===1?f[0]:f},i=async function(...u){const f=n.runner;U(mm(f),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const l=await f.sendTransaction(await r(...u)),d=ds(n.runner);return new Dd(n.interface,d,l)},o=async function(...u){const f=qs(n.runner,"estimateGas");return U(gm(f),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await f.estimateGas(await r(...u))},a=async function(...u){const f=qs(n.runner,"call");U(pm(f),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const l=await r(...u);let d="0x";try{d=await f.call(l)}catch(p){throw wd(p)&&p.data?n.interface.makeError(p.data,l):p}const h=t(...u);return n.interface.decodeFunctionResult(h,d)},c=async(...u)=>t(...u).constant?await s(...u):await i(...u);return q(c,{name:n.interface.getFunctionName(e),_contract:n,_key:e,getFragment:t,estimateGas:o,populateTransaction:r,send:i,staticCall:s,staticCallResult:a}),Object.defineProperty(c,"fragment",{configurable:!1,enumerable:!0,get:()=>{const u=n.interface.getFunction(e);return U(u,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),u}}),c}function j7(n,e){const t=function(...s){const i=n.interface.getEvent(e,s);return U(i,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:s}}),i},r=function(...s){return new G7(n,t(...s),s)};return q(r,{name:n.interface.getEventName(e),_contract:n,_key:e,getFragment:t}),Object.defineProperty(r,"fragment",{configurable:!1,enumerable:!0,get:()=>{const s=n.interface.getEvent(e);return U(s,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),s}}),r}const R0=Symbol.for("_ethersInternal_contract"),Am=new WeakMap;function V7(n,e){Am.set(n[R0],e)}function bt(n){return Am.get(n[R0])}function K7(n){return n&&typeof n=="object"&&"getTopicFilter"in n&&typeof n.getTopicFilter=="function"&&n.fragment}async function $d(n,e){let t,r=null;if(Array.isArray(e)){const i=function(o){if(de(o,32))return o;const a=n.interface.getEvent(o);return A(a,"unknown fragment","name",o),a.topicHash};t=e.map(o=>o==null?null:Array.isArray(o)?o.map(i):i(o))}else e==="*"?t=[null]:typeof e=="string"?de(e,32)?t=[e]:(r=n.interface.getEvent(e),A(r,"unknown fragment","event",e),t=[r.topicHash]):K7(e)?t=await e.getTopicFilter():"fragment"in e?(r=e.fragment,t=[r.topicHash]):A(!1,"unknown event name","event",e);t=t.map(i=>{if(i==null)return null;if(Array.isArray(i)){const o=Array.from(new Set(i.map(a=>a.toLowerCase())).values());return o.length===1?o[0]:(o.sort(),o)}return i.toLowerCase()});const s=t.map(i=>i==null?"null":Array.isArray(i)?i.join("|"):i).join("&");return{fragment:r,tag:s,topics:t}}async function ra(n,e){const{subs:t}=bt(n);return t.get((await $d(n,e)).tag)||null}async function _b(n,e,t){const r=ds(n.runner);U(r,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:e});const{fragment:s,tag:i,topics:o}=await $d(n,t),{addr:a,subs:c}=bt(n);let u=c.get(i);if(!u){const l={address:a||n,topics:o},d=m=>{let w=s;if(w==null)try{w=n.interface.getEvent(m.topics[0])}catch{}if(w){const C=w,v=s?n.interface.decodeEventLog(s,m.data,m.topics):[];Il(n,t,v,P=>new $7(n,P,t,C,m))}else Il(n,t,[],C=>new xm(n,C,t,m))};let h=[];u={tag:i,listeners:[],start:()=>{h.length||h.push(r.on(l,d))},stop:async()=>{if(h.length==0)return;let m=h;h=[],await Promise.all(m),r.off(l,d)}},c.set(i,u)}return u}let Pl=Promise.resolve();async function Q7(n,e,t,r){await Pl;const s=await ra(n,e);if(!s)return!1;const i=s.listeners.length;return s.listeners=s.listeners.filter(({listener:o,once:a})=>{const c=Array.from(t);r&&c.push(r(a?null:o));try{o.call(n,...c)}catch{}return!a}),s.listeners.length===0&&(s.stop(),bt(n).subs.delete(s.tag)),i>0}async function Il(n,e,t,r){try{await Pl}catch{}const s=Q7(n,e,t,r);return Pl=s,await s}const Zc=["then"];var ox;ox=R0;const da=class da{constructor(e,t,r,s){N(this,"target");N(this,"interface");N(this,"runner");N(this,"filters");N(this,ox);N(this,"fallback");A(typeof e=="string"||Cg(e),"invalid value for Contract target","target",e),r==null&&(r=null);const i=vl.from(t);q(this,{target:e,runner:r,interface:i}),Object.defineProperty(this,R0,{value:{}});let o,a=null,c=null;if(s){const l=ds(r);c=new Dd(this.interface,l,s)}let u=new Map;if(typeof e=="string")if(de(e))a=e,o=Promise.resolve(e);else{const l=qs(r,"resolveName");if(!Eu(l))throw pe("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});o=l.resolveName(e).then(d=>{if(d==null)throw pe("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:e});return bt(this).addr=d,d})}else o=e.getAddress().then(l=>{if(l==null)throw new Error("TODO");return bt(this).addr=l,l});V7(this,{addrPromise:o,addr:a,deployTx:c,subs:u});const f=new Proxy({},{get:(l,d,h)=>{if(typeof d=="symbol"||Zc.indexOf(d)>=0)return Reflect.get(l,d,h);try{return this.getEvent(d)}catch(p){if(!Me(p,"INVALID_ARGUMENT")||p.argument!=="key")throw p}},has:(l,d)=>Zc.indexOf(d)>=0?Reflect.has(l,d):Reflect.has(l,d)||this.interface.hasEvent(String(d))});return q(this,{filters:f}),q(this,{fallback:i.receive||i.fallback?H7(this):null}),new Proxy(this,{get:(l,d,h)=>{if(typeof d=="symbol"||d in l||Zc.indexOf(d)>=0)return Reflect.get(l,d,h);try{return l.getFunction(d)}catch(p){if(!Me(p,"INVALID_ARGUMENT")||p.argument!=="key")throw p}},has:(l,d)=>typeof d=="symbol"||d in l||Zc.indexOf(d)>=0?Reflect.has(l,d):l.interface.hasFunction(d)})}connect(e){return new da(this.target,this.interface,e)}attach(e){return new da(e,this.interface,this.runner)}async getAddress(){return await bt(this).addrPromise}async getDeployedCode(){const e=ds(this.runner);U(e,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});const t=await e.getCode(await this.getAddress());return t==="0x"?null:t}async waitForDeployment(){const e=this.deploymentTransaction();if(e)return await e.wait(),this;if(await this.getDeployedCode()!=null)return this;const r=ds(this.runner);return U(r!=null,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((s,i)=>{const o=async()=>{try{if(await this.getDeployedCode()!=null)return s(this);r.once("block",o)}catch(a){i(a)}};o()})}deploymentTransaction(){return bt(this).deployTx}getFunction(e){return typeof e!="string"&&(e=e.format()),_7(this,e)}getEvent(e){return typeof e!="string"&&(e=e.format()),j7(this,e)}async queryTransaction(e){throw new Error("@TODO")}async queryFilter(e,t,r){t==null&&(t=0),r==null&&(r="latest");const{addr:s,addrPromise:i}=bt(this),o=s||await i,{fragment:a,topics:c}=await $d(this,e),u={address:o,topics:c,fromBlock:t,toBlock:r},f=ds(this.runner);return U(f,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await f.getLogs(u)).map(l=>{let d=a;if(d==null)try{d=this.interface.getEvent(l.topics[0])}catch{}if(d)try{return new Md(l,this.interface,d)}catch(h){return new bm(l,h)}return new Sc(l,f)})}async on(e,t){const r=await _b(this,"on",e);return r.listeners.push({listener:t,once:!1}),r.start(),this}async once(e,t){const r=await _b(this,"once",e);return r.listeners.push({listener:t,once:!0}),r.start(),this}async emit(e,...t){return await Il(this,e,t,null)}async listenerCount(e){if(e){const s=await ra(this,e);return s?s.listeners.length:0}const{subs:t}=bt(this);let r=0;for(const{listeners:s}of t.values())r+=s.length;return r}async listeners(e){if(e){const s=await ra(this,e);return s?s.listeners.map(({listener:i})=>i):[]}const{subs:t}=bt(this);let r=[];for(const{listeners:s}of t.values())r=r.concat(s.map(({listener:i})=>i));return r}async off(e,t){const r=await ra(this,e);if(!r)return this;if(t){const s=r.listeners.map(({listener:i})=>i).indexOf(t);s>=0&&r.listeners.splice(s,1)}return(t==null||r.listeners.length===0)&&(r.stop(),bt(this).subs.delete(r.tag)),this}async removeAllListeners(e){if(e){const t=await ra(this,e);if(!t)return this;t.stop(),bt(this).subs.delete(t.tag)}else{const{subs:t}=bt(this);for(const{tag:r,stop:s}of t.values())s(),t.delete(r)}return this}async addListener(e,t){return await this.on(e,t)}async removeListener(e,t){return await this.off(e,t)}static buildClass(e){class t extends da{constructor(s,i=null){super(s,e,i)}}return t}static from(e,t,r){return r==null&&(r=null),new this(e,t,r)}};let Cl=da;function J7(){return Cl}class fa extends J7(){}function ff(n){return n.match(/^ipfs:\/\/ipfs\//i)?n=n.substring(12):n.match(/^ipfs:\/\//i)?n=n.substring(7):A(!1,"unsupported IPFS format","link",n),`https://gateway.ipfs.io/ipfs/${n}`}class W7{constructor(e){N(this,"name");q(this,{name:e})}connect(e){return this}supportsCoinType(e){return!1}async encodeAddress(e,t){throw new Error("unsupported coin")}async decodeAddress(e,t){throw new Error("unsupported coin")}}const Em=new RegExp("^(ipfs)://(.*)$","i"),jb=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),Em,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];var Br,Is,Sr,di,_0,vm;const mi=class mi{constructor(e,t,r){O(this,Sr);N(this,"provider");N(this,"address");N(this,"name");O(this,Br);O(this,Is);q(this,{provider:e,address:t,name:r}),y(this,Br,null),y(this,Is,new fa(t,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],e))}async supportsWildcard(){return b(this,Br)==null&&y(this,Br,(async()=>{try{return await b(this,Is).supportsInterface("0x9061b923")}catch(e){if(Me(e,"CALL_EXCEPTION"))return!1;throw y(this,Br,null),e}})()),await b(this,Br)}async getAddress(e){if(e==null&&(e=60),e===60)try{const i=await F(this,Sr,di).call(this,"addr(bytes32)");return i==null||i===$a?null:i}catch(i){if(Me(i,"CALL_EXCEPTION"))return null;throw i}if(e>=0&&e<2147483648){let i=e+2147483648;const o=await F(this,Sr,di).call(this,"addr(bytes32,uint)",[i]);if(de(o,20))return se(o)}let t=null;for(const i of this.provider.plugins)if(i instanceof W7&&i.supportsCoinType(e)){t=i;break}if(t==null)return null;const r=await F(this,Sr,di).call(this,"addr(bytes32,uint)",[e]);if(r==null||r==="0x")return null;const s=await t.decodeAddress(e,r);if(s!=null)return s;U(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${e})`,info:{coinType:e,data:r}})}async getText(e){const t=await F(this,Sr,di).call(this,"text(bytes32,string)",[e]);return t==null||t==="0x"?null:t}async getContentHash(){const e=await F(this,Sr,di).call(this,"contenthash(bytes32)");if(e==null||e==="0x")return null;const t=e.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(t){const s=t[1]==="e3010170"?"ipfs":"ipns",i=parseInt(t[4],16);if(t[5].length===i*2)return`${s}://${yp("0x"+t[2])}`}const r=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(r&&r[1].length===64)return`bzz://${r[1]}`;U(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:e}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){const e=[{type:"name",value:this.name}];try{const t=await this.getText("avatar");if(t==null)return e.push({type:"!avatar",value:""}),{url:null,linkage:e};e.push({type:"avatar",value:t});for(let r=0;r<jb.length;r++){const s=t.match(jb[r]);if(s==null)continue;const i=s[1].toLowerCase();switch(i){case"https":case"data":return e.push({type:"url",value:t}),{linkage:e,url:t};case"ipfs":{const o=ff(t);return e.push({type:"ipfs",value:t}),e.push({type:"url",value:o}),{linkage:e,url:o}}case"erc721":case"erc1155":{const o=i==="erc721"?"tokenURI(uint256)":"uri(uint256)";e.push({type:i,value:t});const a=await this.getAddress();if(a==null)return e.push({type:"!owner",value:""}),{url:null,linkage:e};const c=(s[2]||"").split("/");if(c.length!==2)return e.push({type:`!${i}caip`,value:s[2]||""}),{url:null,linkage:e};const u=c[1],f=new fa(c[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if(i==="erc721"){const x=await f.ownerOf(u);if(a!==x)return e.push({type:"!owner",value:x}),{url:null,linkage:e};e.push({type:"owner",value:x})}else if(i==="erc1155"){const x=await f.balanceOf(a,u);if(!x)return e.push({type:"!balance",value:"0"}),{url:null,linkage:e};e.push({type:"balance",value:x.toString()})}let l=await f[o](u);if(l==null||l==="0x")return e.push({type:"!metadata-url",value:""}),{url:null,linkage:e};e.push({type:"metadata-url-base",value:l}),i==="erc1155"&&(l=l.replace("{id}",sr(u,32).substring(2)),e.push({type:"metadata-url-expanded",value:l})),l.match(/^ipfs:/i)&&(l=ff(l)),e.push({type:"metadata-url",value:l});let d={};const h=await new ir(l).send();h.assertOk();try{d=h.bodyJson}catch{try{e.push({type:"!metadata",value:h.bodyText})}catch{const w=h.body;return w&&e.push({type:"!metadata",value:G(w)}),{url:null,linkage:e}}return{url:null,linkage:e}}if(!d)return e.push({type:"!metadata",value:""}),{url:null,linkage:e};e.push({type:"metadata",value:JSON.stringify(d)});let p=d.image;if(typeof p!="string")return e.push({type:"!imageUrl",value:""}),{url:null,linkage:e};if(!p.match(/^(https:\/\/|data:)/i)){if(p.match(Em)==null)return e.push({type:"!imageUrl-ipfs",value:p}),{url:null,linkage:e};e.push({type:"imageUrl-ipfs",value:p}),p=ff(p)}return e.push({type:"url",value:p}),{linkage:e,url:p}}}}}catch{}return{linkage:e,url:null}}static async getEnsAddress(e){const t=await e.getNetwork(),r=t.getPlugin("org.ethers.plugins.network.Ens");return U(r,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:t}}),r.address}static async fromName(e,t){var s;let r=t;for(;;){if(r===""||r==="."||t!=="eth"&&r==="eth")return null;const i=await F(s=mi,_0,vm).call(s,e,r);if(i!=null){const o=new mi(e,i,t);return r!==t&&!await o.supportsWildcard()?null:o}r=r.split(".").slice(1).join(".")}}};Br=new WeakMap,Is=new WeakMap,Sr=new WeakSet,di=async function(e,t){t=(t||[]).slice();const r=b(this,Is).interface;t.unshift(Al(this.name));let s=null;await this.supportsWildcard()&&(s=r.getFunction(e),U(s,"missing fragment","UNKNOWN_ERROR",{info:{funcName:e}}),t=[u7(this.name,255),r.encodeFunctionData(s,t)],e="resolve(bytes,bytes)"),t.push({enableCcipRead:!0});try{const i=await b(this,Is)[e](...t);return s?r.decodeFunctionResult(s,i)[0]:i}catch(i){if(!Me(i,"CALL_EXCEPTION"))throw i}return null},_0=new WeakSet,vm=async function(e,t){const r=await mi.getEnsAddress(e);try{const i=await new fa(r,["function resolver(bytes32) view returns (address)"],e).resolver(Al(t),{enableCcipRead:!0});return i===$a?null:i}catch(s){throw s}return null},O(mi,_0);let U0=mi;const Vb=BigInt(0);function ne(n,e){return function(t){return t==null?e:n(t)}}function Wa(n,e){return t=>{if(e&&t==null)return null;if(!Array.isArray(t))throw new Error("not an array");return t.map(r=>n(r))}}function Tc(n,e){return t=>{const r={};for(const s in n){let i=s;if(e&&s in e&&!(i in t)){for(const o of e[s])if(o in t){i=o;break}}try{const o=n[s](t[i]);o!==void 0&&(r[s]=o)}catch(o){const a=o instanceof Error?o.message:"not-an-error";U(!1,`invalid value for value.${s} (${a})`,"BAD_DATA",{value:t})}}return r}}function q7(n){switch(n){case!0:case"true":return!0;case!1:case"false":return!1}A(!1,`invalid boolean; ${JSON.stringify(n)}`,"value",n)}function Oo(n){return A(de(n,!0),"invalid data","value",n),n}function Le(n){return A(de(n,32),"invalid hash","value",n),n}const Z7=Tc({address:se,blockHash:Le,blockNumber:Y,data:Oo,index:Y,removed:ne(q7,!1),topics:Wa(Le),transactionHash:Le,transactionIndex:Y},{index:["logIndex"]});function Y7(n){return Z7(n)}const X7=Tc({hash:ne(Le),parentHash:Le,parentBeaconBlockRoot:ne(Le,null),number:Y,timestamp:Y,nonce:ne(Oo),difficulty:K,gasLimit:K,gasUsed:K,stateRoot:ne(Le,null),receiptsRoot:ne(Le,null),blobGasUsed:ne(K,null),excessBlobGas:ne(K,null),miner:ne(se),prevRandao:ne(Le,null),extraData:Oo,baseFeePerGas:ne(K)},{prevRandao:["mixHash"]});function eE(n){const e=X7(n);return e.transactions=n.transactions.map(t=>typeof t=="string"?t:Pm(t)),e}const tE=Tc({transactionIndex:Y,blockNumber:Y,transactionHash:Le,address:se,topics:Wa(Le),data:Oo,index:Y,blockHash:Le},{index:["logIndex"]});function nE(n){return tE(n)}const rE=Tc({to:ne(se,null),from:ne(se,null),contractAddress:ne(se,null),index:Y,root:ne(G),gasUsed:K,blobGasUsed:ne(K,null),logsBloom:ne(Oo),blockHash:Le,hash:Le,logs:Wa(nE),blockNumber:Y,cumulativeGasUsed:K,effectiveGasPrice:ne(K),blobGasPrice:ne(K,null),status:ne(Y),type:ne(Y,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function sE(n){return rE(n)}function Pm(n){n.to&&K(n.to)===Vb&&(n.to="0x0000000000000000000000000000000000000000");const e=Tc({hash:Le,index:ne(Y,void 0),type:t=>t==="0x"||t==null?0:Y(t),accessList:ne(ei,null),blobVersionedHashes:ne(Wa(Le,!0),null),authorizationList:ne(Wa(t=>{let r;if(t.signature)r=t.signature;else{let s=t.yParity;s==="0x1b"?s=0:s==="0x1c"&&(s=1),r=Object.assign({},t,{yParity:s})}return{address:se(t.address),chainId:K(t.chainId),nonce:K(t.nonce),signature:ct.from(r)}},!1),null),blockHash:ne(Le,null),blockNumber:ne(Y,null),transactionIndex:ne(Y,null),from:se,gasPrice:ne(K),maxPriorityFeePerGas:ne(K),maxFeePerGas:ne(K),maxFeePerBlobGas:ne(K,null),gasLimit:K,to:ne(se,null),value:K,nonce:Y,data:Oo,creates:ne(se,null),chainId:ne(K,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(n);if(e.to==null&&e.creates==null&&(e.creates=V9(e)),(n.type===1||n.type===2)&&n.accessList==null&&(e.accessList=[]),n.signature?e.signature=ct.from(n.signature):e.signature=ct.from(n),e.chainId==null){const t=e.signature.legacyChainId;t!=null&&(e.chainId=t)}return e.blockHash&&K(e.blockHash)===Vb&&(e.blockHash=null),e}const iE="0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e";class Oc{constructor(e){N(this,"name");q(this,{name:e})}clone(){return new Oc(this.name)}}class vu extends Oc{constructor(t,r){t==null&&(t=0);super(`org.ethers.network.plugins.GasCost#${t||0}`);N(this,"effectiveBlock");N(this,"txBase");N(this,"txCreate");N(this,"txDataZero");N(this,"txDataNonzero");N(this,"txAccessListStorageKey");N(this,"txAccessListAddress");const s={effectiveBlock:t};function i(o,a){let c=(r||{})[o];c==null&&(c=a),A(typeof c=="number",`invalud value for ${o}`,"costs",r),s[o]=c}i("txBase",21e3),i("txCreate",32e3),i("txDataZero",4),i("txDataNonzero",16),i("txAccessListStorageKey",1900),i("txAccessListAddress",2400),q(this,s)}clone(){return new vu(this.effectiveBlock,this)}}class Pu extends Oc{constructor(t,r){super("org.ethers.plugins.network.Ens");N(this,"address");N(this,"targetNetwork");q(this,{address:t||iE,targetNetwork:r??1})}clone(){return new Pu(this.address,this.targetNetwork)}}var ic,oc;class oE extends Oc{constructor(t,r){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin");O(this,ic);O(this,oc);y(this,ic,t),y(this,oc,r)}get url(){return b(this,ic)}get processFunc(){return b(this,oc)}clone(){return this}}ic=new WeakMap,oc=new WeakMap;const lf=new Map;var Xi,eo,Tr;const yi=class yi{constructor(e,t){O(this,Xi);O(this,eo);O(this,Tr);y(this,Xi,e),y(this,eo,K(t)),y(this,Tr,new Map)}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return b(this,Xi)}set name(e){y(this,Xi,e)}get chainId(){return b(this,eo)}set chainId(e){y(this,eo,K(e,"chainId"))}matches(e){if(e==null)return!1;if(typeof e=="string"){try{return this.chainId===K(e)}catch{}return this.name===e}if(typeof e=="number"||typeof e=="bigint"){try{return this.chainId===K(e)}catch{}return!1}if(typeof e=="object"){if(e.chainId!=null){try{return this.chainId===K(e.chainId)}catch{}return!1}return e.name!=null?this.name===e.name:!1}return!1}get plugins(){return Array.from(b(this,Tr).values())}attachPlugin(e){if(b(this,Tr).get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return b(this,Tr).set(e.name,e.clone()),this}getPlugin(e){return b(this,Tr).get(e)||null}getPlugins(e){return this.plugins.filter(t=>t.name.split("#")[0]===e)}clone(){const e=new yi(this.name,this.chainId);return this.plugins.forEach(t=>{e.attachPlugin(t.clone())}),e}computeIntrinsicGas(e){const t=this.getPlugin("org.ethers.plugins.network.GasCost")||new vu;let r=t.txBase;if(e.to==null&&(r+=t.txCreate),e.data)for(let s=2;s<e.data.length;s+=2)e.data.substring(s,s+2)==="00"?r+=t.txDataZero:r+=t.txDataNonzero;if(e.accessList){const s=ei(e.accessList);for(const i in s)r+=t.txAccessListAddress+t.txAccessListStorageKey*s[i].storageKeys.length}return r}static from(e){if(aE(),e==null)return yi.from("mainnet");if(typeof e=="number"&&(e=BigInt(e)),typeof e=="string"||typeof e=="bigint"){const t=lf.get(e);if(t)return t();if(typeof e=="bigint")return new yi("unknown",e);A(!1,"unknown network","network",e)}if(typeof e.clone=="function")return e.clone();if(typeof e=="object"){A(typeof e.name=="string"&&typeof e.chainId=="number","invalid network object name or chainId","network",e);const t=new yi(e.name,e.chainId);return(e.ensAddress||e.ensNetwork!=null)&&t.attachPlugin(new Pu(e.ensAddress,e.ensNetwork)),t}A(!1,"invalid network","network",e)}static register(e,t){typeof e=="number"&&(e=BigInt(e));const r=lf.get(e);r&&A(!1,`conflicting network for ${JSON.stringify(r.name)}`,"nameOrChainId",e),lf.set(e,t)}};Xi=new WeakMap,eo=new WeakMap,Tr=new WeakMap;let En=yi;function Kb(n,e){const t=String(n);if(!t.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${n}`);const r=t.split(".");if(r.length===1&&r.push(""),r.length!==2)throw new Error(`invalid gwei value: ${n}`);for(;r[1].length<e;)r[1]+="0";if(r[1].length>9){let s=BigInt(r[1].substring(0,9));r[1].substring(9).match(/^0+$/)||s++,r[1]=s.toString()}return BigInt(r[0]+r[1])}function Qb(n){return new oE(n,async(e,t,r)=>{r.setHeader("User-Agent","ethers");let s;try{const[i,o]=await Promise.all([r.send(),e()]);s=i;const a=s.bodyJson.standard;return{gasPrice:o.gasPrice,maxFeePerGas:Kb(a.maxFee,9),maxPriorityFeePerGas:Kb(a.maxPriorityFee,9)}}catch(i){U(!1,`error encountered with polygon gas station (${JSON.stringify(r.url)})`,"SERVER_ERROR",{request:r,response:s,error:i})}})}let Jb=!1;function aE(){if(Jb)return;Jb=!0;function n(e,t,r){const s=function(){const i=new En(e,t);return r.ensNetwork!=null&&i.attachPlugin(new Pu(null,r.ensNetwork)),i.attachPlugin(new vu),(r.plugins||[]).forEach(o=>{i.attachPlugin(o)}),i};En.register(e,s),En.register(t,s),r.altNames&&r.altNames.forEach(i=>{En.register(i,s)})}n("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),n("ropsten",3,{ensNetwork:3}),n("rinkeby",4,{ensNetwork:4}),n("goerli",5,{ensNetwork:5}),n("kovan",42,{ensNetwork:42}),n("sepolia",11155111,{ensNetwork:11155111}),n("holesky",17e3,{ensNetwork:17e3}),n("classic",61,{}),n("classicKotti",6,{}),n("arbitrum",42161,{ensNetwork:1}),n("arbitrum-goerli",421613,{}),n("arbitrum-sepolia",421614,{}),n("base",8453,{ensNetwork:1}),n("base-goerli",84531,{}),n("base-sepolia",84532,{}),n("bnb",56,{ensNetwork:1}),n("bnbt",97,{}),n("linea",59144,{ensNetwork:1}),n("linea-goerli",59140,{}),n("linea-sepolia",59141,{}),n("matic",137,{ensNetwork:1,plugins:[Qb("https://gasstation.polygon.technology/v2")]}),n("matic-amoy",80002,{}),n("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[Qb("https://gasstation-testnet.polygon.technology/v2")]}),n("optimism",10,{ensNetwork:1,plugins:[]}),n("optimism-goerli",420,{}),n("optimism-sepolia",11155420,{}),n("xdai",100,{ensNetwork:1})}function Nl(n){return JSON.parse(JSON.stringify(n))}var Kn,Rt,Or,gn,to,l0;class cE{constructor(e){O(this,to);O(this,Kn);O(this,Rt);O(this,Or);O(this,gn);y(this,Kn,e),y(this,Rt,null),y(this,Or,4e3),y(this,gn,-2)}get pollingInterval(){return b(this,Or)}set pollingInterval(e){y(this,Or,e)}start(){b(this,Rt)||(y(this,Rt,b(this,Kn)._setTimeout(F(this,to,l0).bind(this),b(this,Or))),F(this,to,l0).call(this))}stop(){b(this,Rt)&&(b(this,Kn)._clearTimeout(b(this,Rt)),y(this,Rt,null))}pause(e){this.stop(),e&&y(this,gn,-2)}resume(){this.start()}}Kn=new WeakMap,Rt=new WeakMap,Or=new WeakMap,gn=new WeakMap,to=new WeakSet,l0=async function(){try{const e=await b(this,Kn).getBlockNumber();if(b(this,gn)===-2){y(this,gn,e);return}if(e!==b(this,gn)){for(let t=b(this,gn)+1;t<=e;t++){if(b(this,Rt)==null)return;await b(this,Kn).emit("block",t)}y(this,gn,e)}}catch{}b(this,Rt)!=null&&y(this,Rt,b(this,Kn)._setTimeout(F(this,to,l0).bind(this),b(this,Or)))};var Cs,Ns,kr;class Gd{constructor(e){O(this,Cs);O(this,Ns);O(this,kr);y(this,Cs,e),y(this,kr,!1),y(this,Ns,t=>{this._poll(t,b(this,Cs))})}async _poll(e,t){throw new Error("sub-classes must override this")}start(){b(this,kr)||(y(this,kr,!0),b(this,Ns).call(this,-2),b(this,Cs).on("block",b(this,Ns)))}stop(){b(this,kr)&&(y(this,kr,!1),b(this,Cs).off("block",b(this,Ns)))}pause(e){this.stop()}resume(){this.start()}}Cs=new WeakMap,Ns=new WeakMap,kr=new WeakMap;var no,Qn;class uE extends Gd{constructor(t,r){super(t);O(this,no);O(this,Qn);y(this,no,r),y(this,Qn,-2)}pause(t){t&&y(this,Qn,-2),super.pause(t)}async _poll(t,r){const s=await r.getBlock(b(this,no));s!=null&&(b(this,Qn)===-2?y(this,Qn,s.number):s.number>b(this,Qn)&&(r.emit(b(this,no),s.number),y(this,Qn,s.number)))}}no=new WeakMap,Qn=new WeakMap;var j0;class fE extends Gd{constructor(t,r){super(t);O(this,j0);y(this,j0,Nl(r))}async _poll(t,r){throw new Error("@TODO")}}j0=new WeakMap;var ro;class lE extends Gd{constructor(t,r){super(t);O(this,ro);y(this,ro,r)}async _poll(t,r){const s=await r.getTransactionReceipt(b(this,ro));s&&r.emit(b(this,ro),s)}}ro=new WeakMap;var Jn,so,io,Rr,Ut,V0,Im;class zd{constructor(e,t){O(this,V0);O(this,Jn);O(this,so);O(this,io);O(this,Rr);O(this,Ut);y(this,Jn,e),y(this,so,Nl(t)),y(this,io,F(this,V0,Im).bind(this)),y(this,Rr,!1),y(this,Ut,-2)}start(){b(this,Rr)||(y(this,Rr,!0),b(this,Ut)===-2&&b(this,Jn).getBlockNumber().then(e=>{y(this,Ut,e)}),b(this,Jn).on("block",b(this,io)))}stop(){b(this,Rr)&&(y(this,Rr,!1),b(this,Jn).off("block",b(this,io)))}pause(e){this.stop(),e&&y(this,Ut,-2)}resume(){this.start()}}Jn=new WeakMap,so=new WeakMap,io=new WeakMap,Rr=new WeakMap,Ut=new WeakMap,V0=new WeakSet,Im=async function(e){if(b(this,Ut)===-2)return;const t=Nl(b(this,so));t.fromBlock=b(this,Ut)+1,t.toBlock=e;const r=await b(this,Jn).getLogs(t);if(r.length===0){b(this,Ut)<e-60&&y(this,Ut,e-60);return}for(const s of r)b(this,Jn).emit(b(this,so),s),y(this,Ut,s.blockNumber)};const dE=BigInt(2),hE=10;function Yc(n){return n&&typeof n.then=="function"}function d0(n,e){return n+":"+JSON.stringify(e,(t,r)=>{if(r==null)return"null";if(typeof r=="bigint")return`bigint:${r.toString()}`;if(typeof r=="string")return r.toLowerCase();if(typeof r=="object"&&!Array.isArray(r)){const s=Object.keys(r);return s.sort(),s.reduce((i,o)=>(i[o]=r[o],i),{})}return r})}class Cm{constructor(e){N(this,"name");q(this,{name:e})}start(){}stop(){}pause(e){}resume(){}}function bE(n){return JSON.parse(JSON.stringify(n))}function Bl(n){return n=Array.from(new Set(n).values()),n.sort(),n}async function df(n,e){if(n==null)throw new Error("invalid event");if(Array.isArray(n)&&(n={topics:n}),typeof n=="string")switch(n){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:n,tag:n}}if(de(n,32)){const t=n.toLowerCase();return{type:"transaction",tag:d0("tx",{hash:t}),hash:t}}if(n.orphan){const t=n;return{type:"orphan",tag:d0("orphan",t),filter:bE(t)}}if(n.address||n.topics){const t=n,r={topics:(t.topics||[]).map(s=>s==null?null:Array.isArray(s)?Bl(s.map(i=>i.toLowerCase())):s.toLowerCase())};if(t.address){const s=[],i=[],o=a=>{de(a)?s.push(a):i.push((async()=>{s.push(await Oe(a,e))})())};Array.isArray(t.address)?t.address.forEach(o):o(t.address),i.length&&await Promise.all(i),r.address=Bl(s.map(a=>a.toLowerCase()))}return{filter:r,tag:d0("event",r),type:"event"}}A(!1,"unknown ProviderEvent","event",n)}function hf(){return new Date().getTime()}const xE={cacheTimeout:250,pollingInterval:4e3};var He,Ur,_e,oo,mt,Bs,Fr,Wn,ac,Ft,ao,co,ee,ht,Sl,Tl,sa,Ol,ia,h0;class pE{constructor(e,t){O(this,ee);O(this,He);O(this,Ur);O(this,_e);O(this,oo);O(this,mt);O(this,Bs);O(this,Fr);O(this,Wn);O(this,ac);O(this,Ft);O(this,ao);O(this,co);if(y(this,co,Object.assign({},xE,t||{})),e==="any")y(this,Bs,!0),y(this,mt,null);else if(e){const r=En.from(e);y(this,Bs,!1),y(this,mt,Promise.resolve(r)),setTimeout(()=>{this.emit("network",r,null)},0)}else y(this,Bs,!1),y(this,mt,null);y(this,Wn,-1),y(this,Fr,new Map),y(this,He,new Map),y(this,Ur,new Map),y(this,_e,null),y(this,oo,!1),y(this,ac,1),y(this,Ft,new Map),y(this,ao,!1)}get pollingInterval(){return b(this,co).pollingInterval}get provider(){return this}get plugins(){return Array.from(b(this,Ur).values())}attachPlugin(e){if(b(this,Ur).get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return b(this,Ur).set(e.name,e.connect(this)),this}getPlugin(e){return b(this,Ur).get(e)||null}get disableCcipRead(){return b(this,ao)}set disableCcipRead(e){y(this,ao,!!e)}async ccipReadFetch(e,t,r){if(this.disableCcipRead||r.length===0||e.to==null)return null;const s=e.to.toLowerCase(),i=t.toLowerCase(),o=[];for(let a=0;a<r.length;a++){const c=r[a],u=c.replace("{sender}",s).replace("{data}",i),f=new ir(u);c.indexOf("{data}")===-1&&(f.body={data:i,sender:s}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:f,index:a,urls:r});let l="unknown error",d;try{d=await f.send()}catch(h){o.push(h.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:f,result:{error:h}});continue}try{const h=d.bodyJson;if(h.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:f,result:h}),h.data;h.message&&(l=h.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:f,result:h})}catch{}U(d.statusCode<400||d.statusCode>=500,`response not found during CCIP fetch: ${l}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:e,info:{url:c,errorMessage:l}}),o.push(l)}U(!1,`error encountered during CCIP fetch: ${o.map(a=>JSON.stringify(a)).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:e,info:{urls:r,errorMessages:o}})}_wrapBlock(e,t){return new F7(eE(e),this)}_wrapLog(e,t){return new Sc(Y7(e),this)}_wrapTransactionReceipt(e,t){return new lm(sE(e),this)}_wrapTransactionResponse(e,t){return new Ja(Pm(e),this)}_detectNetwork(){U(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(e){U(!1,`unsupported method: ${e.method}`,"UNSUPPORTED_OPERATION",{operation:e.method,info:e})}async getBlockNumber(){const e=Y(await F(this,ee,ht).call(this,{method:"getBlockNumber"}),"%response");return b(this,Wn)>=0&&y(this,Wn,e),e}_getAddress(e){return Oe(e,this)}_getBlockTag(e){if(e==null)return"latest";switch(e){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return e}if(de(e))return de(e,32)?e:Zt(e);if(typeof e=="bigint"&&(e=Y(e,"blockTag")),typeof e=="number")return e>=0?Zt(e):b(this,Wn)>=0?Zt(b(this,Wn)+e):this.getBlockNumber().then(t=>Zt(t+e));A(!1,"invalid blockTag","blockTag",e)}_getFilter(e){const t=(e.topics||[]).map(c=>c==null?null:Array.isArray(c)?Bl(c.map(u=>u.toLowerCase())):c.toLowerCase()),r="blockHash"in e?e.blockHash:void 0,s=(c,u,f)=>{let l;switch(c.length){case 0:break;case 1:l=c[0];break;default:c.sort(),l=c}if(r&&(u!=null||f!=null))throw new Error("invalid filter");const d={};return l&&(d.address=l),t.length&&(d.topics=t),u&&(d.fromBlock=u),f&&(d.toBlock=f),r&&(d.blockHash=r),d};let i=[];if(e.address)if(Array.isArray(e.address))for(const c of e.address)i.push(this._getAddress(c));else i.push(this._getAddress(e.address));let o;"fromBlock"in e&&(o=this._getBlockTag(e.fromBlock));let a;return"toBlock"in e&&(a=this._getBlockTag(e.toBlock)),i.filter(c=>typeof c!="string").length||o!=null&&typeof o!="string"||a!=null&&typeof a!="string"?Promise.all([Promise.all(i),o,a]).then(c=>s(c[0],c[1],c[2])):s(i,o,a)}_getTransactionRequest(e){const t=Qa(e),r=[];if(["to","from"].forEach(s=>{if(t[s]==null)return;const i=Oe(t[s],this);Yc(i)?r.push(async function(){t[s]=await i}()):t[s]=i}),t.blockTag!=null){const s=this._getBlockTag(t.blockTag);Yc(s)?r.push(async function(){t.blockTag=await s}()):t.blockTag=s}return r.length?async function(){return await Promise.all(r),t}():t}async getNetwork(){if(b(this,mt)==null){const s=(async()=>{try{const i=await this._detectNetwork();return this.emit("network",i,null),i}catch(i){throw b(this,mt)===s&&y(this,mt,null),i}})();return y(this,mt,s),(await s).clone()}const e=b(this,mt),[t,r]=await Promise.all([e,this._detectNetwork()]);return t.chainId!==r.chainId&&(b(this,Bs)?(this.emit("network",r,t),b(this,mt)===e&&y(this,mt,Promise.resolve(r))):U(!1,`network changed: ${t.chainId} => ${r.chainId} `,"NETWORK_ERROR",{event:"changed"})),t.clone()}async getFeeData(){const e=await this.getNetwork(),t=async()=>{const{_block:s,gasPrice:i,priorityFee:o}=await je({_block:F(this,ee,Ol).call(this,"latest",!1),gasPrice:(async()=>{try{const f=await F(this,ee,ht).call(this,{method:"getGasPrice"});return K(f,"%response")}catch{}return null})(),priorityFee:(async()=>{try{const f=await F(this,ee,ht).call(this,{method:"getPriorityFee"});return K(f,"%response")}catch{}return null})()});let a=null,c=null;const u=this._wrapBlock(s,e);return u&&u.baseFeePerGas&&(c=o??BigInt("1000000000"),a=u.baseFeePerGas*dE+c),new zb(i,a,c)},r=e.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(r){const s=new ir(r.url),i=await r.processFunc(t,this,s);return new zb(i.gasPrice,i.maxFeePerGas,i.maxPriorityFeePerGas)}return await t()}async estimateGas(e){let t=this._getTransactionRequest(e);return Yc(t)&&(t=await t),K(await F(this,ee,ht).call(this,{method:"estimateGas",transaction:t}),"%response")}async call(e){const{tx:t,blockTag:r}=await je({tx:this._getTransactionRequest(e),blockTag:this._getBlockTag(e.blockTag)});return await F(this,ee,Tl).call(this,F(this,ee,Sl).call(this,t,r,e.enableCcipRead?0:-1))}async getBalance(e,t){return K(await F(this,ee,sa).call(this,{method:"getBalance"},e,t),"%response")}async getTransactionCount(e,t){return Y(await F(this,ee,sa).call(this,{method:"getTransactionCount"},e,t),"%response")}async getCode(e,t){return G(await F(this,ee,sa).call(this,{method:"getCode"},e,t))}async getStorage(e,t,r){const s=K(t,"position");return G(await F(this,ee,sa).call(this,{method:"getStorage",position:s},e,r))}async broadcastTransaction(e){const{blockNumber:t,hash:r,network:s}=await je({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:e}),network:this.getNetwork()}),i=Ga.from(e);if(i.hash!==r)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(i,s).replaceableTransaction(t)}async getBlock(e,t){const{network:r,params:s}=await je({network:this.getNetwork(),params:F(this,ee,Ol).call(this,e,!!t)});return s==null?null:this._wrapBlock(s,r)}async getTransaction(e){const{network:t,params:r}=await je({network:this.getNetwork(),params:F(this,ee,ht).call(this,{method:"getTransaction",hash:e})});return r==null?null:this._wrapTransactionResponse(r,t)}async getTransactionReceipt(e){const{network:t,params:r}=await je({network:this.getNetwork(),params:F(this,ee,ht).call(this,{method:"getTransactionReceipt",hash:e})});if(r==null)return null;if(r.gasPrice==null&&r.effectiveGasPrice==null){const s=await F(this,ee,ht).call(this,{method:"getTransaction",hash:e});if(s==null)throw new Error("report this; could not find tx or effectiveGasPrice");r.effectiveGasPrice=s.gasPrice}return this._wrapTransactionReceipt(r,t)}async getTransactionResult(e){const{result:t}=await je({network:this.getNetwork(),result:F(this,ee,ht).call(this,{method:"getTransactionResult",hash:e})});return t==null?null:G(t)}async getLogs(e){let t=this._getFilter(e);Yc(t)&&(t=await t);const{network:r,params:s}=await je({network:this.getNetwork(),params:F(this,ee,ht).call(this,{method:"getLogs",filter:t})});return s.map(i=>this._wrapLog(i,r))}_getProvider(e){U(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(e){return await U0.fromName(this,e)}async getAvatar(e){const t=await this.getResolver(e);return t?await t.getAvatar():null}async resolveName(e){const t=await this.getResolver(e);return t?await t.getAddress():null}async lookupAddress(e){e=se(e);const t=Al(e.substring(2).toLowerCase()+".addr.reverse");try{const r=await U0.getEnsAddress(this),i=await new fa(r,["function resolver(bytes32) view returns (address)"],this).resolver(t);if(i==null||i===$a)return null;const a=await new fa(i,["function name(bytes32) view returns (string)"],this).name(t);return await this.resolveName(a)!==e?null:a}catch(r){if(Me(r,"BAD_DATA")&&r.value==="0x"||Me(r,"CALL_EXCEPTION"))return null;throw r}return null}async waitForTransaction(e,t,r){const s=t??1;return s===0?this.getTransactionReceipt(e):new Promise(async(i,o)=>{let a=null;const c=async u=>{try{const f=await this.getTransactionReceipt(e);if(f!=null&&u-f.blockNumber+1>=s){i(f),a&&(clearTimeout(a),a=null);return}}catch(f){console.log("EEE",f)}this.once("block",c)};r!=null&&(a=setTimeout(()=>{a!=null&&(a=null,this.off("block",c),o(pe("timeout","TIMEOUT",{reason:"timeout"})))},r)),c(await this.getBlockNumber())})}async waitForBlock(e){U(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(e){const t=b(this,Ft).get(e);t&&(t.timer&&clearTimeout(t.timer),b(this,Ft).delete(e))}_setTimeout(e,t){t==null&&(t=0);const r=_o(this,ac)._++,s=()=>{b(this,Ft).delete(r),e()};if(this.paused)b(this,Ft).set(r,{timer:null,func:s,time:t});else{const i=setTimeout(s,t);b(this,Ft).set(r,{timer:i,func:s,time:hf()})}return r}_forEachSubscriber(e){for(const t of b(this,He).values())e(t.subscriber)}_getSubscriber(e){switch(e.type){case"debug":case"error":case"network":return new Cm(e.type);case"block":{const t=new cE(this);return t.pollingInterval=this.pollingInterval,t}case"safe":case"finalized":return new uE(this,e.type);case"event":return new zd(this,e.filter);case"transaction":return new lE(this,e.hash);case"orphan":return new fE(this,e.filter)}throw new Error(`unsupported event: ${e.type}`)}_recoverSubscriber(e,t){for(const r of b(this,He).values())if(r.subscriber===e){r.started&&r.subscriber.stop(),r.subscriber=t,r.started&&t.start(),b(this,_e)!=null&&t.pause(b(this,_e));break}}async on(e,t){const r=await F(this,ee,h0).call(this,e);return r.listeners.push({listener:t,once:!1}),r.started||(r.subscriber.start(),r.started=!0,b(this,_e)!=null&&r.subscriber.pause(b(this,_e))),this}async once(e,t){const r=await F(this,ee,h0).call(this,e);return r.listeners.push({listener:t,once:!0}),r.started||(r.subscriber.start(),r.started=!0,b(this,_e)!=null&&r.subscriber.pause(b(this,_e))),this}async emit(e,...t){const r=await F(this,ee,ia).call(this,e,t);if(!r||r.listeners.length===0)return!1;const s=r.listeners.length;return r.listeners=r.listeners.filter(({listener:i,once:o})=>{const a=new wp(this,o?null:i,e);try{i.call(this,...t,a)}catch{}return!o}),r.listeners.length===0&&(r.started&&r.subscriber.stop(),b(this,He).delete(r.tag)),s>0}async listenerCount(e){if(e){const r=await F(this,ee,ia).call(this,e);return r?r.listeners.length:0}let t=0;for(const{listeners:r}of b(this,He).values())t+=r.length;return t}async listeners(e){if(e){const r=await F(this,ee,ia).call(this,e);return r?r.listeners.map(({listener:s})=>s):[]}let t=[];for(const{listeners:r}of b(this,He).values())t=t.concat(r.map(({listener:s})=>s));return t}async off(e,t){const r=await F(this,ee,ia).call(this,e);if(!r)return this;if(t){const s=r.listeners.map(({listener:i})=>i).indexOf(t);s>=0&&r.listeners.splice(s,1)}return(!t||r.listeners.length===0)&&(r.started&&r.subscriber.stop(),b(this,He).delete(r.tag)),this}async removeAllListeners(e){if(e){const{tag:t,started:r,subscriber:s}=await F(this,ee,h0).call(this,e);r&&s.stop(),b(this,He).delete(t)}else for(const[t,{started:r,subscriber:s}]of b(this,He))r&&s.stop(),b(this,He).delete(t);return this}async addListener(e,t){return await this.on(e,t)}async removeListener(e,t){return this.off(e,t)}get destroyed(){return b(this,oo)}destroy(){this.removeAllListeners();for(const e of b(this,Ft).keys())this._clearTimeout(e);y(this,oo,!0)}get paused(){return b(this,_e)!=null}set paused(e){!!e!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(e){if(y(this,Wn,-1),b(this,_e)!=null){if(b(this,_e)==!!e)return;U(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber(t=>t.pause(e)),y(this,_e,!!e);for(const t of b(this,Ft).values())t.timer&&clearTimeout(t.timer),t.time=hf()-t.time}resume(){if(b(this,_e)!=null){this._forEachSubscriber(e=>e.resume()),y(this,_e,null);for(const e of b(this,Ft).values()){let t=e.time;t<0&&(t=0),e.time=hf(),setTimeout(e.func,t)}}}}He=new WeakMap,Ur=new WeakMap,_e=new WeakMap,oo=new WeakMap,mt=new WeakMap,Bs=new WeakMap,Fr=new WeakMap,Wn=new WeakMap,ac=new WeakMap,Ft=new WeakMap,ao=new WeakMap,co=new WeakMap,ee=new WeakSet,ht=async function(e){const t=b(this,co).cacheTimeout;if(t<0)return await this._perform(e);const r=d0(e.method,e);let s=b(this,Fr).get(r);return s||(s=this._perform(e),b(this,Fr).set(r,s),setTimeout(()=>{b(this,Fr).get(r)===s&&b(this,Fr).delete(r)},t)),await s},Sl=async function(e,t,r){U(r<hE,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},e,{blockTag:t,enableCcipRead:!0})});const s=Qa(e);try{return G(await this._perform({method:"call",transaction:s,blockTag:t}))}catch(i){if(!this.disableCcipRead&&wd(i)&&i.data&&r>=0&&t==="latest"&&s.to!=null&&he(i.data,0,4)==="0x556f1830"){const o=i.data,a=await Oe(s.to,this);let c;try{c=AE(he(i.data,4))}catch(l){U(!1,l.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:s,info:{data:o}})}U(c.sender.toLowerCase()===a.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:o,reason:"OffchainLookup",transaction:s,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:c.errorArgs}});const u=await this.ccipReadFetch(s,c.calldata,c.urls);U(u!=null,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:s,info:{data:i.data,errorArgs:c.errorArgs}});const f={to:a,data:ce([c.selector,wE([u,c.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:f});try{const l=await F(this,ee,Sl).call(this,f,t,r+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},f),result:l}),l}catch(l){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},f),error:l}),l}}throw i}},Tl=async function(e){const{value:t}=await je({network:this.getNetwork(),value:e});return t},sa=async function(e,t,r){let s=this._getAddress(t),i=this._getBlockTag(r);return(typeof s!="string"||typeof i!="string")&&([s,i]=await Promise.all([s,i])),await F(this,ee,Tl).call(this,F(this,ee,ht).call(this,Object.assign(e,{address:s,blockTag:i})))},Ol=async function(e,t){if(de(e,32))return await F(this,ee,ht).call(this,{method:"getBlock",blockHash:e,includeTransactions:t});let r=this._getBlockTag(e);return typeof r!="string"&&(r=await r),await F(this,ee,ht).call(this,{method:"getBlock",blockTag:r,includeTransactions:t})},ia=async function(e,t){let r=await df(e,this);return r.type==="event"&&t&&t.length>0&&t[0].removed===!0&&(r=await df({orphan:"drop-log",log:t[0]},this)),b(this,He).get(r.tag)||null},h0=async function(e){const t=await df(e,this),r=t.tag;let s=b(this,He).get(r);return s||(s={subscriber:this._getSubscriber(t),tag:r,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},b(this,He).set(r,s)),s};function gE(n,e){try{const t=kl(n,e);if(t)return N0(t)}catch{}return null}function kl(n,e){if(n==="0x")return null;try{const t=Y(he(n,e,e+32)),r=Y(he(n,t,t+32));return he(n,t+32,t+32+r)}catch{}return null}function Wb(n){const e=we(n);if(e.length>32)throw new Error("internal; should not happen");const t=new Uint8Array(32);return t.set(e,32-e.length),t}function mE(n){if(n.length%32===0)return n;const e=new Uint8Array(Math.ceil(n.length/32)*32);return e.set(n),e}const yE=new Uint8Array([]);function wE(n){const e=[];let t=0;for(let r=0;r<n.length;r++)e.push(yE),t+=32;for(let r=0;r<n.length;r++){const s=V(n[r]);e[r]=Wb(t),e.push(Wb(s.length)),e.push(mE(s)),t+=32+Math.ceil(s.length/32)*32}return ce(e)}const qb="0x0000000000000000000000000000000000000000000000000000000000000000";function AE(n){const e={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};U(Ei(n)>=5*32,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});const t=he(n,0,32);U(he(t,0,12)===he(qb,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),e.sender=he(t,12);try{const r=[],s=Y(he(n,32,64)),i=Y(he(n,s,s+32)),o=he(n,s+32);for(let a=0;a<i;a++){const c=gE(o,a*32);if(c==null)throw new Error("abort");r.push(c)}e.urls=r}catch{U(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{const r=kl(n,64);if(r==null)throw new Error("abort");e.calldata=r}catch{U(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}U(he(n,100,128)===he(qb,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),e.selector=he(n,96,100);try{const r=kl(n,128);if(r==null)throw new Error("abort");e.extraData=r}catch{U(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return e.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map(r=>e[r]),e}function Yr(n,e){if(n.provider)return n.provider;U(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:e})}async function Zb(n,e){let t=Qa(e);if(t.to!=null&&(t.to=Oe(t.to,n)),t.from!=null){const r=t.from;t.from=Promise.all([n.getAddress(),Oe(r,n)]).then(([s,i])=>(A(s.toLowerCase()===i.toLowerCase(),"transaction from mismatch","tx.from",i),s))}else t.from=n.getAddress();return await je(t)}class Hd{constructor(e){N(this,"provider");q(this,{provider:e||null})}async getNonce(e){return Yr(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){return await Zb(this,e)}async populateTransaction(e){const t=Yr(this,"populateTransaction"),r=await Zb(this,e);r.nonce==null&&(r.nonce=await this.getNonce("pending")),r.gasLimit==null&&(r.gasLimit=await this.estimateGas(r));const s=await this.provider.getNetwork();if(r.chainId!=null){const o=K(r.chainId);A(o===s.chainId,"transaction chainId mismatch","tx.chainId",e.chainId)}else r.chainId=s.chainId;const i=r.maxFeePerGas!=null||r.maxPriorityFeePerGas!=null;if(r.gasPrice!=null&&(r.type===2||i)?A(!1,"eip-1559 transaction do not support gasPrice","tx",e):(r.type===0||r.type===1)&&i&&A(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e),(r.type===2||r.type==null)&&r.maxFeePerGas!=null&&r.maxPriorityFeePerGas!=null)r.type=2;else if(r.type===0||r.type===1){const o=await t.getFeeData();U(o.gasPrice!=null,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),r.gasPrice==null&&(r.gasPrice=o.gasPrice)}else{const o=await t.getFeeData();if(r.type==null)if(o.maxFeePerGas!=null&&o.maxPriorityFeePerGas!=null)if(r.authorizationList&&r.authorizationList.length?r.type=4:r.type=2,r.gasPrice!=null){const a=r.gasPrice;delete r.gasPrice,r.maxFeePerGas=a,r.maxPriorityFeePerGas=a}else r.maxFeePerGas==null&&(r.maxFeePerGas=o.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=o.maxPriorityFeePerGas);else o.gasPrice!=null?(U(!i,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),r.gasPrice==null&&(r.gasPrice=o.gasPrice),r.type=0):U(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else(r.type===2||r.type===3||r.type===4)&&(r.maxFeePerGas==null&&(r.maxFeePerGas=o.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=o.maxPriorityFeePerGas))}return await je(r)}async populateAuthorization(e){const t=Object.assign({},e);return t.chainId==null&&(t.chainId=(await Yr(this,"getNetwork").getNetwork()).chainId),t.nonce==null&&(t.nonce=await this.getNonce()),t}async estimateGas(e){return Yr(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return Yr(this,"call").call(await this.populateCall(e))}async resolveName(e){return await Yr(this,"resolveName").resolveName(e)}async sendTransaction(e){const t=Yr(this,"sendTransaction"),r=await this.populateTransaction(e);delete r.from;const s=Ga.from(r);return await t.broadcastTransaction(await this.signTransaction(s))}authorize(e){U(!1,"authorization not implemented for this signer","UNSUPPORTED_OPERATION",{operation:"authorize"})}}var uo,b0;const Jd=class Jd extends Hd{constructor(t,r){super(r);O(this,uo);N(this,"address");q(this,{address:t})}async getAddress(){return this.address}connect(t){return new Jd(this.address,t)}async signTransaction(t){F(this,uo,b0).call(this,"transactions","signTransaction")}async signMessage(t){F(this,uo,b0).call(this,"messages","signMessage")}async signTypedData(t,r,s){F(this,uo,b0).call(this,"typed-data","signTypedData")}};uo=new WeakSet,b0=function(t,r){U(!1,`VoidSigner cannot sign ${t}`,"UNSUPPORTED_OPERATION",{operation:r})};let Rl=Jd;function EE(n){return JSON.parse(JSON.stringify(n))}var Je,mn,Ss,Lr,Ts,fo,Kr,Ul,Fl;class Nm{constructor(e){O(this,Kr);O(this,Je);O(this,mn);O(this,Ss);O(this,Lr);O(this,Ts);O(this,fo);y(this,Je,e),y(this,mn,null),y(this,Ss,F(this,Kr,Ul).bind(this)),y(this,Lr,!1),y(this,Ts,null),y(this,fo,!1)}_subscribe(e){throw new Error("subclasses must override this")}_emitResults(e,t){throw new Error("subclasses must override this")}_recover(e){throw new Error("subclasses must override this")}start(){b(this,Lr)||(y(this,Lr,!0),F(this,Kr,Ul).call(this,-2))}stop(){b(this,Lr)&&(y(this,Lr,!1),y(this,fo,!0),F(this,Kr,Fl).call(this),b(this,Je).off("block",b(this,Ss)))}pause(e){e&&F(this,Kr,Fl).call(this),b(this,Je).off("block",b(this,Ss))}resume(){this.start()}}Je=new WeakMap,mn=new WeakMap,Ss=new WeakMap,Lr=new WeakMap,Ts=new WeakMap,fo=new WeakMap,Kr=new WeakSet,Ul=async function(e){try{b(this,mn)==null&&y(this,mn,this._subscribe(b(this,Je)));let t=null;try{t=await b(this,mn)}catch(i){if(!Me(i,"UNSUPPORTED_OPERATION")||i.operation!=="eth_newFilter")throw i}if(t==null){y(this,mn,null),b(this,Je)._recoverSubscriber(this,this._recover(b(this,Je)));return}const r=await b(this,Je).getNetwork();if(b(this,Ts)||y(this,Ts,r),b(this,Ts).chainId!==r.chainId)throw new Error("chaid changed");if(b(this,fo))return;const s=await b(this,Je).send("eth_getFilterChanges",[t]);await this._emitResults(b(this,Je),s)}catch(t){console.log("@TODO",t)}b(this,Je).once("block",b(this,Ss))},Fl=function(){const e=b(this,mn);e&&(y(this,mn,null),e.then(t=>{b(this,Je).destroyed||b(this,Je).send("eth_uninstallFilter",[t])}))};var Os;class vE extends Nm{constructor(t,r){super(t);O(this,Os);y(this,Os,EE(r))}_recover(t){return new zd(t,b(this,Os))}async _subscribe(t){return await t.send("eth_newFilter",[b(this,Os)])}async _emitResults(t,r){for(const s of r)t.emit(b(this,Os),t._wrapLog(s,t._network))}}Os=new WeakMap;class PE extends Nm{async _subscribe(e){return await e.send("eth_newPendingTransactionFilter",[])}async _emitResults(e,t){for(const r of t)e.emit("pending",r)}}const IE="bigint,boolean,function,number,string,symbol".split(/,/g);function x0(n){if(n==null||IE.indexOf(typeof n)>=0||typeof n.getAddress=="function")return n;if(Array.isArray(n))return n.map(x0);if(typeof n=="object")return Object.keys(n).reduce((e,t)=>(e[t]=n[t],e),{});throw new Error(`should not happen: ${n} (${typeof n})`)}function CE(n){return new Promise(e=>{setTimeout(e,n)})}function ai(n){return n&&n.toLowerCase()}function Yb(n){return n&&typeof n.pollingInterval=="number"}const Bm={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3};class bf extends Hd{constructor(t,r){super(t);N(this,"address");r=se(r),q(this,{address:r})}connect(t){U(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(t){return await this.populateCall(t)}async sendUncheckedTransaction(t){const r=x0(t),s=[];if(r.from){const o=r.from;s.push((async()=>{const a=await Oe(o,this.provider);A(a!=null&&a.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",t),r.from=a})())}else r.from=this.address;if(r.gasLimit==null&&s.push((async()=>{r.gasLimit=await this.provider.estimateGas({...r,from:this.address})})()),r.to!=null){const o=r.to;s.push((async()=>{r.to=await Oe(o,this.provider)})())}s.length&&await Promise.all(s);const i=this.provider.getRpcTransaction(r);return this.provider.send("eth_sendTransaction",[i])}async sendTransaction(t){const r=await this.provider.getBlockNumber(),s=await this.sendUncheckedTransaction(t);return await new Promise((i,o)=>{const a=[1e3,100];let c=0;const u=async()=>{try{const f=await this.provider.getTransaction(s);if(f!=null){i(f.replaceableTransaction(r));return}}catch(f){if(Me(f,"CANCELLED")||Me(f,"BAD_DATA")||Me(f,"NETWORK_ERROR")||Me(f,"UNSUPPORTED_OPERATION")){f.info==null&&(f.info={}),f.info.sendTransactionHash=s,o(f);return}if(Me(f,"INVALID_ARGUMENT")&&(c++,f.info==null&&(f.info={}),f.info.sendTransactionHash=s,c>10)){o(f);return}this.provider.emit("error",pe("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:f}))}this.provider._setTimeout(()=>{u()},a.pop()||4e3)};u()})}async signTransaction(t){const r=x0(t);if(r.from){const i=await Oe(r.from,this.provider);A(i!=null&&i.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",t),r.from=i}else r.from=this.address;const s=this.provider.getRpcTransaction(r);return await this.provider.send("eth_signTransaction",[s])}async signMessage(t){const r=typeof t=="string"?Xe(t):t;return await this.provider.send("personal_sign",[G(r),this.address.toLowerCase()])}async signTypedData(t,r,s){const i=x0(s),o=await To.resolveNames(t,r,i,async a=>{const c=await Oe(a);return A(c!=null,"TypedData does not support null address","value",a),c});return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(To.getPayload(o.domain,r,o.value))])}async unlock(t){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),t,null])}async _legacySignMessage(t){const r=typeof t=="string"?Xe(t):t;return await this.provider.send("eth_sign",[this.address.toLowerCase(),G(r)])}}var ks,lo,qn,yn,qt,Lt,tt,cc,Ll;class NE extends pE{constructor(t,r){super(t,r);O(this,cc);O(this,ks);O(this,lo);O(this,qn);O(this,yn);O(this,qt);O(this,Lt);O(this,tt);y(this,lo,1),y(this,ks,Object.assign({},Bm,r||{})),y(this,qn,[]),y(this,yn,null),y(this,Lt,null),y(this,tt,null);{let i=null;const o=new Promise(a=>{i=a});y(this,qt,{promise:o,resolve:i})}const s=this._getOption("staticNetwork");typeof s=="boolean"?(A(!s||t!=="any","staticNetwork cannot be used on special network 'any'","options",r),s&&t!=null&&y(this,Lt,En.from(t))):s&&(A(t==null||s.matches(t),"staticNetwork MUST match network object","options",r),y(this,Lt,s))}_getOption(t){return b(this,ks)[t]}get _network(){return U(b(this,Lt),"network is not available yet","NETWORK_ERROR"),b(this,Lt)}async _perform(t){if(t.method==="call"||t.method==="estimateGas"){let s=t.transaction;if(s&&s.type!=null&&K(s.type)&&s.maxFeePerGas==null&&s.maxPriorityFeePerGas==null){const i=await this.getFeeData();i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null&&(t=Object.assign({},t,{transaction:Object.assign({},s,{type:void 0})}))}}const r=this.getRpcRequest(t);return r!=null?await this.send(r.method,r.args):super._perform(t)}async _detectNetwork(){const t=this._getOption("staticNetwork");if(t)if(t===!0){if(b(this,Lt))return b(this,Lt)}else return t;return b(this,tt)?await b(this,tt):this.ready?(y(this,tt,(async()=>{try{const r=En.from(K(await this.send("eth_chainId",[])));return y(this,tt,null),r}catch(r){throw y(this,tt,null),r}})()),await b(this,tt)):(y(this,tt,(async()=>{const r={id:_o(this,lo)._++,method:"eth_chainId",params:[],jsonrpc:"2.0"};this.emit("debug",{action:"sendRpcPayload",payload:r});let s;try{s=(await this._send(r))[0],y(this,tt,null)}catch(i){throw y(this,tt,null),this.emit("debug",{action:"receiveRpcError",error:i}),i}if(this.emit("debug",{action:"receiveRpcResult",result:s}),"result"in s)return En.from(K(s.result));throw this.getRpcError(r,s)})()),await b(this,tt))}_start(){b(this,qt)==null||b(this,qt).resolve==null||(b(this,qt).resolve(),y(this,qt,null),(async()=>{for(;b(this,Lt)==null&&!this.destroyed;)try{y(this,Lt,await this._detectNetwork())}catch(t){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",pe("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:t}})),await CE(1e3)}F(this,cc,Ll).call(this)})())}async _waitUntilReady(){if(b(this,qt)!=null)return await b(this,qt).promise}_getSubscriber(t){return t.type==="pending"?new PE(this):t.type==="event"?this._getOption("polling")?new zd(this,t.filter):new vE(this,t.filter):t.type==="orphan"&&t.filter.orphan==="drop-log"?new Cm("orphan"):super._getSubscriber(t)}get ready(){return b(this,qt)==null}getRpcTransaction(t){const r={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(s=>{if(t[s]==null)return;let i=s;s==="gasLimit"&&(i="gas"),r[i]=Zt(K(t[s],`tx.${s}`))}),["from","to","data"].forEach(s=>{t[s]!=null&&(r[s]=G(t[s]))}),t.accessList&&(r.accessList=ei(t.accessList)),t.blobVersionedHashes&&(r.blobVersionedHashes=t.blobVersionedHashes.map(s=>s.toLowerCase())),t.authorizationList&&(r.authorizationList=t.authorizationList.map(s=>{const i=Tg(s);return{address:i.address,nonce:Zt(i.nonce),chainId:Zt(i.chainId),yParity:Zt(i.signature.yParity),r:Zt(i.signature.r),s:Zt(i.signature.s)}})),r}getRpcRequest(t){switch(t.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[ai(t.address),t.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[ai(t.address),t.blockTag]};case"getCode":return{method:"eth_getCode",args:[ai(t.address),t.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[ai(t.address),"0x"+t.position.toString(16),t.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[t.signedTransaction]};case"getBlock":if("blockTag"in t)return{method:"eth_getBlockByNumber",args:[t.blockTag,!!t.includeTransactions]};if("blockHash"in t)return{method:"eth_getBlockByHash",args:[t.blockHash,!!t.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[t.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[t.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(t.transaction),t.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(t.transaction)]};case"getLogs":return t.filter&&t.filter.address!=null&&(Array.isArray(t.filter.address)?t.filter.address=t.filter.address.map(ai):t.filter.address=ai(t.filter.address)),{method:"eth_getLogs",args:[t.filter]}}return null}getRpcError(t,r){const{method:s}=t,{error:i}=r;if(s==="eth_estimateGas"&&i.message){const c=i.message;if(!c.match(/revert/i)&&c.match(/insufficient funds/i))return pe("insufficient funds","INSUFFICIENT_FUNDS",{transaction:t.params[0],info:{payload:t,error:i}});if(c.match(/nonce/i)&&c.match(/too low/i))return pe("nonce has already been used","NONCE_EXPIRED",{transaction:t.params[0],info:{payload:t,error:i}})}if(s==="eth_call"||s==="eth_estimateGas"){const c=Ml(i),u=Ka.getBuiltinCallException(s==="eth_call"?"call":"estimateGas",t.params[0],c?c.data:null);return u.info={error:i,payload:t},u}const o=JSON.stringify(SE(i));if(typeof i.message=="string"&&i.message.match(/user denied|ethers-user-denied/i))return pe("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[s]||"unknown",reason:"rejected",info:{payload:t,error:i}});if(s==="eth_sendRawTransaction"||s==="eth_sendTransaction"){const c=t.params[0];if(o.match(/insufficient funds|base fee exceeds gas limit/i))return pe("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:c,info:{error:i}});if(o.match(/nonce/i)&&o.match(/too low/i))return pe("nonce has already been used","NONCE_EXPIRED",{transaction:c,info:{error:i}});if(o.match(/replacement transaction/i)&&o.match(/underpriced/i))return pe("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:c,info:{error:i}});if(o.match(/only replay-protected/i))return pe("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:s,info:{transaction:c,info:{error:i}}})}let a=!!o.match(/the method .* does not exist/i);return a||i&&i.details&&i.details.startsWith("Unauthorized method:")&&(a=!0),a?pe("unsupported operation","UNSUPPORTED_OPERATION",{operation:t.method,info:{error:i,payload:t}}):pe("could not coalesce error","UNKNOWN_ERROR",{error:i,payload:t})}send(t,r){if(this.destroyed)return Promise.reject(pe("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:t}));const s=_o(this,lo)._++,i=new Promise((o,a)=>{b(this,qn).push({resolve:o,reject:a,payload:{method:t,params:r,id:s,jsonrpc:"2.0"}})});return F(this,cc,Ll).call(this),i}async getSigner(t){t==null&&(t=0);const r=this.send("eth_accounts",[]);if(typeof t=="number"){const i=await r;if(t>=i.length)throw new Error("no such account");return new bf(this,i[t])}const{accounts:s}=await je({network:this.getNetwork(),accounts:r});t=se(t);for(const i of s)if(se(i)===t)return new bf(this,t);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map(r=>new bf(this,r))}destroy(){b(this,yn)&&(clearTimeout(b(this,yn)),y(this,yn,null));for(const{payload:t,reject:r}of b(this,qn))r(pe("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:t.method}));y(this,qn,[]),super.destroy()}}ks=new WeakMap,lo=new WeakMap,qn=new WeakMap,yn=new WeakMap,qt=new WeakMap,Lt=new WeakMap,tt=new WeakMap,cc=new WeakSet,Ll=function(){if(b(this,yn))return;const t=this._getOption("batchMaxCount")===1?0:this._getOption("batchStallTime");y(this,yn,setTimeout(()=>{y(this,yn,null);const r=b(this,qn);for(y(this,qn,[]);r.length;){const s=[r.shift()];for(;r.length&&s.length!==b(this,ks).batchMaxCount;)if(s.push(r.shift()),JSON.stringify(s.map(o=>o.payload)).length>b(this,ks).batchMaxSize){r.unshift(s.pop());break}(async()=>{const i=s.length===1?s[0].payload:s.map(o=>o.payload);this.emit("debug",{action:"sendRpcPayload",payload:i});try{const o=await this._send(i);this.emit("debug",{action:"receiveRpcResult",result:o});for(const{resolve:a,reject:c,payload:u}of s){if(this.destroyed){c(pe("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:u.method}));continue}const f=o.filter(l=>l.id===u.id)[0];if(f==null){const l=pe("missing response for request","BAD_DATA",{value:o,info:{payload:u}});this.emit("error",l),c(l);continue}if("error"in f){c(this.getRpcError(u,f));continue}a(f.result)}}catch(o){this.emit("debug",{action:"receiveRpcError",error:o});for(const{reject:a}of s)a(o)}})()}},t))};var Mr;class BE extends NE{constructor(t,r){super(t,r);O(this,Mr);let s=this._getOption("pollingInterval");s==null&&(s=Bm.pollingInterval),y(this,Mr,s)}_getSubscriber(t){const r=super._getSubscriber(t);return Yb(r)&&(r.pollingInterval=b(this,Mr)),r}get pollingInterval(){return b(this,Mr)}set pollingInterval(t){if(!Number.isInteger(t)||t<0)throw new Error("invalid interval");y(this,Mr,t),this._forEachSubscriber(r=>{Yb(r)&&(r.pollingInterval=b(this,Mr))})}}Mr=new WeakMap;var ho;class Gv extends BE{constructor(t,r,s){t==null&&(t="http://localhost:8545");super(r,s);O(this,ho);typeof t=="string"?y(this,ho,new ir(t)):y(this,ho,t.clone())}_getConnection(){return b(this,ho).clone()}async send(t,r){return await this._start(),await super.send(t,r)}async _send(t){const r=this._getConnection();r.body=JSON.stringify(t),r.setHeader("content-type","application/json");const s=await r.send();s.assertOk();let i=s.bodyJson;return Array.isArray(i)||(i=[i]),i}}ho=new WeakMap;function Ml(n){if(n==null)return null;if(typeof n.message=="string"&&n.message.match(/revert/i)&&de(n.data))return{message:n.message,data:n.data};if(typeof n=="object"){for(const e in n){const t=Ml(n[e]);if(t)return t}return null}if(typeof n=="string")try{return Ml(JSON.parse(n))}catch{}return null}function Dl(n,e){if(n!=null){if(typeof n.message=="string"&&e.push(n.message),typeof n=="object")for(const t in n)Dl(n[t],e);if(typeof n=="string")try{return Dl(JSON.parse(n),e)}catch{}}}function SE(n){const e=[];return Dl(n,e),e}var bo;const Wd=class Wd extends Hd{constructor(t,r){super(r);N(this,"address");O(this,bo);A(t&&typeof t.sign=="function","invalid private key","privateKey","[ REDACTED ]"),y(this,bo,t);const s=Bc(this.signingKey.publicKey);q(this,{address:s})}get signingKey(){return b(this,bo)}get privateKey(){return this.signingKey.privateKey}async getAddress(){return this.address}connect(t){return new Wd(b(this,bo),t)}async signTransaction(t){t=Qa(t);const{to:r,from:s}=await je({to:t.to?Oe(t.to,this):void 0,from:t.from?Oe(t.from,this):void 0});r!=null&&(t.to=r),s!=null&&(t.from=s),t.from!=null&&(A(se(t.from)===this.address,"transaction from address mismatch","tx.from",t.from),delete t.from);const i=Ga.from(t);return i.signature=this.signingKey.sign(i.unsignedHash),i.serialized}async signMessage(t){return this.signMessageSync(t)}signMessageSync(t){return this.signingKey.sign(f7(t)).serialized}authorizeSync(t){A(typeof t.address=="string","invalid address for authorizeSync","auth.address",t);const r=this.signingKey.sign(IA(t));return Object.assign({},{address:se(t.address),nonce:K(t.nonce||0),chainId:K(t.chainId||0)},{signature:r})}async authorize(t){return t=Object.assign({},t,{address:await Oe(t.address,this)}),this.authorizeSync(await this.populateAuthorization(t))}async signTypedData(t,r,s){const i=await To.resolveNames(t,r,s,async o=>{U(this.provider!=null,"cannot resolve ENS names without a provider","UNSUPPORTED_OPERATION",{operation:"resolveName",info:{name:o}});const a=await this.provider.resolveName(o);return U(a!=null,"unconfigured ENS name","UNCONFIGURED_NAME",{value:o}),a});return this.signingKey.sign(To.hash(i.domain,r,i.value)).serialized}};bo=new WeakMap;let F0=Wd;const L0=" !#$%&'()*+,-./<=>?@[]^_`{|}~",TE=/^[a-z]*$/i;function Xb(n,e){let t=97;return n.reduce((r,s)=>(s===e?t++:s.match(TE)?r.push(String.fromCharCode(t)+s):(t=97,r.push(s)),r),[])}function OE(n,e){for(let s=L0.length-1;s>=0;s--)n=n.split(L0[s]).join(e.substring(2*s,2*s+2));const t=[],r=n.replace(/(:|([0-9])|([A-Z][a-z]*))/g,(s,i,o,a)=>{if(o)for(let c=parseInt(o);c>=0;c--)t.push(";");else t.push(i.toLowerCase());return""});if(r)throw new Error(`leftovers: ${JSON.stringify(r)}`);return Xb(Xb(t,";"),":")}function kE(n){return A(n[0]==="0","unsupported auwl data","data",n),OE(n.substring(1+2*L0.length),n.substring(1,1+2*L0.length))}class RE{constructor(e){N(this,"locale");q(this,{locale:e})}split(e){return e.toLowerCase().split(/\s+/g)}join(e){return e.join(" ")}}var xo,uc,Rs,fc,$l;class UE extends RE{constructor(t,r,s){super(t);O(this,fc);O(this,xo);O(this,uc);O(this,Rs);y(this,xo,r),y(this,uc,s),y(this,Rs,null)}get _data(){return b(this,xo)}_decodeWords(){return kE(b(this,xo))}getWord(t){const r=F(this,fc,$l).call(this);return A(t>=0&&t<r.length,`invalid word index: ${t}`,"index",t),r[t]}getWordIndex(t){return F(this,fc,$l).call(this).indexOf(t)}}xo=new WeakMap,uc=new WeakMap,Rs=new WeakMap,fc=new WeakSet,$l=function(){if(b(this,Rs)==null){const t=this._decodeWords();if(ar(t.join(`
`)+`
`)!==b(this,uc))throw new Error(`BIP39 Wordlist for ${this.locale} FAILED`);y(this,Rs,t)}return b(this,Rs)};const FE="0erleonalorenseinceregesticitStanvetearctssi#ch2Athck&tneLl0And#Il.yLeOutO=S|S%b/ra@SurdU'0Ce[Cid|CountCu'Hie=IdOu,-Qui*Ro[TT]T%T*[Tu$0AptDD-tD*[Ju,M.UltV<)Vi)0Rob-0FairF%dRaid0A(EEntRee0Ead0MRRp%tS!_rmBumCoholErtI&LLeyLowMo,O}PhaReadySoT Ways0A>urAz(gOngOuntU'd0Aly,Ch%Ci|G G!GryIm$K!Noun)Nu$O` Sw T&naTiqueXietyY1ArtOlogyPe?P!Pro=Ril1ChCt-EaEnaGueMMedM%MyOundR<+Re,Ri=RowTTefa@Ti,Tw%k0KPe@SaultSetSi,SumeThma0H!>OmTa{T&dT.udeTra@0Ct]D.Gu,NtTh%ToTumn0Era+OcadoOid0AkeA*AyEsomeFulKw?d0Is:ByChel%C#D+GL<)Lc#y~MbooN<aNn RRelyRga(R*lSeS-SketTt!3A^AnAutyCau'ComeEfF%eG(Ha=H(dLie=LowLtN^Nef./TrayTt Twe&Y#d3Cyc!DKeNdOlogyRdR`Tt _{AdeAmeAnketA,EakE[IndOodO[omOu'UeUrUsh_rdAtDyIlMbNeNusOkO,Rd R(gRrowSsTtomUn)XY_{etA(AndA[A=EadEezeI{Id+IefIghtIngIskOccoliOk&OnzeOomO` OwnUsh2Bb!DdyD+tFf$oIldLbLkL!tNd!Nk Rd&Rg R,SS(e[SyTt Y Zz:Bba+B(B!CtusGeKe~LmM aMpNN$N)lNdyNn#NoeNvasNy#Pab!P.$Pta(RRb#RdRgoRpetRryRtSeShS(o/!Su$TT$ogT^Teg%yTt!UghtU'Ut]Ve3Il(gL yM|NsusNturyRe$Rta(_irAlkAmp]An+AosApt Ar+A'AtEapE{Ee'EfErryE,I{&IefIldIm}yOi)Oo'R#-U{!UnkUrn0G?Nnam#Rc!Tiz&TyVil_imApArifyAwAyE<ErkEv I{I|IffImbIn-IpO{OgO'O`OudOwnUbUmpU, Ut^_^A,C#utDeFfeeIlInL!@L%LumnMb(eMeMf%tM-Mm#Mp<yNc tNdu@NfirmNg*[N}@Nsid NtrolNv()OkOlPp PyR$ReRnR*@/Tt#U^UntryUp!Ur'Us(V Yo>_{Ad!AftAmA}AshAt AwlAzyEamEd.EekEwI{etImeIspIt-OpO[Ou^OwdUci$UelUi'Umb!Un^UshYY,$2BeLtu*PPbo?dRiousRr|Rta(R=Sh]/omTe3C!:DMa+MpN)Ng R(gShUght WnY3AlBa>BrisCadeCemb CideCl(eC%a>C*a'ErF&'F(eFyG*eLayLiv M<dMi'Ni$Nti,NyP?tP&dPos.P`PutyRi=ScribeS tSignSkSpair/royTailTe@VelopVi)Vo>3AgramAlAm#dAryCeE'lEtFf G.$Gn.yLemmaNn NosaurRe@RtSag*eScov Sea'ShSmi[S%d Splay/<)V tVideV%)Zzy5Ct%Cum|G~Lph(Ma(Na>NkeyN%OrSeUb!Ve_ftAg#AmaA,-AwEamE[IftIllInkIpI=OpUmY2CkMbNeR(g/T^Ty1Arf1Nam-:G G!RlyRnR`Sily/Sy1HoOlogyOnomy0GeItUca>1F%t0G1GhtTh 2BowD E@r-Eg<tEm|Eph<tEvat%I>Se0B?kBodyBra)Er+Ot]PloyPow Pty0Ab!A@DD![D%'EmyErgyF%)Ga+G(eH<)JoyLi,OughR-hRollSu*T Ti*TryVelope1Isode0U$Uip0AA'OdeOs]R%Upt0CapeSayS&)Ta>0Ern$H-s1Id&)IlOkeOl=1A@Amp!Ce[Ch<+C.eCludeCu'Ecu>Erci'Hau,Hib.I!I,ItOt-P<dPe@Pi*Pla(Po'P*[T&dTra0EEbrow:Br-CeCultyDeIntI`~L'MeMilyMousNNcyNtasyRmSh]TT$Th TigueUltV%.e3Atu*Bru?yD $EEdElMa!N)/iv$T^V W3B Ct]EldGu*LeLmLt N$NdNeNg NishReRmR,Sc$ShTT}[X_gAmeAshAtAv%EeIghtIpOatO{O%Ow UidUshY_mCusGIlLd~owOdOtR)Re,R+tRkRtu}RumRw?dSsil/ UndX_gi!AmeEqu|EshI&dIn+OgOntO,OwnOz&U.2ElNNnyRna)RyTu*:D+tInLaxy~ yMePRa+Rba+Rd&Rl-Rm|SSpTeTh U+Ze3N $NiusN*Nt!Nu(e/u*2O,0AntFtGg!Ng RaffeRlVe_dAn)A*A[IdeImp'ObeOomOryO=OwUe_tDde[LdOdO'RillaSpelSsipV nWn_bA)A(AntApeA[Av.yEatE&IdIefItOc yOupOwUnt_rdE[IdeIltIt?N3M:B.IrLfMm M, NdPpyRb%RdRshR=,TVeWkZ?d3AdAl`ArtAvyD+hogIght~oLmetLpNRo3Dd&Gh~NtPRe/%y5BbyCkeyLdLeLiday~owMeNeyOdPeRnRr%R'Sp.$/TelUrV 5BGeM<Mb!M%Nd*dNgryNtRd!RryRtSb<d3Brid:1EOn0EaEntifyLe2N%e4LLeg$L}[0A+Ita>M&'Mu}Pa@Po'Pro=Pul'0ChCludeComeC*a'DexD-a>Do%Du,ryF<tFl-tF%mHa!H .Iti$Je@JuryMa>N Noc|PutQuiryS<eSe@SideSpi*/$lTa@T e,ToVe,V.eVol=3On0L<dOla>Sue0Em1Ory:CketGu?RZz3AlousAns~yWel9BInKeUr}yY5D+I)MpNg!Ni%Nk/:Ng?oo3EnEpT^upY3CkDD}yNdNgdomSsTT^&TeTt&Wi4EeIfeO{Ow:BBelB%Dd DyKeMpNgua+PtopR+T T(UghUndryVaWWnWsu.Y Zy3Ad AfArnA=Ctu*FtGG$G&dIsu*M#NdNg`NsOp?dSs#Tt Vel3ArB tyBr?yC&'FeFtGhtKeMbM.NkOnQuid/Tt!VeZ?d5AdAnB, C$CkG-NelyNgOpTt yUdUn+VeY$5CkyGga+Mb N?N^Xury3R-s:Ch(eDG-G}tIdIlInJ%KeMm$NNa+Nda>NgoNs]Nu$P!Rb!R^Rg(R(eRketRria+SkSs/ T^T i$ThTrixTt XimumZe3AdowAnAsu*AtCh<-D$DiaLodyLtMb M%yNt]NuRcyR+R.RryShSsa+T$Thod3Dd!DnightLk~]M-NdNimumN%Nu>Rac!Rr%S ySs/akeXXedXtu*5Bi!DelDifyMM|N.%NkeyN, N`OnR$ReRn(gSqu.oTh T]T%Unta(U'VeVie5ChFf(LeLtiplySc!SeumShroomS-/Tu$3Self/ yTh:I=MePk(Rrow/yT]Tu*3ArCkEdGati=G!@I` PhewR=/TTw%kUtr$V WsXt3CeGht5B!I'M(eeOd!Rm$R`SeTab!TeTh(gTi)VelW5C!?Mb R'T:K0EyJe@Li+Scu*S =Ta(Vious0CurE<Tob 0Or1FF Fi)T&2L1Ay0DI=Ymp-0It0CeEI#L(eLy1EnEraIn]Po'T]1An+B.Ch?dD D(?yG<I|Ig($Ph<0Tr-h0H 0Tdo%T TputTside0AlEnEr0NN 0Yg&0/ 0O}:CtDd!GeIrLa)LmNdaNelN-N` P RadeR|RkRrotRtySsT^ThTi|TrolTt nU'VeYm|3A)AnutArAs<tL-<NN$tyNcilOp!Pp Rfe@Rm.Rs#T2O}OtoRa'Ys-$0AnoCn-Ctu*E)GGe#~LotNkO} Pe/olT^Zza_)A}tA,-A>AyEa'Ed+U{UgUn+2EmEtIntL?LeLi)NdNyOlPul?Rt]S.]Ssib!/TatoTt yV tyWd W _@i)Ai'Ed-tEf Epa*Es|EttyEv|I)IdeIm?yIntI%.yIs#Iva>IzeOb!mO)[Odu)Of.OgramOje@Omo>OofOp tyOsp O>@OudOvide2Bl-Dd(g~LpL'Mpk(N^PilPpyR^a'R.yRpo'R'ShTZz!3Ramid:99Al.yAntumArt E,]I{ItIzO>:Bb.Cco#CeCkD?DioIlInI'~yMpN^NdomN+PidReTeTh V&WZ%3AdyAlAs#BelBuildC$lCei=CipeC%dCyc!Du)F!@F%mFu'G]G*tGul?Je@LaxLea'LiefLyMa(Memb M(dMo=Nd NewNtOp&PairPeatPla)P%tQui*ScueSemb!Si,Sour)Sp#'SultTi*T*atTurnUn]Ve$ViewW?d2Y`m0BBb#CeChDeD+F!GhtGidNgOtPp!SkTu$V$V 5AdA,BotBu,CketM<)OfOkieOmSeTa>UghUndU>Y$5Bb DeGLeNNwayR$:DDd!D}[FeIlLadLm#L#LtLu>MeMp!NdTisfyToshiU)Usa+VeY1A!AnA*Att E}HemeHoolI&)I[%sOrp]OutRapRe&RiptRub1AAr^As#AtC#dC*tCt]Cur.yEdEkGm|Le@~M(?Ni%N'Nt&)RiesRvi)Ss]Tt!TupV&_dowAftAllowA*EdEllEriffIeldIftI}IpIv O{OeOotOpOrtOuld O=RimpRugUff!Y0Bl(gCkDeE+GhtGnL|Lk~yLv Mil?Mp!N)NgR&/ Tua>XZe1A>Et^IIllInIrtUll0AbAmEepEnd I)IdeIghtImOg<OtOwUsh0AllArtI!OkeOo`0A{AkeApIffOw0ApCc Ci$CkDaFtL?Ldi LidLut]L=Me#eNgOnRryRtUlUndUpUr)U`0A)A*Ati$AwnEakEci$EedEllEndH eI)Id IkeInIr.L.OilOns%O#OrtOtRayReadR(gY0Ua*UeezeUir*l_b!AdiumAffA+AirsAmpAndArtA>AyEakEelEmEpE*oI{IllIngO{Oma^O}OolOryO=Ra>gyReetRikeR#gRugg!Ud|UffUmb!Y!0Bje@Bm.BwayC)[ChDd&Ff G?G+,ItMm NNnyN'tP PplyP*meReRfa)R+Rpri'RroundR=ySpe@/a(1AllowAmpApArmE?EetIftImIngIt^Ord1MbolMptomRup/em:B!Ck!GIlL|LkNkPeR+tSk/eTtooXi3A^Am~NN<tNnisNtRm/Xt_nkAtEmeEnE%yE*EyIngIsOughtReeRi=RowUmbUnd 0CketDeG LtMb MeNyPRedSsueT!5A,BaccoDayDdl EGe` I!tK&MatoM%rowNeNgueNightOlO`PP-Pp!R^RnadoRtoi'SsT$Uri,W?dW WnY_{AdeAff-Ag-A(Ansf ApAshA=lAyEatEeEndI$IbeI{Igg ImIpOphyOub!U{UeUlyUmpetU,U`Y2BeIt]Mb!NaN}lRkeyRnRt!1El=EntyI)InI,O1PeP-$:5Ly5B*lla0Ab!Awa*C!Cov D DoFairFoldHappyIf%mIqueItIv 'KnownLo{TilUsu$Veil1Da>GradeHoldOnP Set1B<Ge0A+EEdEfulE![U$0Il.y:C<tCuumGueLidL!yL=NNishP%Rious/Ult3H-!L=tNd%Ntu*NueRbRifyRs]RyS'lT <3Ab!Br<tCiousCt%yDeoEw~a+Nta+Ol(Rtu$RusSaS.Su$T$Vid5C$I)IdLc<oLumeTeYa+:GeG#ItLk~LnutNtRfa*RmRri%ShSp/eT VeY3Al`Ap#ArA'lA` BDd(gEk&dIrdLcome/T_!AtEatEelEnE*IpIsp 0DeD`FeLd~NNdowNeNgNkNn Nt ReSdomSeShT}[5LfM<Nd OdOlRdRkRldRryR`_pE{E,!I,I>Ong::Rd3Ar~ow9UUngU`:3BraRo9NeO",LE="0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60";let xf=null;class Zs extends UE{constructor(){super("en",FE,LE)}static wordlist(){return xf==null&&(xf=new Zs),xf}}function Sm(n){return(1<<n)-1<<8-n&255}function ME(n){return(1<<n)-1&255}function pf(n,e){xp("NFKD"),e==null&&(e=Zs.wordlist());const t=e.split(n);A(t.length%3===0&&t.length>=12&&t.length<=24,"invalid mnemonic length","mnemonic","[ REDACTED ]");const r=new Uint8Array(Math.ceil(11*t.length/8));let s=0;for(let u=0;u<t.length;u++){let f=e.getWordIndex(t[u].normalize("NFKD"));A(f>=0,`invalid mnemonic word at index ${u}`,"mnemonic","[ REDACTED ]");for(let l=0;l<11;l++)f&1<<10-l&&(r[s>>3]|=1<<7-s%8),s++}const i=32*t.length/3,o=t.length/3,a=Sm(o),c=V($t(r.slice(0,i/8)))[0]&a;return A(c===(r[r.length-1]&a),"invalid mnemonic checksum","mnemonic","[ REDACTED ]"),G(r.slice(0,i/8))}function gf(n,e){A(n.length%4===0&&n.length>=16&&n.length<=32,"invalid entropy size","entropy","[ REDACTED ]"),e==null&&(e=Zs.wordlist());const t=[0];let r=11;for(let o=0;o<n.length;o++)r>8?(t[t.length-1]<<=8,t[t.length-1]|=n[o],r-=8):(t[t.length-1]<<=r,t[t.length-1]|=n[o]>>8-r,t.push(n[o]&ME(8-r)),r+=3);const s=n.length/4,i=parseInt($t(n).substring(2,4),16)&Sm(s);return t[t.length-1]<<=s,t[t.length-1]|=i>>8-s,e.join(t.map(o=>e.getWord(o)))}const mf={};class ko{constructor(e,t,r,s,i){N(this,"phrase");N(this,"password");N(this,"wordlist");N(this,"entropy");s==null&&(s=""),i==null&&(i=Zs.wordlist()),Qr(e,mf,"Mnemonic"),q(this,{phrase:r,password:s,wordlist:i,entropy:t})}computeSeed(){const e=Xe("mnemonic"+this.password,"NFKD");return Jr(Xe(this.phrase,"NFKD"),e,2048,64,"sha512")}static fromPhrase(e,t,r){const s=pf(e,r);return e=gf(V(s),r),new ko(mf,s,e,t,r)}static fromEntropy(e,t,r){const s=V(e,"entropy"),i=gf(s,r);return new ko(mf,G(s),i,t,r)}static entropyToPhrase(e,t){const r=V(e,"entropy");return gf(r,t)}static phraseToEntropy(e,t){return pf(e,t)}static isValidMnemonic(e,t){try{return pf(e,t),!0}catch{}return!1}}/*! MIT License. Copyright 2015-2022 Richard Moore <me@ricmoo.com>. See LICENSE.txt. */var Ue=function(n,e,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(n):r?r.value:e.get(n)},yf=function(n,e,t,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?n!==e||!s:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(n,t):s?s.value=t:e.set(n,t),t},p0,Bt,cn;const DE={16:10,24:12,32:14},$E=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],Ct=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],Xc=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],GE=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],zE=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],HE=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],_E=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],jE=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],VE=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],KE=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],QE=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],JE=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],WE=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],qE=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],ZE=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function wf(n){const e=[];for(let t=0;t<n.length;t+=4)e.push(n[t]<<24|n[t+1]<<16|n[t+2]<<8|n[t+3]);return e}class _d{get key(){return Ue(this,p0,"f").slice()}constructor(e){if(p0.set(this,void 0),Bt.set(this,void 0),cn.set(this,void 0),!(this instanceof _d))throw Error("AES must be instanitated with `new`");yf(this,p0,new Uint8Array(e),"f");const t=DE[this.key.length];if(t==null)throw new TypeError("invalid key size (must be 16, 24 or 32 bytes)");yf(this,cn,[],"f"),yf(this,Bt,[],"f");for(let f=0;f<=t;f++)Ue(this,cn,"f").push([0,0,0,0]),Ue(this,Bt,"f").push([0,0,0,0]);const r=(t+1)*4,s=this.key.length/4,i=wf(this.key);let o;for(let f=0;f<s;f++)o=f>>2,Ue(this,cn,"f")[o][f%4]=i[f],Ue(this,Bt,"f")[t-o][f%4]=i[f];let a=0,c=s,u;for(;c<r;){if(u=i[s-1],i[0]^=Ct[u>>16&255]<<24^Ct[u>>8&255]<<16^Ct[u&255]<<8^Ct[u>>24&255]^$E[a]<<24,a+=1,s!=8)for(let h=1;h<s;h++)i[h]^=i[h-1];else{for(let h=1;h<s/2;h++)i[h]^=i[h-1];u=i[s/2-1],i[s/2]^=Ct[u&255]^Ct[u>>8&255]<<8^Ct[u>>16&255]<<16^Ct[u>>24&255]<<24;for(let h=s/2+1;h<s;h++)i[h]^=i[h-1]}let f=0,l,d;for(;f<s&&c<r;)l=c>>2,d=c%4,Ue(this,cn,"f")[l][d]=i[f],Ue(this,Bt,"f")[t-l][d]=i[f++],c++}for(let f=1;f<t;f++)for(let l=0;l<4;l++)u=Ue(this,Bt,"f")[f][l],Ue(this,Bt,"f")[f][l]=JE[u>>24&255]^WE[u>>16&255]^qE[u>>8&255]^ZE[u&255]}encrypt(e){if(e.length!=16)throw new TypeError("invalid plaintext size (must be 16 bytes)");const t=Ue(this,cn,"f").length-1,r=[0,0,0,0];let s=wf(e);for(let a=0;a<4;a++)s[a]^=Ue(this,cn,"f")[0][a];for(let a=1;a<t;a++){for(let c=0;c<4;c++)r[c]=GE[s[c]>>24&255]^zE[s[(c+1)%4]>>16&255]^HE[s[(c+2)%4]>>8&255]^_E[s[(c+3)%4]&255]^Ue(this,cn,"f")[a][c];s=r.slice()}const i=new Uint8Array(16);let o=0;for(let a=0;a<4;a++)o=Ue(this,cn,"f")[t][a],i[4*a]=(Ct[s[a]>>24&255]^o>>24)&255,i[4*a+1]=(Ct[s[(a+1)%4]>>16&255]^o>>16)&255,i[4*a+2]=(Ct[s[(a+2)%4]>>8&255]^o>>8)&255,i[4*a+3]=(Ct[s[(a+3)%4]&255]^o)&255;return i}decrypt(e){if(e.length!=16)throw new TypeError("invalid ciphertext size (must be 16 bytes)");const t=Ue(this,Bt,"f").length-1,r=[0,0,0,0];let s=wf(e);for(let a=0;a<4;a++)s[a]^=Ue(this,Bt,"f")[0][a];for(let a=1;a<t;a++){for(let c=0;c<4;c++)r[c]=jE[s[c]>>24&255]^VE[s[(c+3)%4]>>16&255]^KE[s[(c+2)%4]>>8&255]^QE[s[(c+1)%4]&255]^Ue(this,Bt,"f")[a][c];s=r.slice()}const i=new Uint8Array(16);let o=0;for(let a=0;a<4;a++)o=Ue(this,Bt,"f")[t][a],i[4*a]=(Xc[s[a]>>24&255]^o>>24)&255,i[4*a+1]=(Xc[s[(a+3)%4]>>16&255]^o>>16)&255,i[4*a+2]=(Xc[s[(a+2)%4]>>8&255]^o>>8)&255,i[4*a+3]=(Xc[s[(a+1)%4]&255]^o)&255;return i}}p0=new WeakMap,Bt=new WeakMap,cn=new WeakMap;class Tm{constructor(e,t,r){if(r&&!(this instanceof r))throw new Error(`${e} must be instantiated with "new"`);Object.defineProperties(this,{aes:{enumerable:!0,value:new _d(t)},name:{enumerable:!0,value:e}})}}var e0=function(n,e,t,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?n!==e||!s:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(n,t):s?s.value=t:e.set(n,t),t},ci=function(n,e,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(n):r?r.value:e.get(n)},oa,Un;class jd extends Tm{constructor(e,t){if(super("ECC",e,jd),oa.set(this,void 0),Un.set(this,void 0),t){if(t.length%16)throw new TypeError("invalid iv size (must be 16 bytes)");e0(this,oa,new Uint8Array(t),"f")}else e0(this,oa,new Uint8Array(16),"f");e0(this,Un,this.iv,"f")}get iv(){return new Uint8Array(ci(this,oa,"f"))}encrypt(e){if(e.length%16)throw new TypeError("invalid plaintext size (must be multiple of 16 bytes)");const t=new Uint8Array(e.length);for(let r=0;r<e.length;r+=16){for(let s=0;s<16;s++)ci(this,Un,"f")[s]^=e[r+s];e0(this,Un,this.aes.encrypt(ci(this,Un,"f")),"f"),t.set(ci(this,Un,"f"),r)}return t}decrypt(e){if(e.length%16)throw new TypeError("invalid ciphertext size (must be multiple of 16 bytes)");const t=new Uint8Array(e.length);for(let r=0;r<e.length;r+=16){const s=this.aes.decrypt(e.subarray(r,r+16));for(let i=0;i<16;i++)t[r+i]=s[i]^ci(this,Un,"f")[i],ci(this,Un,"f")[i]=e[r+i]}return t}}oa=new WeakMap,Un=new WeakMap;var ui=function(n,e,t,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?n!==e||!s:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(n,t):s?s.value=t:e.set(n,t),t},Nt=function(n,e,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(n):r?r.value:e.get(n)},aa,ts,St;class Ro extends Tm{constructor(e,t){super("CTR",e,Ro),aa.set(this,void 0),ts.set(this,void 0),St.set(this,void 0),ui(this,St,new Uint8Array(16),"f"),Nt(this,St,"f").fill(0),ui(this,aa,Nt(this,St,"f"),"f"),ui(this,ts,16,"f"),t==null&&(t=1),typeof t=="number"?this.setCounterValue(t):this.setCounterBytes(t)}get counter(){return new Uint8Array(Nt(this,St,"f"))}setCounterValue(e){if(!Number.isInteger(e)||e<0||e>Number.MAX_SAFE_INTEGER)throw new TypeError("invalid counter initial integer value");for(let t=15;t>=0;--t)Nt(this,St,"f")[t]=e%256,e=Math.floor(e/256)}setCounterBytes(e){if(e.length!==16)throw new TypeError("invalid counter initial Uint8Array value length");Nt(this,St,"f").set(e)}increment(){for(let e=15;e>=0;e--)if(Nt(this,St,"f")[e]===255)Nt(this,St,"f")[e]=0;else{Nt(this,St,"f")[e]++;break}}encrypt(e){var t,r;const s=new Uint8Array(e);for(let i=0;i<s.length;i++)Nt(this,ts,"f")===16&&(ui(this,aa,this.aes.encrypt(Nt(this,St,"f")),"f"),ui(this,ts,0,"f"),this.increment()),s[i]^=Nt(this,aa,"f")[ui(this,ts,(r=Nt(this,ts,"f"),t=r++,r),"f"),t];return s}decrypt(e){return this.encrypt(e)}}aa=new WeakMap,ts=new WeakMap,St=new WeakMap;function YE(n){if(n.length<16)throw new TypeError("PKCS#7 invalid length");const e=n[n.length-1];if(e>16)throw new TypeError("PKCS#7 padding byte out of range");const t=n.length-e;for(let r=0;r<e;r++)if(n[t+r]!==e)throw new TypeError("PKCS#7 invalid padding byte");return new Uint8Array(n.subarray(0,t))}function Om(n){return typeof n=="string"&&!n.startsWith("0x")&&(n="0x"+n),De(n)}function Xo(n,e){for(n=String(n);n.length<e;)n="0"+n;return n}function kc(n){return typeof n=="string"?Xe(n,"NFKC"):De(n)}function Ee(n,e){const t=e.match(/^([a-z0-9$_.-]*)(:([a-z]+))?(!)?$/i);A(t!=null,"invalid path","path",e);const r=t[1],s=t[3],i=t[4]==="!";let o=n;for(const a of r.toLowerCase().split(".")){if(Array.isArray(o)){if(!a.match(/^[0-9]+$/))break;o=o[parseInt(a)]}else if(typeof o=="object"){let c=null;for(const u in o)if(u.toLowerCase()===a){c=o[u];break}o=c}else o=null;if(o==null)break}if(A(!i||o!=null,"missing required value","path",r),s&&o!=null){if(s==="int"){if(typeof o=="string"&&o.match(/^-?[0-9]+$/))return parseInt(o);if(Number.isSafeInteger(o))return o}if(s==="number"&&typeof o=="string"&&o.match(/^-?[0-9.]*$/))return parseFloat(o);if(s==="data"&&typeof o=="string")return Om(o);if(s==="array"&&Array.isArray(o)||s===typeof o)return o;A(!1,`wrong type found for ${s} `,"path",r)}return o}const km="m/44'/60'/0'/0/0";function ex(n){try{const e=JSON.parse(n);if((e.version!=null?parseInt(e.version):0)===3)return!0}catch{}return!1}function XE(n,e,t){if(Ee(n,"crypto.cipher:string")==="aes-128-ctr"){const s=Ee(n,"crypto.cipherparams.iv:data!"),i=new Ro(e,s);return G(i.decrypt(t))}U(!1,"unsupported cipher","UNSUPPORTED_OPERATION",{operation:"decrypt"})}function M0(n,e){const t=V(e),r=Ee(n,"crypto.ciphertext:data!"),s=G(xe(ce([t.slice(16,32),r]))).substring(2);A(s===Ee(n,"crypto.mac:string!").toLowerCase(),"incorrect password","password","[ REDACTED ]");const i=XE(n,t.slice(0,16),r),o=Bc(i);if(n.address){let u=n.address.toLowerCase();u.startsWith("0x")||(u="0x"+u),A(se(u)===o,"keystore address/privateKey mismatch","address",n.address)}const a={address:o,privateKey:i};if(Ee(n,"x-ethers.version:string")==="0.1"){const u=t.slice(32,64),f=Ee(n,"x-ethers.mnemonicCiphertext:data!"),l=Ee(n,"x-ethers.mnemonicCounter:data!"),d=new Ro(u,l);a.mnemonic={path:Ee(n,"x-ethers.path:string")||km,locale:Ee(n,"x-ethers.locale:string")||"en",entropy:G(V(d.decrypt(f)))}}return a}function Rm(n){const e=Ee(n,"crypto.kdf:string");if(e&&typeof e=="string"){if(e.toLowerCase()==="scrypt"){const t=Ee(n,"crypto.kdfparams.salt:data!"),r=Ee(n,"crypto.kdfparams.n:int!"),s=Ee(n,"crypto.kdfparams.r:int!"),i=Ee(n,"crypto.kdfparams.p:int!");A(r>0&&(r&r-1)===0,"invalid kdf.N","kdf.N",r),A(s>0&&i>0,"invalid kdf","kdf",e);const o=Ee(n,"crypto.kdfparams.dklen:int!");return A(o===32,"invalid kdf.dklen","kdf.dflen",o),{name:"scrypt",salt:t,N:r,r:s,p:i,dkLen:64}}else if(e.toLowerCase()==="pbkdf2"){const t=Ee(n,"crypto.kdfparams.salt:data!"),r=Ee(n,"crypto.kdfparams.prf:string!"),s=r.split("-").pop();A(s==="sha256"||s==="sha512","invalid kdf.pdf","kdf.pdf",r);const i=Ee(n,"crypto.kdfparams.c:int!"),o=Ee(n,"crypto.kdfparams.dklen:int!");return A(o===32,"invalid kdf.dklen","kdf.dklen",o),{name:"pbkdf2",salt:t,count:i,dkLen:o,algorithm:s}}}A(!1,"unsupported key-derivation function","kdf",e)}function ev(n,e){const t=JSON.parse(n),r=kc(e),s=Rm(t);if(s.name==="pbkdf2"){const{salt:l,count:d,dkLen:h,algorithm:p}=s,x=Jr(r,l,d,h,p);return M0(t,x)}U(s.name==="scrypt","cannot be reached","UNKNOWN_ERROR",{params:s});const{salt:i,N:o,r:a,p:c,dkLen:u}=s,f=zo(r,i,o,a,c,u);return M0(t,f)}function tx(n){return new Promise(e=>{setTimeout(()=>{e()},n)})}async function tv(n,e,t){const r=JSON.parse(n),s=kc(e),i=Rm(r);if(i.name==="pbkdf2"){t&&(t(0),await tx(0));const{salt:d,count:h,dkLen:p,algorithm:x}=i,m=Jr(s,d,h,p,x);return t&&(t(1),await tx(0)),M0(r,m)}U(i.name==="scrypt","cannot be reached","UNKNOWN_ERROR",{params:i});const{salt:o,N:a,r:c,p:u,dkLen:f}=i,l=await Go(s,o,a,c,u,f,t);return M0(r,l)}function Um(n){const e=n.salt!=null?V(n.salt,"options.salt"):tr(32);let t=1<<17,r=8,s=1;return n.scrypt&&(n.scrypt.N&&(t=n.scrypt.N),n.scrypt.r&&(r=n.scrypt.r),n.scrypt.p&&(s=n.scrypt.p)),A(typeof t=="number"&&t>0&&Number.isSafeInteger(t)&&(BigInt(t)&BigInt(t-1))===BigInt(0),"invalid scrypt N parameter","options.N",t),A(typeof r=="number"&&r>0&&Number.isSafeInteger(r),"invalid scrypt r parameter","options.r",r),A(typeof s=="number"&&s>0&&Number.isSafeInteger(s),"invalid scrypt p parameter","options.p",s),{name:"scrypt",dkLen:32,salt:e,N:t,r,p:s}}function Fm(n,e,t,r){const s=V(t.privateKey,"privateKey"),i=r.iv!=null?V(r.iv,"options.iv"):tr(16);A(i.length===16,"invalid options.iv length","options.iv",r.iv);const o=r.uuid!=null?V(r.uuid,"options.uuid"):tr(16);A(o.length===16,"invalid options.uuid length","options.uuid",r.iv);const a=n.slice(0,16),c=n.slice(16,32),u=new Ro(a,i),f=V(u.encrypt(s)),l=xe(ce([c,f])),d={address:t.address.substring(2).toLowerCase(),id:n4(o),version:3,Crypto:{cipher:"aes-128-ctr",cipherparams:{iv:G(i).substring(2)},ciphertext:G(f).substring(2),kdf:"scrypt",kdfparams:{salt:G(e.salt).substring(2),n:e.N,dklen:32,p:e.p,r:e.r},mac:l.substring(2)}};if(t.mnemonic){const h=r.client!=null?r.client:`ethers/${hp}`,p=t.mnemonic.path||km,x=t.mnemonic.locale||"en",m=n.slice(32,64),w=V(t.mnemonic.entropy,"account.mnemonic.entropy"),C=tr(16),v=new Ro(m,C),P=V(v.encrypt(w)),g=new Date,I="UTC--"+(g.getUTCFullYear()+"-"+Xo(g.getUTCMonth()+1,2)+"-"+Xo(g.getUTCDate(),2)+"T"+Xo(g.getUTCHours(),2)+"-"+Xo(g.getUTCMinutes(),2)+"-"+Xo(g.getUTCSeconds(),2)+".0Z")+"--"+d.address;d["x-ethers"]={client:h,gethFilename:I,path:p,locale:x,mnemonicCounter:G(C).substring(2),mnemonicCiphertext:G(P).substring(2),version:"0.1"}}return JSON.stringify(d)}function Lm(n,e,t){t==null&&(t={});const r=kc(e),s=Um(t),i=zo(r,s.salt,s.N,s.r,s.p,64);return Fm(V(i),s,n,t)}async function Mm(n,e,t){t==null&&(t={});const r=kc(e),s=Um(t),i=await Go(r,s.salt,s.N,s.r,s.p,64,t.progressCallback);return Fm(V(i),s,n,t)}const Af="m/44'/60'/0'/0/0",nv=new Uint8Array([66,105,116,99,111,105,110,32,115,101,101,100]),zr=2147483648,rv=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),sv="0123456789abcdef";function D0(n,e){let t="";for(;n;)t=sv[n%16]+t,n=Math.trunc(n/16);for(;t.length<e*2;)t="0"+t;return"0x"+t}function Gl(n){const e=V(n),t=he($t($t(e)),0,4),r=ce([e,t]);return yp(r)}const fn={};function Dm(n,e,t,r){const s=new Uint8Array(37);n&zr?(U(r!=null,"cannot derive child of neutered node","UNSUPPORTED_OPERATION",{operation:"deriveChild"}),s.set(V(r),1)):s.set(V(t));for(let o=24;o>=0;o-=8)s[33+(o>>3)]=n>>24-o&255;const i=V(Do("sha512",e,s));return{IL:i.slice(0,32),IR:i.slice(32)}}function $m(n,e){const t=e.split("/");A(t.length>0,"invalid path","path",e),t[0]==="m"&&(A(n.depth===0,`cannot derive root path (i.e. path starting with "m/") for a node at non-zero depth ${n.depth}`,"path",e),t.shift());let r=n;for(let s=0;s<t.length;s++){const i=t[s];if(i.match(/^[0-9]+'$/)){const o=parseInt(i.substring(0,i.length-1));A(o<zr,"invalid path index",`path[${s}]`,i),r=r.deriveChild(zr+o)}else if(i.match(/^[0-9]+$/)){const o=parseInt(i);A(o<zr,"invalid path index",`path[${s}]`,i),r=r.deriveChild(o)}else A(!1,"invalid path component",`path[${s}]`,i)}return r}var lc,zl,Us,ca;const _t=class _t extends F0{constructor(t,r,s,i,o,a,c,u,f){super(r,f);O(this,lc);N(this,"publicKey");N(this,"fingerprint");N(this,"parentFingerprint");N(this,"mnemonic");N(this,"chainCode");N(this,"path");N(this,"index");N(this,"depth");Qr(t,fn,"HDNodeWallet"),q(this,{publicKey:r.compressedPublicKey});const l=he($o($t(this.publicKey)),0,4);q(this,{parentFingerprint:s,fingerprint:l,chainCode:i,path:o,index:a,depth:c}),q(this,{mnemonic:u})}connect(t){return new _t(fn,this.signingKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,this.mnemonic,t)}async encrypt(t,r){return await Mm(F(this,lc,zl).call(this),t,{progressCallback:r})}encryptSync(t){return Lm(F(this,lc,zl).call(this),t)}get extendedKey(){return U(this.depth<256,"Depth too deep","UNSUPPORTED_OPERATION",{operation:"extendedKey"}),Gl(ce(["0x0488ADE4",D0(this.depth,1),this.parentFingerprint,D0(this.index,4),this.chainCode,ce(["0x00",this.privateKey])]))}hasPath(){return this.path!=null}neuter(){return new qa(fn,this.address,this.publicKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,this.provider)}deriveChild(t){const r=Y(t,"index");A(r<=4294967295,"invalid index","index",r);let s=this.path;s&&(s+="/"+(r&~zr),r&zr&&(s+="'"));const{IR:i,IL:o}=Dm(r,this.chainCode,this.publicKey,this.privateKey),a=new vn(sr((Ic(o)+BigInt(this.privateKey))%rv,32));return new _t(fn,a,this.fingerprint,G(i),s,r,this.depth+1,this.mnemonic,this.provider)}derivePath(t){return $m(this,t)}static fromExtendedKey(t){const r=we(L3(t));A(r.length===82||Gl(r.slice(0,78))===t,"invalid extended key","extendedKey","[ REDACTED ]");const s=r[4],i=G(r.slice(5,9)),o=parseInt(G(r.slice(9,13)).substring(2),16),a=G(r.slice(13,45)),c=r.slice(45,78);switch(G(r.slice(0,4))){case"0x0488b21e":case"0x043587cf":{const u=G(c);return new qa(fn,Bc(u),u,i,a,null,o,s,null)}case"0x0488ade4":case"0x04358394 ":if(c[0]!==0)break;return new _t(fn,new vn(c.slice(1)),i,a,null,o,s,null,null)}A(!1,"invalid extended key prefix","extendedKey","[ REDACTED ]")}static createRandom(t,r,s){var o;t==null&&(t=""),r==null&&(r=Af),s==null&&(s=Zs.wordlist());const i=ko.fromEntropy(tr(16),t,s);return F(o=_t,Us,ca).call(o,i.computeSeed(),i).derivePath(r)}static fromMnemonic(t,r){var s;return r||(r=Af),F(s=_t,Us,ca).call(s,t.computeSeed(),t).derivePath(r)}static fromPhrase(t,r,s,i){var a;r==null&&(r=""),s==null&&(s=Af),i==null&&(i=Zs.wordlist());const o=ko.fromPhrase(t,r,i);return F(a=_t,Us,ca).call(a,o.computeSeed(),o).derivePath(s)}static fromSeed(t){var r;return F(r=_t,Us,ca).call(r,t,null)}};lc=new WeakSet,zl=function(){const t={address:this.address,privateKey:this.privateKey},r=this.mnemonic;return this.path&&r&&r.wordlist.locale==="en"&&r.password===""&&(t.mnemonic={path:this.path,locale:"en",entropy:r.entropy}),t},Us=new WeakSet,ca=function(t,r){A(uu(t),"invalid seed","seed","[REDACTED]");const s=V(t,"seed");A(s.length>=16&&s.length<=64,"invalid seed","seed","[REDACTED]");const i=V(Do("sha512",nv,s)),o=new vn(G(i.slice(0,32)));return new _t(fn,o,"0x00000000",G(i.slice(32)),"m",0,0,r,null)},O(_t,Us);let la=_t;class qa extends Rl{constructor(t,r,s,i,o,a,c,u,f){super(r,f);N(this,"publicKey");N(this,"fingerprint");N(this,"parentFingerprint");N(this,"chainCode");N(this,"path");N(this,"index");N(this,"depth");Qr(t,fn,"HDNodeVoidWallet"),q(this,{publicKey:s});const l=he($o($t(s)),0,4);q(this,{publicKey:s,fingerprint:l,parentFingerprint:i,chainCode:o,path:a,index:c,depth:u})}connect(t){return new qa(fn,this.address,this.publicKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,t)}get extendedKey(){return U(this.depth<256,"Depth too deep","UNSUPPORTED_OPERATION",{operation:"extendedKey"}),Gl(ce(["0x0488B21E",D0(this.depth,1),this.parentFingerprint,D0(this.index,4),this.chainCode,this.publicKey]))}hasPath(){return this.path!=null}deriveChild(t){const r=Y(t,"index");A(r<=4294967295,"invalid index","index",r);let s=this.path;s&&(s+="/"+(r&~zr),r&zr&&(s+="'"));const{IR:i,IL:o}=Dm(r,this.chainCode,this.publicKey,null),a=vn.addPoints(o,this.publicKey,!0),c=Bc(a);return new qa(fn,c,a,this.fingerprint,G(i),s,r,this.depth+1,this.provider)}derivePath(t){return $m(this,t)}}function nx(n){try{if(JSON.parse(n).encseed)return!0}catch{}return!1}function rx(n,e){const t=JSON.parse(n),r=kc(e),s=se(Ee(t,"ethaddr:string!")),i=Om(Ee(t,"encseed:string!"));A(i&&i.length%16===0,"invalid encseed","json",n);const o=V(Jr(r,r,2e3,32,"sha256")).slice(0,16),a=i.slice(0,16),c=i.slice(16),u=new jd(o,a),f=YE(V(u.decrypt(c)));let l="";for(let d=0;d<f.length;d++)l+=String.fromCharCode(f[d]);return{address:s,privateKey:ar(l)}}function sx(n){return new Promise(e=>{setTimeout(()=>{e()},n)})}var dc,Hl;const os=class os extends F0{constructor(e,t){typeof e=="string"&&!e.startsWith("0x")&&(e="0x"+e);let r=typeof e=="string"?new vn(e):e;super(r,t)}connect(e){return new os(this.signingKey,e)}async encrypt(e,t){const r={address:this.address,privateKey:this.privateKey};return await Mm(r,e,{progressCallback:t})}encryptSync(e){const t={address:this.address,privateKey:this.privateKey};return Lm(t,e)}static async fromEncryptedJson(e,t,r){var i;let s=null;return ex(e)?s=await tv(e,t,r):nx(e)&&(r&&(r(0),await sx(0)),s=rx(e,t),r&&(r(1),await sx(0))),F(i=os,dc,Hl).call(i,s)}static fromEncryptedJsonSync(e,t){var s;let r=null;return ex(e)?r=ev(e,t):nx(e)?r=rx(e,t):A(!1,"invalid JSON wallet","json","[ REDACTED ]"),F(s=os,dc,Hl).call(s,r)}static createRandom(e){const t=la.createRandom();return e?t.connect(e):t}static fromPhrase(e,t){const r=la.fromPhrase(e);return t?r.connect(t):r}};dc=new WeakSet,Hl=function(e){if(A(e,"invalid JSON wallet","json","[ REDACTED ]"),"mnemonic"in e&&e.mnemonic&&e.mnemonic.locale==="en"){const r=ko.fromEntropy(e.mnemonic.entropy),s=la.fromMnemonic(r,e.mnemonic.path);if(s.address===e.address&&s.privateKey===e.privateKey)return s;console.log("WARNING: JSON mismatch address/privateKey != mnemonic; fallback onto private key")}const t=new os(e.privateKey);return A(t.address===e.address,"address/privateKey mismatch","json","[ REDACTED ]"),t},O(os,dc);let ix=os;export{Bv as A,Uv as B,xv as C,S3 as D,Lv as E,Mv as F,Rv as G,Sv as H,Gv as J,ix as W,ax as _,kv as a,Ov as b,hv as c,gv as d,md as e,X0 as f,mv as g,wv as h,Av as i,Iv as j,pv as k,Ev as l,Fv as m,h8 as n,bv as o,Dv as p,Cv as q,w8 as r,Pv as s,Zf as t,Tv as u,vv as v,Nv as w,yv as x,g8 as y,m8 as z};
