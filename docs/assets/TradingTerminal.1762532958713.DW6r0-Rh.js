var ve=Object.defineProperty;var we=(N,r,a)=>r in N?ve(N,r,{enumerable:!0,configurable:!0,writable:!0,value:a}):N[r]=a;var oe=(N,r,a)=>we(N,typeof r!="symbol"?r+"":r,a);import{j as e}from"./vendor-features.1762532958713.CaAtaNmJ.js";import{r as p,f as ke,h as Se}from"./vendor-core.1762532958713.Bgda-OdR.js";import{s as j,C as v,g as P,h as _,f as w,B as D,i as y,I as re,u as S,E as le,T as je,a as fe,b as U,d as z,j as de,k as xe,l as me,m as he,n as ae}from"./trading-core.1762532958713.BB4AH053.js";import{w as ne,Z as Y,T as J,d as ie,q as V,v as ce,x as Fe,y as te,R as Pe,j as Q,z as pe,F as _e,k as Z,D as Me,H as ue,o as Ne,A as ye,s as ge,W as be}from"./trading-orders-wrapper.1762532958713.DY4_F653.js";import"./vendor-ui.1762532958713.hXkBeLfA.js";class Te{constructor(){oe(this,"baseUrls",{BINANCE:"https://api.binance.com/api/v3",OKX:"https://www.okx.com/api/v5",KUCOIN:"https://api.kucoin.com/api/v1",COINBASE:"https://api.exchange.coinbase.com",BYBIT:"https://api.bybit.com/v5",KRAKEN:"https://api.kraken.com/0",HUOBI:"https://api.huobi.pro",GATE:"https://api.gateio.ws/api/v4",MEXC:"https://api.mexc.com/api/v3",BITGET:"https://api.bitget.com/api/spot/v1",NASDAQ:"https://api.polygon.io/v2",NYSE:"https://api.polygon.io/v2",FOREX:"https://api.fxpractice.oanda.com/v3",COMMODITIES:"https://api.marketdata.app/v1",CRYPTO_FUTURES:"https://fapi.binance.com/fapi/v1"})}async getRealTimePrice(r,a){try{switch(r){case"BINANCE":return await this.getBinancePrice(a);case"OKX":return await this.getOKXPrice(a);case"KUCOIN":return await this.getKuCoinPrice(a);case"COINBASE":return await this.getCoinbasePrice(a);case"BYBIT":return await this.getBybitPrice(a);case"KRAKEN":return await this.getKrakenPrice(a);case"NASDAQ":case"NYSE":return await this.getStockPrice(a);case"FOREX":return await this.getForexPrice(a);case"COMMODITIES":return await this.getCommodityPrice(a);default:throw new Error(`Exchange ${r} not supported`)}}catch(s){throw console.error(`Error fetching price for ${a} on ${r}:`,s),s}}async getBinancePrice(r){const a=await fetch(`${this.baseUrls.BINANCE}/ticker/24hr?symbol=${r.toUpperCase()}`);if(!a.ok)throw new Error("Failed to fetch Binance price");const s=await a.json();return{symbol:s.symbol,price:parseFloat(s.lastPrice),change24h:parseFloat(s.priceChangePercent),volume24h:parseFloat(s.volume),high24h:parseFloat(s.highPrice),low24h:parseFloat(s.lowPrice),timestamp:Date.now()}}async getOKXPrice(r){const a=await fetch(`${this.baseUrls.OKX}/market/ticker?instId=${r.toUpperCase()}`);if(!a.ok)throw new Error("Failed to fetch OKX price");const l=(await a.json()).data[0];return{symbol:l.instId,price:parseFloat(l.last),change24h:parseFloat(l.changePercent)*100,volume24h:parseFloat(l.vol24h),high24h:parseFloat(l.high24h),low24h:parseFloat(l.low24h),timestamp:Date.now()}}async getKuCoinPrice(r){const a=await fetch(`${this.baseUrls.KUCOIN}/market/stats?symbol=${r.toUpperCase()}`);if(!a.ok)throw new Error("Failed to fetch KuCoin price");const l=(await a.json()).data;return{symbol:l.symbol,price:parseFloat(l.last),change24h:parseFloat(l.changeRate)*100,volume24h:parseFloat(l.vol),high24h:parseFloat(l.high),low24h:parseFloat(l.low),timestamp:Date.now()}}async getCoinbasePrice(r){const a=r.toUpperCase().replace("USDT","-USD"),s=await fetch(`${this.baseUrls.COINBASE}/products/${a}/stats`);if(!s.ok)throw new Error("Failed to fetch Coinbase price");const l=await s.json();return{symbol:a,price:parseFloat(l.last),change24h:(parseFloat(l.last)-parseFloat(l.open))/parseFloat(l.open)*100,volume24h:parseFloat(l.volume),high24h:parseFloat(l.high),low24h:parseFloat(l.low),timestamp:Date.now()}}async getBybitPrice(r){const a=await fetch(`${this.baseUrls.BYBIT}/market/tickers?category=spot&symbol=${r.toUpperCase()}`);if(!a.ok)throw new Error("Failed to fetch Bybit price");const l=(await a.json()).result.list[0];return{symbol:l.symbol,price:parseFloat(l.lastPrice),change24h:parseFloat(l.price24hPcnt)*100,volume24h:parseFloat(l.volume24h),high24h:parseFloat(l.highPrice24h),low24h:parseFloat(l.lowPrice24h),timestamp:Date.now()}}async getKrakenPrice(r){const a=r.toUpperCase().replace("USDT","USD"),s=await fetch(`${this.baseUrls.KRAKEN}/public/Ticker?pair=${a}`);if(!s.ok)throw new Error("Failed to fetch Kraken price");const l=await s.json(),n=Object.keys(l.result)[0],m=l.result[n];return{symbol:a,price:parseFloat(m.c[0]),change24h:(parseFloat(m.c[0])-parseFloat(m.o))/parseFloat(m.o)*100,volume24h:parseFloat(m.v[1]),high24h:parseFloat(m.h[1]),low24h:parseFloat(m.l[1]),timestamp:Date.now()}}async getStockPrice(r){const s=await fetch(`https://www.alphavantage.co/query?function=GLOBAL_QUOTE&symbol=${r}&apikey=demo`);if(!s.ok)throw new Error("Failed to fetch stock price");const n=(await s.json())["Global Quote"];return{symbol:n["01. symbol"],price:parseFloat(n["05. price"]),change24h:parseFloat(n["10. change percent"].replace("%","")),volume24h:parseFloat(n["06. volume"]),high24h:parseFloat(n["03. high"]),low24h:parseFloat(n["04. low"]),timestamp:Date.now()}}async getForexPrice(r){const[a,s]=r.split("_"),l=await fetch(`https://api.exchangerate-api.com/v4/latest/${a}`);if(!l.ok)throw new Error("Failed to fetch forex price");const m=(await l.json()).rates[s];return{symbol:r,price:m,change24h:Math.random()*2-1,volume24h:0,high24h:m*1.01,low24h:m*.99,timestamp:Date.now()}}async getCommodityPrice(r){const a=await fetch(`https://api.marketdata.app/v1/stocks/quotes/${r}/`);if(!a.ok)throw new Error("Failed to fetch commodity price");const s=await a.json();return{symbol:r,price:s.last,change24h:s.change_percent,volume24h:s.volume,high24h:s.high,low24h:s.low,timestamp:Date.now()}}createWebSocketConnection(r,a,s){try{switch(r){case"BINANCE":return this.createBinanceWebSocket(a,s);case"OKX":return this.createOKXWebSocket(a,s);case"KUCOIN":return this.createKuCoinWebSocket(a,s);default:return console.warn(`WebSocket not supported for ${r}`),null}}catch(l){return console.error(`Error creating WebSocket for ${a} on ${r}:`,l),null}}createBinanceWebSocket(r,a){const s=new WebSocket(`wss://stream.binance.com:9443/ws/${r.toLowerCase()}@ticker`);return s.onmessage=l=>{const n=JSON.parse(l.data);a({symbol:n.s,price:parseFloat(n.c),change24h:parseFloat(n.P),volume24h:parseFloat(n.v),high24h:parseFloat(n.h),low24h:parseFloat(n.l),timestamp:Date.now()})},s}createOKXWebSocket(r,a){const s=new WebSocket("wss://ws.okx.com:8443/ws/v5/public");return s.onopen=()=>{s.send(JSON.stringify({op:"subscribe",args:[{channel:"tickers",instId:r.toUpperCase()}]}))},s.onmessage=l=>{const n=JSON.parse(l.data);if(n.data){const m=n.data[0];a({symbol:m.instId,price:parseFloat(m.last),change24h:parseFloat(m.changePercent)*100,volume24h:parseFloat(m.vol24h),high24h:parseFloat(m.high24h),low24h:parseFloat(m.low24h),timestamp:Date.now()})}},s}createKuCoinWebSocket(r,a){const s=new WebSocket("wss://ws-api-spot.kucoin.com/");return s.onopen=()=>{s.send(JSON.stringify({id:Date.now(),type:"subscribe",topic:`/market/ticker:${r.toUpperCase()}`,response:!0}))},s.onmessage=l=>{const n=JSON.parse(l.data);if(n.data){const m=n.data;a({symbol:m.symbol,price:parseFloat(m.price),change24h:parseFloat(m.changeRate)*100,volume24h:parseFloat(m.vol),timestamp:Date.now()})}},s}}const ee=new Te;class $e{async getUserProfile(r){const{data:a,error:s}=await j.from("user_profiles").select("*").eq("id",r).single();return s?(console.error("Error fetching user profile:",s),null):a}async updateUserProfile(r,a){const{error:s}=await j.from("user_profiles").update({...a,updated_at:new Date().toISOString()}).eq("id",r);return s?(console.error("Error updating user profile:",s),!1):!0}async updateNXTBalance(r,a,s){const{data:l}=await j.from("user_profiles").select("nxt_balance").eq("id",r).single();if(!l)return!1;const n=s==="add"?l.nxt_balance+a:l.nxt_balance-a;return n<0?!1:await this.updateUserProfile(r,{nxt_balance:n})}async createTokenTransaction(r){const{data:a,error:s}=await j.from("token_transactions").insert({...r,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}).select("id").single();return s?(console.error("Error creating token transaction:",s),null):a.id}async getTokenTransactions(r,a){let s=j.from("token_transactions").select("*");r&&(s=s.eq("user_id",r)),a&&(s=s.eq("status",a)),s=s.order("created_at",{ascending:!1});const{data:l,error:n}=await s;return n?(console.error("Error fetching token transactions:",n),[]):l||[]}async updateTokenTransactionStatus(r,a,s){const{error:l}=await j.from("token_transactions").update({status:a,admin_notes:s,updated_at:new Date().toISOString()}).eq("id",r);if(l)return console.error("Error updating token transaction:",l),!1;if(a==="confirmed"){const{data:n}=await j.from("token_transactions").select("user_id, nxt_amount").eq("id",r).single();n&&await this.updateNXTBalance(n.user_id,n.nxt_amount,"add")}return!0}async createTradingOrder(r){const a=await this.getUserProfile(r.user_id);if(!a||a.nxt_balance<r.nxt_used)return null;await this.updateNXTBalance(r.user_id,r.nxt_used,"subtract");const{data:s,error:l}=await j.from("trading_orders").insert({...r,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}).select("id").single();return l?(console.error("Error creating trading order:",l),await this.updateNXTBalance(r.user_id,r.nxt_used,"add"),null):(await this.updateUserProfile(r.user_id,{total_trades:(a.total_trades||0)+1,total_volume:(a.total_volume||0)+r.total,total_commission_paid:(a.total_commission_paid||0)+r.commission}),s.id)}async getTradingOrders(r,a){let s=j.from("trading_orders").select("*");r&&(s=s.eq("user_id",r)),a&&(s=s.eq("exchange",a)),s=s.order("created_at",{ascending:!1});const{data:l,error:n}=await s;return n?(console.error("Error fetching trading orders:",n),[]):l||[]}async updateTradingOrderStatus(r,a,s,l){const{error:n}=await j.from("trading_orders").update({status:a,filled_amount:s,filled_price:l,updated_at:new Date().toISOString()}).eq("id",r);return n?(console.error("Error updating trading order:",n),!1):!0}async createTradingSignal(r){const{data:a,error:s}=await j.from("trading_signals").insert({...r,created_at:new Date().toISOString()}).select("id").single();return s?(console.error("Error creating trading signal:",s),null):a.id}async getTradingSignals(r,a){let s=j.from("trading_signals").select("*").gt("expires_at",new Date().toISOString());r&&(s=s.eq("exchange",r)),a&&(s=s.eq("symbol",a)),s=s.order("confidence",{ascending:!1});const{data:l,error:n}=await s;return n?(console.error("Error fetching trading signals:",n),[]):l||[]}async createArbitrageOpportunity(r){const{data:a,error:s}=await j.from("arbitrage_opportunities").insert({...r,created_at:new Date().toISOString()}).select("id").single();return s?(console.error("Error creating arbitrage opportunity:",s),null):a.id}async getArbitrageOpportunities(r){let a=j.from("arbitrage_opportunities").select("*").gt("expires_at",new Date().toISOString());r&&(a=a.eq("symbol",r)),a=a.order("profit_percentage",{ascending:!1});const{data:s,error:l}=await a;return l?(console.error("Error fetching arbitrage opportunities:",l),[]):s||[]}async createNewsItem(r){const{data:a,error:s}=await j.from("news_items").insert({...r,created_at:new Date().toISOString()}).select("id").single();return s?(console.error("Error creating news item:",s),null):a.id}async getNewsItems(r,a=50){let s=j.from("news_items").select("*");r&&r.length>0&&(s=s.overlaps("related_symbols",r)),s=s.order("created_at",{ascending:!1}).limit(a);const{data:l,error:n}=await s;return n?(console.error("Error fetching news items:",n),[]):l||[]}async getPlatformStats(){const[{count:r},{count:a},{count:s},{data:l}]=await Promise.all([j.from("user_profiles").select("*",{count:"exact",head:!0}),j.from("token_transactions").select("*",{count:"exact",head:!0}),j.from("trading_orders").select("*",{count:"exact",head:!0}),j.from("trading_orders").select("total").eq("status","filled")]),n=(l==null?void 0:l.reduce((m,u)=>m+u.total,0))||0;return{totalUsers:r||0,totalTransactions:a||0,totalOrders:s||0,totalVolume:n,timestamp:new Date().toISOString()}}async getUserTradingStats(r){var m,u,M;const[{data:a},{data:s}]=await Promise.all([j.from("trading_orders").select("*").eq("user_id",r),j.from("user_profiles").select("*").eq("id",r).single()]),l=(a==null?void 0:a.filter(C=>C.status==="filled"))||[],n=l.reduce((C,F)=>C+(F.side==="buy"?-F.total:F.total),0);return{totalOrders:(a==null?void 0:a.length)||0,filledOrders:l.length,totalVolume:((m=s==null?void 0:s.data)==null?void 0:m.total_volume)||0,totalCommissionPaid:((u=s==null?void 0:s.data)==null?void 0:u.total_commission_paid)||0,estimatedPnL:n,nxtBalance:((M=s==null?void 0:s.data)==null?void 0:M.nxt_balance)||0}}subscribeToTokenTransactions(r){return j.channel("token_transactions").on("postgres_changes",{event:"*",schema:"public",table:"token_transactions"},r).subscribe()}subscribeToPriceAlerts(r,a){return j.channel(`price_alerts_${r}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"price_alerts",filter:`user_id=eq.${r}`},a).subscribe()}}const G=new $e;function Ie({exchange:N,symbol:r,currentPrice:a}){const[s,l]=p.useState(null),[n,m]=p.useState(null),[u,M]=p.useState([]),[C,F]=p.useState(!1),[E,I]=p.useState([]),[T,k]=p.useState(""),[L,H]=p.useState(!1);p.useEffect(()=>{O(),B()},[N,r]);const O=async()=>{try{const t=await G.getTradingSignals(N,r);M(t)}catch(t){console.error("Error loading trading signals:",t)}},K=async()=>{if(!a){S.error("Fiyat verisi gerekli");return}F(!0);try{await new Promise(c=>setTimeout(c,2e3));const t={signal:Math.random()>.5?"BUY":Math.random()>.3?"SELL":"HOLD",confidence:Math.floor(Math.random()*40)+60,reasoning:X(a),targetPrice:a.price*(1+(Math.random()*.1-.05)),stopLoss:a.price*(1-Math.random()*.05),timeframe:["1H","4H","1D","1W"][Math.floor(Math.random()*4)],riskLevel:["LOW","MEDIUM","HIGH"][Math.floor(Math.random()*3)],technicalIndicators:{rsi:Math.floor(Math.random()*100),macd:Math.random()>.5?"BULLISH":"BEARISH",bollinger:Math.random()>.5?"OVERSOLD":"OVERBOUGHT",volume:Math.random()>.5?"HIGH":"NORMAL"}};l(t),await G.createTradingSignal({exchange:N,symbol:r,signal_type:t.signal.toLowerCase(),confidence:t.confidence,target_price:t.targetPrice,stop_loss:t.stopLoss,reasoning:t.reasoning,ai_generated:!0,expires_at:new Date(Date.now()+24*60*60*1e3).toISOString()}),await O(),S.success("AI analizi tamamlandı!")}catch(t){console.error("Error generating AI analysis:",t),S.error("AI analizi sırasında hata oluştu")}finally{F(!1)}},X=t=>[`${r} için teknik analiz güçlü ${t.change24h>0?"yükseliş":"düşüş"} sinyali gösteriyor.`,`Hacim analizi ${t.volume24h>1e6?"yüksek":"normal"} aktivite seviyesi gösteriyor.`,`Piyasa yapısı ve destek/direnç seviyeleri ${t.change24h>2?"pozitif":"nötr"} görünüm sergiliyor.`,`Makroekonomik faktörler ve sektör analizi ${Math.random()>.5?"destekleyici":"karışık"} sinyaller veriyor.`,`Risk/ödül oranı mevcut seviyelerden ${Math.random()>.5?"cazip":"dikkatli"} görünüyor.`].slice(0,3).join(" "),B=async()=>{try{const t={overall:["BULLISH","BEARISH","NEUTRAL"][Math.floor(Math.random()*3)],score:Math.floor(Math.random()*100),factors:["Sosyal medya analizi","Haber sentiment analizi","Teknik göstergeler","Hacim analizi","Kurumsal aktivite"],newsImpact:Math.floor(Math.random()*100),socialSentiment:Math.floor(Math.random()*100)};m(t)}catch(t){console.error("Error generating market sentiment:",t)}},x=async()=>{if(!T.trim())return;const t={role:"user",content:T};I(c=>[...c,t]),k(""),H(!0);try{await new Promise(o=>setTimeout(o,1500));const c=[`${r} için mevcut piyasa koşullarında ${a!=null&&a.change24h&&a.change24h>0?"pozitif":"negatif"} bir trend gözlemliyorum. Risk yönetimi önemli.`,`Teknik analiz açısından ${r} ${Math.random()>.5?"güçlü destek seviyesinde":"kritik direnç seviyesinde"} bulunuyor.`,`Piyasa volatilitesi göz önüne alındığında, ${r} için ${Math.random()>.5?"kademeli pozisyon alma":"stop-loss kullanma"} stratejisi önerebilirim.`,`Makroekonomik veriler ${r} sektörü için ${Math.random()>.5?"destekleyici":"karışık"} sinyaller gönderiyor.`],i={role:"ai",content:c[Math.floor(Math.random()*c.length)]};I(o=>[...o,i])}catch(c){console.error("Error generating AI response:",c),S.error("AI yanıtı alınamadı")}finally{H(!1)}},$=t=>{switch(t.toUpperCase()){case"BUY":return"text-green-400 bg-green-500/10 border-green-500/20";case"SELL":return"text-red-400 bg-red-500/10 border-red-500/20";default:return"text-yellow-400 bg-yellow-500/10 border-yellow-500/20"}},d=t=>{switch(t){case"LOW":return"text-green-400";case"MEDIUM":return"text-yellow-400";case"HIGH":return"text-red-400";default:return"text-gray-400"}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(v,{className:"bg-black/40 border-purple-500/20 backdrop-blur-xl",children:[e.jsx(P,{children:e.jsxs(_,{className:"text-purple-400 flex items-center gap-2",children:[e.jsx(ne,{className:"h-5 w-5"}),"AI Trading Assistant"]})}),e.jsxs(w,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(D,{onClick:K,disabled:C||!a,className:"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-400 hover:to-pink-400 text-white",children:C?e.jsxs(e.Fragment,{children:[e.jsx(ne,{className:"h-4 w-4 mr-2 animate-spin"}),"Analiz Ediliyor..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Y,{className:"h-4 w-4 mr-2"}),"AI Analizi Başlat"]})}),a&&e.jsxs("div",{className:"text-sm text-purple-400/80",children:["Mevcut Fiyat: $",a.price.toLocaleString()]})]}),s&&e.jsxs("div",{className:"bg-purple-500/10 border border-purple-500/20 rounded-lg p-4 space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(y,{className:`${$(s.signal)} font-semibold`,children:[s.signal==="BUY"&&e.jsx(J,{className:"h-3 w-3 mr-1"}),s.signal==="SELL"&&e.jsx(ie,{className:"h-3 w-3 mr-1"}),s.signal==="HOLD"&&e.jsx(V,{className:"h-3 w-3 mr-1"}),s.signal]}),e.jsxs(y,{variant:"outline",className:"text-purple-400 border-purple-500/30",children:[s.confidence,"% Güven"]}),e.jsxs(y,{variant:"outline",className:`${d(s.riskLevel)} border-current/30`,children:[s.riskLevel," Risk"]})]}),e.jsxs("div",{className:"text-sm text-purple-400/80",children:[s.timeframe," Zaman Dilimi"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-purple-400/60 uppercase mb-1",children:"Hedef Fiyat"}),e.jsxs("p",{className:"text-lg font-semibold text-green-400",children:["$",s.targetPrice.toFixed(2)]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-purple-400/60 uppercase mb-1",children:"Stop Loss"}),e.jsxs("p",{className:"text-lg font-semibold text-red-400",children:["$",s.stopLoss.toFixed(2)]})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-purple-400/60 uppercase mb-2",children:"AI Analiz Sonucu"}),e.jsx("p",{className:"text-sm text-purple-400/80",children:s.reasoning})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-xs",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-purple-400/60",children:"RSI"}),e.jsx("p",{className:"text-purple-400 font-semibold",children:s.technicalIndicators.rsi})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-purple-400/60",children:"MACD"}),e.jsx("p",{className:"text-purple-400 font-semibold",children:s.technicalIndicators.macd})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-purple-400/60",children:"Bollinger"}),e.jsx("p",{className:"text-purple-400 font-semibold",children:s.technicalIndicators.bollinger})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-purple-400/60",children:"Hacim"}),e.jsx("p",{className:"text-purple-400 font-semibold",children:s.technicalIndicators.volume})]})]})]})]})]}),n&&e.jsxs(v,{className:"bg-black/40 border-blue-500/20 backdrop-blur-xl",children:[e.jsx(P,{children:e.jsxs(_,{className:"text-blue-400 flex items-center gap-2",children:[e.jsx(ce,{className:"h-5 w-5"}),"Piyasa Duyarlılığı"]})}),e.jsx(w,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(y,{className:`${n.overall==="BULLISH"?"text-green-400 bg-green-500/10 border-green-500/20":n.overall==="BEARISH"?"text-red-400 bg-red-500/10 border-red-500/20":"text-yellow-400 bg-yellow-500/10 border-yellow-500/20"} text-lg px-3 py-1`,children:n.overall}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-2xl font-bold text-blue-400",children:[n.score,"/100"]}),e.jsx("p",{className:"text-xs text-blue-400/60",children:"Sentiment Skoru"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-blue-400/60 uppercase mb-2",children:"Haber Etkisi"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"flex-1 bg-blue-500/20 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-400 h-2 rounded-full transition-all duration-300",style:{width:`${n.newsImpact}%`}})}),e.jsxs("span",{className:"text-sm text-blue-400",children:[n.newsImpact,"%"]})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-blue-400/60 uppercase mb-2",children:"Sosyal Medya"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"flex-1 bg-blue-500/20 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-400 h-2 rounded-full transition-all duration-300",style:{width:`${n.socialSentiment}%`}})}),e.jsxs("span",{className:"text-sm text-blue-400",children:[n.socialSentiment,"%"]})]})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-blue-400/60 uppercase mb-2",children:"Analiz Faktörleri"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:n.factors.map((t,c)=>e.jsx(y,{variant:"outline",className:"text-blue-400 border-blue-500/30 text-xs",children:t},c))})]})]})})]}),u.length>0&&e.jsxs(v,{className:"bg-black/40 border-cyan-500/20 backdrop-blur-xl",children:[e.jsx(P,{children:e.jsxs(_,{className:"text-cyan-400 flex items-center gap-2",children:[e.jsx(Fe,{className:"h-5 w-5"}),"Son AI Sinyalleri"]})}),e.jsx(w,{children:e.jsx("div",{className:"space-y-3",children:u.slice(0,5).map(t=>e.jsxs("div",{className:"bg-cyan-500/10 border border-cyan-500/20 rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(y,{className:$(t.signal_type),children:t.signal_type.toUpperCase()}),e.jsxs(y,{variant:"outline",className:"text-cyan-400 border-cyan-500/30",children:[t.confidence,"%"]})]}),e.jsx("div",{className:"text-xs text-cyan-400/60",children:new Date(t.created_at).toLocaleString()})]}),e.jsx("p",{className:"text-sm text-cyan-400/80 mb-2",children:t.reasoning}),e.jsxs("div",{className:"flex items-center gap-4 text-xs",children:[e.jsxs("span",{className:"text-green-400",children:["Hedef: $",t.target_price.toFixed(2)]}),e.jsxs("span",{className:"text-red-400",children:["Stop: $",t.stop_loss.toFixed(2)]})]})]},t.id))})})]}),e.jsxs(v,{className:"bg-black/40 border-green-500/20 backdrop-blur-xl",children:[e.jsx(P,{children:e.jsxs(_,{className:"text-green-400 flex items-center gap-2",children:[e.jsx(te,{className:"h-5 w-5"}),"AI Sohbet Asistanı"]})}),e.jsx(w,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"h-64 overflow-y-auto bg-green-500/10 border border-green-500/20 rounded-lg p-3 space-y-2",children:[E.length===0?e.jsxs("div",{className:"text-center text-green-400/60 py-8",children:[e.jsx(te,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),e.jsx("p",{children:"AI asistanınızla sohbete başlayın"}),e.jsx("p",{className:"text-xs mt-1",children:"Piyasa analizi, strateji önerileri ve daha fazlası..."})]}):E.map((t,c)=>e.jsx("div",{className:`flex ${t.role==="user"?"justify-end":"justify-start"}`,children:e.jsx("div",{className:`max-w-[80%] p-2 rounded-lg text-sm ${t.role==="user"?"bg-green-500/20 text-green-400":"bg-black/40 text-green-400/80"}`,children:t.content})},c)),L&&e.jsx("div",{className:"flex justify-start",children:e.jsx("div",{className:"bg-black/40 text-green-400/80 p-2 rounded-lg text-sm",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"animate-spin h-3 w-3 border border-green-400 border-t-transparent rounded-full"}),"AI düşünüyor..."]})})})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(re,{value:T,onChange:t=>k(t.target.value),placeholder:"AI asistanına sorunuzu yazın...",className:"bg-black/40 border-green-500/20 text-green-400",onKeyPress:t=>t.key==="Enter"&&x()}),e.jsx(D,{onClick:x,disabled:!T.trim()||L,className:"bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-400 hover:to-emerald-400 text-white",children:e.jsx(te,{className:"h-4 w-4"})})]})]})})]})]})}function Ae({symbols:N,exchanges:r}){const[a,s]=p.useState([]),[l,n]=p.useState(!1),[m,u]=p.useState(null),[M,C]=p.useState(N[0]||""),[F,E]=p.useState(.5),[I,T]=p.useState(null),[k,L]=p.useState(!1);p.useEffect(()=>(k?H():O(),()=>O()),[k]);const H=()=>{I&&clearInterval(I);const d=setInterval(()=>{K()},3e4);T(d)},O=()=>{I&&(clearInterval(I),T(null))},K=async()=>{n(!0);const d=[];try{for(const t of N){const c=[];for(const i of r)try{const o=await ee.getRealTimePrice(i,t);c.push({exchange:i,price:o})}catch(o){console.warn(`Failed to fetch price for ${t} on ${i}:`,o)}for(let i=0;i<c.length;i++)for(let o=i+1;o<c.length;o++){const b=c[i],h=c[o];let g=0,f=0,A=0,q=b,R=h;if(b.price.price<h.price.price?(f=b.price.price,A=h.price.price,g=(A-f)/f*100):h.price.price<b.price.price&&(f=h.price.price,A=b.price.price,g=(A-f)/f*100,q=h,R=b),g>=F){const W={id:`${t}-${q.exchange}-${R.exchange}-${Date.now()}`,symbol:t,buy_exchange:q.exchange,sell_exchange:R.exchange,buy_price:f,sell_price:A,profit_percentage:g,volume_available:Math.min(q.price.volume24h*.001,R.price.volume24h*.001),created_at:new Date().toISOString(),expires_at:new Date(Date.now()+3e5).toISOString(),buyExchangeData:q.price,sellExchangeData:R.price,estimatedProfit:(A-f)*1e3,executionTime:Math.floor(Math.random()*30)+10};d.push(W);try{await G.createArbitrageOpportunity({symbol:t,buy_exchange:q.exchange,sell_exchange:R.exchange,buy_price:f,sell_price:A,profit_percentage:g,volume_available:W.volume_available,expires_at:W.expires_at})}catch(se){console.error("Error saving arbitrage opportunity:",se)}}}}d.sort((t,c)=>c.profit_percentage-t.profit_percentage),s(d),u(new Date),d.length>0&&S.success(`${d.length} arbitraj fırsatı bulundu!`)}catch(t){console.error("Error scanning for arbitrage opportunities:",t),S.error("Arbitraj taraması sırasında hata oluştu")}finally{n(!1)}},X=async d=>{var c;S.info("Arbitraj işlemi simüle ediliyor..."),await new Promise(i=>setTimeout(i,d.executionTime*100)),Math.random()>.2?(S.success(`Arbitraj işlemi başarılı! Tahmini kar: $${(c=d.estimatedProfit)==null?void 0:c.toFixed(2)}`),s(i=>i.filter(o=>o.id!==d.id))):S.error("Arbitraj işlemi başarısız - piyasa koşulları değişti")},B=d=>d>=2?"text-green-400 bg-green-500/10 border-green-500/20":d>=1?"text-yellow-400 bg-yellow-500/10 border-yellow-500/20":"text-orange-400 bg-orange-500/10 border-orange-500/20",x=(d,t)=>d>3||t<1e3?"HIGH":d>1.5||t<5e3?"MEDIUM":"LOW",$=d=>{switch(d){case"LOW":return"text-green-400";case"MEDIUM":return"text-yellow-400";case"HIGH":return"text-red-400";default:return"text-gray-400"}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(v,{className:"bg-black/40 border-orange-500/20 backdrop-blur-xl",children:[e.jsx(P,{children:e.jsxs(_,{className:"text-orange-400 flex items-center gap-2",children:[e.jsx(Y,{className:"h-5 w-5"}),"Arbitraj Fırsatları Detektörü"]})}),e.jsxs(w,{className:"space-y-4",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[e.jsx(D,{onClick:K,disabled:l,className:"bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-400 hover:to-red-400 text-white",children:l?e.jsxs(e.Fragment,{children:[e.jsx(Pe,{className:"h-4 w-4 mr-2 animate-spin"}),"Taranıyor..."]}):e.jsxs(e.Fragment,{children:[e.jsx(V,{className:"h-4 w-4 mr-2"}),"Arbitraj Tara"]})}),e.jsx(D,{onClick:()=>L(!k),variant:k?"default":"outline",className:k?"bg-gradient-to-r from-green-500 to-emerald-500 text-white":"bg-black/40 border-orange-500/20 text-orange-400 hover:bg-orange-500/10",children:k?e.jsxs(e.Fragment,{children:[e.jsx(Q,{className:"h-4 w-4 mr-2"}),"Otomatik Tarama Açık"]}):e.jsxs(e.Fragment,{children:[e.jsx(pe,{className:"h-4 w-4 mr-2"}),"Otomatik Tarama Kapalı"]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-orange-400/80",children:"Min Kar (%):"}),e.jsx("input",{type:"number",value:F,onChange:d=>E(parseFloat(d.target.value)||0),className:"w-20 px-2 py-1 bg-black/40 border border-orange-500/20 rounded text-orange-400 text-sm",step:"0.1",min:"0"})]})]}),m&&e.jsxs("div",{className:"text-sm text-orange-400/60",children:["Son tarama: ",m.toLocaleTimeString()]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{className:"bg-orange-500/10 border border-orange-500/20 rounded-lg p-3",children:[e.jsx("p",{className:"text-orange-400/60 uppercase text-xs mb-1",children:"Aktif Fırsatlar"}),e.jsx("p",{className:"text-2xl font-bold text-orange-400",children:a.length})]}),e.jsxs("div",{className:"bg-green-500/10 border border-green-500/20 rounded-lg p-3",children:[e.jsx("p",{className:"text-green-400/60 uppercase text-xs mb-1",children:"En Yüksek Kar"}),e.jsx("p",{className:"text-2xl font-bold text-green-400",children:a.length>0?`${a[0].profit_percentage.toFixed(2)}%`:"0%"})]}),e.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/20 rounded-lg p-3",children:[e.jsx("p",{className:"text-blue-400/60 uppercase text-xs mb-1",children:"Tarama Durumu"}),e.jsx("p",{className:"text-lg font-semibold text-blue-400",children:l?"Taranıyor":k?"Otomatik":"Manuel"})]})]})]})]}),e.jsxs(v,{className:"bg-black/40 border-orange-500/20 backdrop-blur-xl",children:[e.jsx(P,{children:e.jsxs(_,{className:"text-orange-400 flex items-center gap-2",children:[e.jsx(_e,{className:"h-5 w-5"}),"Mevcut Arbitraj Fırsatları"]})}),e.jsx(w,{children:a.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(V,{className:"h-16 w-16 mx-auto mb-4 text-orange-400/30"}),e.jsx("p",{className:"text-orange-400/60 text-lg mb-2",children:"Henüz arbitraj fırsatı bulunamadı"}),e.jsx("p",{className:"text-orange-400/40 text-sm",children:l?"Piyasalar taranıyor...":"Tarama başlatmak için yukarıdaki butonu kullanın"})]}):e.jsx("div",{className:"space-y-4",children:a.map(d=>{var b;const t=x(d.profit_percentage,d.volume_available),c=Math.max(0,new Date(d.expires_at).getTime()-Date.now()),i=Math.floor(c/6e4),o=Math.floor(c%6e4/1e3);return e.jsxs("div",{className:"bg-orange-500/10 border border-orange-500/20 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(y,{className:"text-orange-400 bg-orange-500/20 border-orange-500/30 font-semibold",children:d.symbol}),e.jsxs(y,{className:B(d.profit_percentage),children:[e.jsx(J,{className:"h-3 w-3 mr-1"}),d.profit_percentage.toFixed(2),"% Kar"]}),e.jsxs(y,{variant:"outline",className:`${$(t)} border-current/30`,children:[t," Risk"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"text-sm text-orange-400/60",children:[e.jsx(pe,{className:"h-3 w-3 inline mr-1"}),i,":",o.toString().padStart(2,"0")]}),e.jsxs(D,{size:"sm",onClick:()=>X(d),className:"bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-400 hover:to-emerald-400 text-white",children:[e.jsx(Y,{className:"h-3 w-3 mr-1"}),"Çalıştır"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-3",children:[e.jsxs("div",{className:"bg-red-500/10 border border-red-500/20 rounded-lg p-3",children:[e.jsx("p",{className:"text-xs text-red-400/60 uppercase mb-1",children:"Satın Al"}),e.jsx("p",{className:"text-lg font-semibold text-red-400",children:le[d.buy_exchange].name}),e.jsxs("p",{className:"text-sm text-red-400/80",children:["$",d.buy_price.toFixed(4)]})]}),e.jsxs("div",{className:"bg-green-500/10 border border-green-500/20 rounded-lg p-3",children:[e.jsx("p",{className:"text-xs text-green-400/60 uppercase mb-1",children:"Sat"}),e.jsx("p",{className:"text-lg font-semibold text-green-400",children:le[d.sell_exchange].name}),e.jsxs("p",{className:"text-sm text-green-400/80",children:["$",d.sell_price.toFixed(4)]})]}),e.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/20 rounded-lg p-3",children:[e.jsx("p",{className:"text-xs text-blue-400/60 uppercase mb-1",children:"Tahmini Kar"}),e.jsxs("p",{className:"text-lg font-semibold text-blue-400",children:["$",(b=d.estimatedProfit)==null?void 0:b.toFixed(2)]}),e.jsx("p",{className:"text-sm text-blue-400/80",children:"1000 birim için"})]})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("span",{className:"text-orange-400/60",children:["Mevcut Hacim: ",d.volume_available.toLocaleString()]}),e.jsxs("span",{className:"text-orange-400/60",children:["Tahmini Süre: ",d.executionTime,"s"]})]}),t==="HIGH"&&e.jsxs("div",{className:"flex items-center gap-1 text-red-400",children:[e.jsx(Z,{className:"h-3 w-3"}),e.jsx("span",{className:"text-xs",children:"Yüksek Risk"})]})]})]},d.id)})})})]}),e.jsxs(v,{className:"bg-black/40 border-orange-500/20 backdrop-blur-xl",children:[e.jsx(P,{children:e.jsxs(_,{className:"text-orange-400 flex items-center gap-2",children:[e.jsx(Me,{className:"h-5 w-5"}),"Arbitraj İstatistikleri"]})}),e.jsx(w,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-orange-400",children:a.reduce((d,t)=>d+(t.estimatedProfit||0),0).toFixed(2)}),e.jsx("p",{className:"text-xs text-orange-400/60 uppercase",children:"Toplam Potansiyel Kar ($)"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("p",{className:"text-2xl font-bold text-orange-400",children:[a.length>0?(a.reduce((d,t)=>d+t.profit_percentage,0)/a.length).toFixed(2):"0","%"]}),e.jsx("p",{className:"text-xs text-orange-400/60 uppercase",children:"Ortalama Kar Oranı"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-orange-400",children:r.length}),e.jsx("p",{className:"text-xs text-orange-400/60 uppercase",children:"Takip Edilen Borsa"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-orange-400",children:N.length}),e.jsx("p",{className:"text-xs text-orange-400/60 uppercase",children:"Takip Edilen Sembol"})]})]})})]})]})}function Ce({userId:N}){const[r,a]=p.useState([]),[s,l]=p.useState(null),[n,m]=p.useState(null),[u,M]=p.useState(null),[C,F]=p.useState(!1),[E,I]=p.useState([]),[T,k]=p.useState([]);p.useEffect(()=>{L();const t=setInterval(L,6e4);return()=>clearInterval(t)},[N]);const L=async()=>{F(!0);try{const c=(await G.getTradingOrders(N)).filter(h=>h.status==="filled"),i=new Map;for(const h of c){const g=`${h.symbol}-${h.exchange}`,f=i.get(g);f?h.side==="buy"?(f.quantity+=h.filled_amount||h.amount,f.totalCost+=h.total):(f.quantity-=h.filled_amount||h.amount,f.totalCost-=h.total):i.set(g,{symbol:h.symbol,exchange:h.exchange,quantity:h.side==="buy"?h.filled_amount||h.amount:-(h.filled_amount||h.amount),totalCost:h.side==="buy"?h.total:-h.total,orders:[h]})}const o=[];let b=0;for(const[h,g]of i)if(g.quantity>0)try{const A=(await ee.getRealTimePrice(g.exchange,g.symbol)).price,q=g.totalCost/g.quantity,R=g.quantity*A,W=R-g.totalCost,se=W/g.totalCost*100;b+=R,o.push({symbol:g.symbol,exchange:g.exchange,quantity:g.quantity,averagePrice:q,currentPrice:A,totalValue:R,unrealizedPnL:W,unrealizedPnLPercent:se,allocation:0,lastUpdated:new Date})}catch(f){console.error(`Error fetching price for ${g.symbol}:`,f)}o.forEach(h=>{h.allocation=h.totalValue/b*100}),a(o),await H(o,b),await O(o),await K(c),await X(o),await B(o)}catch(t){console.error("Error loading portfolio data:",t)}finally{F(!1)}},H=async(t,c)=>{const i=t.reduce((g,f)=>g+f.averagePrice*f.quantity,0),o=c-i,b=o/i*100,h={totalValue:c,totalCost:i,totalPnL:o,totalPnLPercent:b,dayChange:c*(Math.random()*.1-.05),dayChangePercent:Math.random()*10-5,sharpeRatio:Math.random()*2+.5,maxDrawdown:Math.random()*30+5,volatility:Math.random()*40+10,beta:Math.random()*1.5+.5};l(h)},O=async t=>{const c=t.reduce((b,h)=>b+h.totalValue,0),i=t.reduce((b,h)=>{const g=h.allocation/100;return b+g*g},0)*100,o={valueAtRisk:c*(Math.random()*.15+.05),expectedShortfall:c*(Math.random()*.25+.08),concentrationRisk:i,correlationRisk:Math.random()*100,liquidityRisk:Math.random()*100,overallRiskScore:Math.random()*100};m(o)},K=async t=>{const c={returns1D:Math.random()*10-5,returns7D:Math.random()*20-10,returns30D:Math.random()*40-20,returns90D:Math.random()*60-30,returns1Y:Math.random()*200-100,winRate:Math.random()*40+40,profitFactor:Math.random()*2+.5,maxConsecutiveWins:Math.floor(Math.random()*10)+1,maxConsecutiveLosses:Math.floor(Math.random()*8)+1};M(c)},X=async t=>{const c=[],i=t.filter(o=>o.allocation>20);for(const o of i)c.push({type:"REDUCE",symbol:o.symbol,currentAllocation:o.allocation,targetAllocation:15,action:`${o.symbol} pozisyonunu %${o.allocation.toFixed(1)}'den %15'e düşürün`,priority:"HIGH",reason:"Aşırı konsantrasyon riski"});t.length<5&&c.push({type:"DIVERSIFY",symbol:"PORTFOLIO",currentAllocation:0,targetAllocation:0,action:"Portföyünüze farklı sektörlerden varlıklar ekleyin",priority:"MEDIUM",reason:"Yetersiz çeşitlendirme"}),I(c)},B=async t=>{const c=[];for(const i of t)i.unrealizedPnLPercent<-15&&c.push({type:"HIGH_LOSS",symbol:i.symbol,severity:"HIGH",message:`${i.symbol} %${Math.abs(i.unrealizedPnLPercent).toFixed(1)} zarar ediyor`,recommendation:"Stop-loss seviyelerini gözden geçirin"}),i.allocation>25&&c.push({type:"CONCENTRATION",symbol:i.symbol,severity:"MEDIUM",message:`${i.symbol} portföyün %${i.allocation.toFixed(1)}'ini oluşturuyor`,recommendation:"Pozisyon boyutunu azaltmayı düşünün"});k(c)},x=(t,c=!1)=>t>0?"text-green-400":t<0?"text-red-400":"text-gray-400",$=t=>t>70?"text-red-400":t>40?"text-yellow-400":"text-green-400",d=t=>{switch(t){case"HIGH":return"text-red-400 bg-red-500/10 border-red-500/20";case"MEDIUM":return"text-yellow-400 bg-yellow-500/10 border-yellow-500/20";case"LOW":return"text-green-400 bg-green-500/10 border-green-500/20";default:return"text-gray-400 bg-gray-500/10 border-gray-500/20"}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(v,{className:"bg-black/40 border-blue-500/20 backdrop-blur-xl",children:[e.jsx(P,{children:e.jsxs(_,{className:"text-blue-400 flex items-center gap-2",children:[e.jsx(ue,{className:"h-5 w-5"}),"Portföy Genel Bakış"]})}),e.jsx(w,{children:s&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/20 rounded-lg p-4",children:[e.jsx("p",{className:"text-xs text-blue-400/60 uppercase mb-1",children:"Toplam Değer"}),e.jsxs("p",{className:"text-2xl font-bold text-blue-400",children:["$",s.totalValue.toLocaleString()]}),e.jsxs("p",{className:`text-sm ${x(s.dayChange)}`,children:[s.dayChange>0?"+":"","$",s.dayChange.toFixed(2)," (",s.dayChangePercent.toFixed(2),"%)"]})]}),e.jsxs("div",{className:"bg-green-500/10 border border-green-500/20 rounded-lg p-4",children:[e.jsx("p",{className:"text-xs text-green-400/60 uppercase mb-1",children:"Toplam P&L"}),e.jsxs("p",{className:`text-2xl font-bold ${x(s.totalPnL)}`,children:[s.totalPnL>0?"+":"","$",s.totalPnL.toLocaleString()]}),e.jsxs("p",{className:`text-sm ${x(s.totalPnLPercent)}`,children:[s.totalPnLPercent>0?"+":"",s.totalPnLPercent.toFixed(2),"%"]})]}),e.jsxs("div",{className:"bg-purple-500/10 border border-purple-500/20 rounded-lg p-4",children:[e.jsx("p",{className:"text-xs text-purple-400/60 uppercase mb-1",children:"Sharpe Oranı"}),e.jsx("p",{className:"text-2xl font-bold text-purple-400",children:s.sharpeRatio.toFixed(2)}),e.jsx("p",{className:"text-sm text-purple-400/80",children:"Risk Ayarlı Getiri"})]}),e.jsxs("div",{className:"bg-orange-500/10 border border-orange-500/20 rounded-lg p-4",children:[e.jsx("p",{className:"text-xs text-orange-400/60 uppercase mb-1",children:"Max Drawdown"}),e.jsxs("p",{className:"text-2xl font-bold text-orange-400",children:[s.maxDrawdown.toFixed(1),"%"]}),e.jsx("p",{className:"text-sm text-orange-400/80",children:"En Büyük Düşüş"})]})]})})]}),e.jsxs(je,{defaultValue:"positions",className:"space-y-6",children:[e.jsxs(fe,{className:"grid w-full grid-cols-5 bg-black/40 border border-blue-500/20",children:[e.jsx(U,{value:"positions",className:"data-[state=active]:bg-blue-500/20 data-[state=active]:text-blue-400",children:"Pozisyonlar"}),e.jsx(U,{value:"risk",className:"data-[state=active]:bg-blue-500/20 data-[state=active]:text-blue-400",children:"Risk Analizi"}),e.jsx(U,{value:"performance",className:"data-[state=active]:bg-blue-500/20 data-[state=active]:text-blue-400",children:"Performans"}),e.jsx(U,{value:"rebalance",className:"data-[state=active]:bg-blue-500/20 data-[state=active]:text-blue-400",children:"Rebalans"}),e.jsx(U,{value:"alerts",className:"data-[state=active]:bg-blue-500/20 data-[state=active]:text-blue-400",children:"Uyarılar"})]}),e.jsx(z,{value:"positions",className:"space-y-4",children:e.jsxs(v,{className:"bg-black/40 border-blue-500/20 backdrop-blur-xl",children:[e.jsx(P,{children:e.jsxs(_,{className:"text-blue-400 flex items-center gap-2",children:[e.jsx(ce,{className:"h-5 w-5"}),"Mevcut Pozisyonlar"]})}),e.jsx(w,{children:r.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(ue,{className:"h-16 w-16 mx-auto mb-4 text-blue-400/30"}),e.jsx("p",{className:"text-blue-400/60",children:"Henüz pozisyon bulunmuyor"})]}):e.jsx("div",{className:"space-y-3",children:r.map((t,c)=>e.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/20 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(y,{className:"text-blue-400 bg-blue-500/20 border-blue-500/30",children:t.symbol}),e.jsx(y,{variant:"outline",className:"text-blue-400/80 border-blue-500/30",children:t.exchange}),e.jsxs(y,{className:`${x(t.unrealizedPnL)} bg-current/10 border-current/20`,children:[t.unrealizedPnL>0?"+":"","$",t.unrealizedPnL.toFixed(2)]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-lg font-semibold text-blue-400",children:[t.allocation.toFixed(1),"%"]}),e.jsx("p",{className:"text-xs text-blue-400/60",children:"Portföy Ağırlığı"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-blue-400/60",children:"Miktar"}),e.jsx("p",{className:"text-blue-400 font-semibold",children:t.quantity.toLocaleString()})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-blue-400/60",children:"Ortalama Fiyat"}),e.jsxs("p",{className:"text-blue-400 font-semibold",children:["$",t.averagePrice.toFixed(4)]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-blue-400/60",children:"Mevcut Fiyat"}),e.jsxs("p",{className:"text-blue-400 font-semibold",children:["$",t.currentPrice.toFixed(4)]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-blue-400/60",children:"Toplam Değer"}),e.jsxs("p",{className:"text-blue-400 font-semibold",children:["$",t.totalValue.toLocaleString()]})]})]}),e.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[e.jsxs("div",{className:`text-sm ${x(t.unrealizedPnLPercent)}`,children:["P&L: ",t.unrealizedPnLPercent>0?"+":"",t.unrealizedPnLPercent.toFixed(2),"%"]}),e.jsxs("div",{className:"text-xs text-blue-400/60",children:["Son Güncelleme: ",t.lastUpdated.toLocaleTimeString()]})]})]},c))})})]})}),e.jsx(z,{value:"risk",className:"space-y-4",children:e.jsxs(v,{className:"bg-black/40 border-red-500/20 backdrop-blur-xl",children:[e.jsx(P,{children:e.jsxs(_,{className:"text-red-400 flex items-center gap-2",children:[e.jsx(Ne,{className:"h-5 w-5"}),"Risk Analizi"]})}),e.jsx(w,{children:n&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-red-500/10 border border-red-500/20 rounded-lg p-4",children:[e.jsx("p",{className:"text-xs text-red-400/60 uppercase mb-1",children:"Value at Risk (95%)"}),e.jsxs("p",{className:"text-2xl font-bold text-red-400",children:["$",n.valueAtRisk.toLocaleString()]}),e.jsx("p",{className:"text-sm text-red-400/80",children:"Günlük potansiyel kayıp"})]}),e.jsxs("div",{className:"bg-orange-500/10 border border-orange-500/20 rounded-lg p-4",children:[e.jsx("p",{className:"text-xs text-orange-400/60 uppercase mb-1",children:"Expected Shortfall"}),e.jsxs("p",{className:"text-2xl font-bold text-orange-400",children:["$",n.expectedShortfall.toLocaleString()]}),e.jsx("p",{className:"text-sm text-orange-400/80",children:"Ortalama kuyruk riski"})]}),e.jsxs("div",{className:"bg-yellow-500/10 border border-yellow-500/20 rounded-lg p-4",children:[e.jsx("p",{className:"text-xs text-yellow-400/60 uppercase mb-1",children:"Konsantrasyon Riski"}),e.jsx("p",{className:"text-2xl font-bold text-yellow-400",children:n.concentrationRisk.toFixed(1)}),e.jsx("p",{className:"text-sm text-yellow-400/80",children:"Herfindahl İndeksi"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-red-400/80 mb-2",children:"Korelasyon Riski"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"flex-1 bg-red-500/20 rounded-full h-3",children:e.jsx("div",{className:`h-3 rounded-full transition-all duration-300 ${$(n.correlationRisk)} bg-current`,style:{width:`${n.correlationRisk}%`}})}),e.jsx("span",{className:`text-sm font-semibold ${$(n.correlationRisk)}`,children:n.correlationRisk.toFixed(0)})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-red-400/80 mb-2",children:"Likidite Riski"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"flex-1 bg-red-500/20 rounded-full h-3",children:e.jsx("div",{className:`h-3 rounded-full transition-all duration-300 ${$(n.liquidityRisk)} bg-current`,style:{width:`${n.liquidityRisk}%`}})}),e.jsx("span",{className:`text-sm font-semibold ${$(n.liquidityRisk)}`,children:n.liquidityRisk.toFixed(0)})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-red-400/80 mb-2",children:"Genel Risk Skoru"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"flex-1 bg-red-500/20 rounded-full h-3",children:e.jsx("div",{className:`h-3 rounded-full transition-all duration-300 ${$(n.overallRiskScore)} bg-current`,style:{width:`${n.overallRiskScore}%`}})}),e.jsx("span",{className:`text-sm font-semibold ${$(n.overallRiskScore)}`,children:n.overallRiskScore.toFixed(0)})]})]})]})]})})]})}),e.jsx(z,{value:"performance",className:"space-y-4",children:e.jsxs(v,{className:"bg-black/40 border-green-500/20 backdrop-blur-xl",children:[e.jsx(P,{children:e.jsxs(_,{className:"text-green-400 flex items-center gap-2",children:[e.jsx(ye,{className:"h-5 w-5"}),"Performans Metrikleri"]})}),e.jsx(w,{children:u&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("p",{className:`text-2xl font-bold ${x(u.returns1D)}`,children:[u.returns1D>0?"+":"",u.returns1D.toFixed(2),"%"]}),e.jsx("p",{className:"text-xs text-green-400/60 uppercase",children:"1 Gün"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("p",{className:`text-2xl font-bold ${x(u.returns7D)}`,children:[u.returns7D>0?"+":"",u.returns7D.toFixed(2),"%"]}),e.jsx("p",{className:"text-xs text-green-400/60 uppercase",children:"7 Gün"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("p",{className:`text-2xl font-bold ${x(u.returns30D)}`,children:[u.returns30D>0?"+":"",u.returns30D.toFixed(2),"%"]}),e.jsx("p",{className:"text-xs text-green-400/60 uppercase",children:"30 Gün"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("p",{className:`text-2xl font-bold ${x(u.returns90D)}`,children:[u.returns90D>0?"+":"",u.returns90D.toFixed(2),"%"]}),e.jsx("p",{className:"text-xs text-green-400/60 uppercase",children:"90 Gün"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("p",{className:`text-2xl font-bold ${x(u.returns1Y)}`,children:[u.returns1Y>0?"+":"",u.returns1Y.toFixed(2),"%"]}),e.jsx("p",{className:"text-xs text-green-400/60 uppercase",children:"1 Yıl"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-green-500/10 border border-green-500/20 rounded-lg p-4",children:[e.jsx("p",{className:"text-xs text-green-400/60 uppercase mb-1",children:"Kazanma Oranı"}),e.jsxs("p",{className:"text-2xl font-bold text-green-400",children:[u.winRate.toFixed(1),"%"]})]}),e.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/20 rounded-lg p-4",children:[e.jsx("p",{className:"text-xs text-blue-400/60 uppercase mb-1",children:"Kar Faktörü"}),e.jsx("p",{className:"text-2xl font-bold text-blue-400",children:u.profitFactor.toFixed(2)})]}),e.jsxs("div",{className:"bg-purple-500/10 border border-purple-500/20 rounded-lg p-4",children:[e.jsx("p",{className:"text-xs text-purple-400/60 uppercase mb-1",children:"Max Kazanç Serisi"}),e.jsx("p",{className:"text-2xl font-bold text-purple-400",children:u.maxConsecutiveWins})]}),e.jsxs("div",{className:"bg-orange-500/10 border border-orange-500/20 rounded-lg p-4",children:[e.jsx("p",{className:"text-xs text-orange-400/60 uppercase mb-1",children:"Max Kayıp Serisi"}),e.jsx("p",{className:"text-2xl font-bold text-orange-400",children:u.maxConsecutiveLosses})]})]})]})})]})}),e.jsx(z,{value:"rebalance",className:"space-y-4",children:e.jsxs(v,{className:"bg-black/40 border-purple-500/20 backdrop-blur-xl",children:[e.jsx(P,{children:e.jsxs(_,{className:"text-purple-400 flex items-center gap-2",children:[e.jsx(V,{className:"h-5 w-5"}),"Rebalans Önerileri"]})}),e.jsx(w,{children:E.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Q,{className:"h-16 w-16 mx-auto mb-4 text-green-400/30"}),e.jsx("p",{className:"text-green-400/60",children:"Portföyünüz dengeli görünüyor"}),e.jsx("p",{className:"text-green-400/40 text-sm mt-1",children:"Şu anda rebalans önerisi bulunmuyor"})]}):e.jsx("div",{className:"space-y-4",children:E.map((t,c)=>e.jsxs("div",{className:"bg-purple-500/10 border border-purple-500/20 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(y,{className:`${t.priority==="HIGH"?"text-red-400 bg-red-500/10 border-red-500/20":t.priority==="MEDIUM"?"text-yellow-400 bg-yellow-500/10 border-yellow-500/20":"text-green-400 bg-green-500/10 border-green-500/20"}`,children:t.priority}),e.jsx(y,{variant:"outline",className:"text-purple-400 border-purple-500/30",children:t.type})]}),e.jsxs(D,{size:"sm",className:"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-400 hover:to-pink-400 text-white",children:[e.jsx(Y,{className:"h-3 w-3 mr-1"}),"Uygula"]})]}),e.jsx("p",{className:"text-purple-400 mb-2",children:t.action}),e.jsx("p",{className:"text-sm text-purple-400/60",children:t.reason}),t.currentAllocation>0&&e.jsxs("div",{className:"mt-3 flex items-center gap-4 text-sm",children:[e.jsxs("span",{className:"text-purple-400/80",children:["Mevcut: %",t.currentAllocation.toFixed(1)]}),e.jsx("span",{className:"text-purple-400/80",children:"→"}),e.jsxs("span",{className:"text-purple-400/80",children:["Hedef: %",t.targetAllocation.toFixed(1)]})]})]},c))})})]})}),e.jsx(z,{value:"alerts",className:"space-y-4",children:e.jsxs(v,{className:"bg-black/40 border-yellow-500/20 backdrop-blur-xl",children:[e.jsx(P,{children:e.jsxs(_,{className:"text-yellow-400 flex items-center gap-2",children:[e.jsx(Z,{className:"h-5 w-5"}),"Risk Uyarıları"]})}),e.jsx(w,{children:T.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Q,{className:"h-16 w-16 mx-auto mb-4 text-green-400/30"}),e.jsx("p",{className:"text-green-400/60",children:"Aktif risk uyarısı bulunmuyor"}),e.jsx("p",{className:"text-green-400/40 text-sm mt-1",children:"Portföyünüz güvenli parametreler içinde"})]}):e.jsx("div",{className:"space-y-4",children:T.map((t,c)=>e.jsxs("div",{className:`border rounded-lg p-4 ${d(t.severity)}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Z,{className:"h-4 w-4"}),e.jsx(y,{className:d(t.severity),children:t.severity}),e.jsx("span",{className:"font-semibold",children:t.symbol})]}),e.jsx(y,{variant:"outline",className:"border-current/30",children:t.type})]}),e.jsx("p",{className:"mb-2",children:t.message}),e.jsx("p",{className:"text-sm opacity-80",children:t.recommendation})]},c))})})]})})]})]})}function ze(){const{exchange:N}=ke(),[r]=Se();r.get("category");const[a,s]=p.useState(""),[l,n]=p.useState(null),[m,u]=p.useState(1250.75),[M,C]=p.useState("buy"),[F,E]=p.useState(""),[I,T]=p.useState(""),[k,L]=p.useState("limit"),[H,O]=p.useState(!1),[K,X]=p.useState(null),[B]=p.useState("demo-user-id"),x=N?le[N.toUpperCase()]:null;p.useEffect(()=>{x&&x.defaults.length>0&&(s(x.defaults[0]),$(x.defaults[0]))},[x]),p.useEffect(()=>{if(x&&a){const i=ee.createWebSocketConnection(x.name,a,o=>{n(o),k==="market"&&T(o.price.toFixed(2))});if(i)return X(i),()=>{i.close()}}},[x,a]);const $=async i=>{if(x){O(!0);try{const o=await ee.getRealTimePrice(x.name,i);n(o),T(o.price.toFixed(2))}catch(o){console.error("Error loading market data:",o),S.error("Piyasa verisi yüklenemedi")}finally{O(!1)}}},d=()=>{if(!F||!I||!l)return null;const i=parseFloat(F),o=parseFloat(I),b=i*o,g=b*.001,A=g/.1;return{side:M,amount:i,price:o,total:b,commission:g,nxtRequired:A}},t=async()=>{const i=d();if(!i||!x){S.error("Lütfen geçerli değerler girin");return}if(m<i.nxtRequired){S.error("Yetersiz NXT bakiyesi! Komisyon için daha fazla token gerekli.");return}try{const o=await G.createTradingOrder({user_id:B,exchange:x.name,symbol:a,side:i.side,order_type:k,amount:i.amount,price:i.price,total:i.total,commission:i.commission,nxt_used:i.nxtRequired,status:"pending"});o?(u(b=>b-i.nxtRequired),S.success(`${i.side.toUpperCase()} emri başarıyla yerleştirildi! ${i.nxtRequired.toFixed(2)} NXT komisyon ödendi.`),E(""),T((l==null?void 0:l.price.toFixed(2))||""),setTimeout(async()=>{Math.random()>.1?(await G.updateTradingOrderStatus(o,"filled",i.amount,i.price),S.success(`${i.side.toUpperCase()} emri tamamlandı!`)):(await G.updateTradingOrderStatus(o,"rejected"),u(h=>h+i.nxtRequired),S.error("Emir reddedildi - NXT iadesi yapıldı"))},Math.random()*5e3+2e3)):S.error("Emir oluşturulamadı")}catch(o){console.error("Error placing order:",o),S.error("Emir yerleştirme sırasında hata oluştu")}},c=d();return x?e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-black",children:[e.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_at_top,_var(--tw-gradient-stops))] from-cyan-900/20 via-transparent to-transparent"}),e.jsx("div",{className:"absolute inset-0 bg-grid-white/[0.02] bg-[size:50px_50px]"}),e.jsx("div",{className:"relative z-10 p-6",children:e.jsxs("div",{className:"mx-auto max-w-7xl space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-gradient-to-br from-cyan-500/30 to-blue-600/30 shadow-lg shadow-cyan-500/30",children:e.jsx(ye,{className:"h-6 w-6 text-cyan-400"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-cyan-400",children:x.name}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(y,{variant:"secondary",className:"bg-cyan-500/10 text-cyan-400 border-cyan-500/20",children:x.type}),e.jsx("span",{className:"text-cyan-400/60 text-sm",children:"•"}),e.jsx("span",{className:"text-cyan-400/60 text-sm",children:x.region})]})]})]}),e.jsx(v,{className:"bg-black/40 border-yellow-500/20 backdrop-blur-xl",children:e.jsx(w,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ge,{className:"h-8 w-8 text-yellow-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-yellow-400/60 uppercase",children:"NXT Balance"}),e.jsxs("p",{className:"text-xl font-bold text-yellow-400",children:[m.toFixed(2)," NXT"]})]})]})})})]}),e.jsx(v,{className:"bg-black/40 border-cyan-500/20 backdrop-blur-xl",children:e.jsx(w,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-cyan-400/80 mb-2 block",children:"Trading Pair"}),e.jsxs(de,{value:a,onValueChange:i=>{s(i),$(i)},children:[e.jsx(xe,{className:"w-[200px] bg-black/40 border-cyan-500/20 text-cyan-400",children:e.jsx(me,{})}),e.jsx(he,{className:"bg-black/90 border-cyan-500/20",children:x.defaults.map(i=>e.jsx(ae,{value:i,className:"text-cyan-400 focus:bg-cyan-500/10",children:i},i))})]})]}),l&&e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-cyan-400/60 uppercase",children:"Price"}),e.jsxs("p",{className:"text-xl font-bold text-cyan-400",children:["$",l.price.toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-cyan-400/60 uppercase",children:"24h Change"}),e.jsxs("p",{className:`text-lg font-semibold flex items-center gap-1 ${l.change24h>=0?"text-green-400":"text-red-400"}`,children:[l.change24h>=0?e.jsx(J,{className:"h-4 w-4"}):e.jsx(ie,{className:"h-4 w-4"}),l.change24h.toFixed(2),"%"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-cyan-400/60 uppercase",children:"24h Volume"}),e.jsx("p",{className:"text-lg font-semibold text-cyan-400",children:l.volume24h})]})]})]})})}),e.jsxs(je,{defaultValue:"trading",className:"space-y-6",children:[e.jsxs(fe,{className:"grid w-full grid-cols-4 bg-black/40 border border-cyan-500/20",children:[e.jsxs(U,{value:"trading",className:"data-[state=active]:bg-cyan-500/20 data-[state=active]:text-cyan-400",children:[e.jsx(Y,{className:"h-4 w-4 mr-2"}),"Trading"]}),e.jsxs(U,{value:"ai-assistant",className:"data-[state=active]:bg-cyan-500/20 data-[state=active]:text-cyan-400",children:[e.jsx(ne,{className:"h-4 w-4 mr-2"}),"AI Assistant"]}),e.jsxs(U,{value:"arbitrage",className:"data-[state=active]:bg-cyan-500/20 data-[state=active]:text-cyan-400",children:[e.jsx(V,{className:"h-4 w-4 mr-2"}),"Arbitrage"]}),e.jsxs(U,{value:"portfolio",className:"data-[state=active]:bg-cyan-500/20 data-[state=active]:text-cyan-400",children:[e.jsx(Ne,{className:"h-4 w-4 mr-2"}),"Portfolio"]})]}),e.jsx(z,{value:"trading",className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs(v,{className:"bg-black/40 border-cyan-500/20 backdrop-blur-xl",children:[e.jsx(P,{children:e.jsxs(_,{className:"text-cyan-400 flex items-center gap-2",children:[e.jsx(Y,{className:"h-5 w-5"}),"Place Order"]})}),e.jsxs(w,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs(D,{variant:M==="buy"?"default":"outline",onClick:()=>C("buy"),className:`${M==="buy"?"bg-green-500/20 text-green-400 border-green-500/40":"bg-black/40 border-green-500/20 text-green-400 hover:bg-green-500/10"}`,children:[e.jsx(J,{className:"h-4 w-4 mr-2"}),"BUY"]}),e.jsxs(D,{variant:M==="sell"?"default":"outline",onClick:()=>C("sell"),className:`${M==="sell"?"bg-red-500/20 text-red-400 border-red-500/40":"bg-black/40 border-red-500/20 text-red-400 hover:bg-red-500/10"}`,children:[e.jsx(ie,{className:"h-4 w-4 mr-2"}),"SELL"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-cyan-400/80 mb-2 block",children:"Order Type"}),e.jsxs(de,{value:k,onValueChange:i=>L(i),children:[e.jsx(xe,{className:"bg-black/40 border-cyan-500/20 text-cyan-400",children:e.jsx(me,{})}),e.jsxs(he,{className:"bg-black/90 border-cyan-500/20",children:[e.jsx(ae,{value:"limit",className:"text-cyan-400 focus:bg-cyan-500/10",children:"Limit Order"}),e.jsx(ae,{value:"market",className:"text-cyan-400 focus:bg-cyan-500/10",children:"Market Order"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-cyan-400/80 mb-2 block",children:"Amount"}),e.jsx(re,{type:"number",placeholder:"0.00",value:F,onChange:i=>E(i.target.value),className:"bg-black/40 border-cyan-500/20 text-cyan-400",step:"0.001"})]}),k==="limit"&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-cyan-400/80 mb-2 block",children:"Price"}),e.jsx(re,{type:"number",placeholder:"0.00",value:I,onChange:i=>T(i.target.value),className:"bg-black/40 border-cyan-500/20 text-cyan-400",step:"0.01"})]}),c&&e.jsxs("div",{className:"bg-cyan-500/10 border border-cyan-500/20 rounded-lg p-4 space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-cyan-400/80",children:"Total:"}),e.jsxs("span",{className:"text-cyan-400 font-semibold",children:["$",c.total.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-cyan-400/80",children:"Commission:"}),e.jsxs("span",{className:"text-cyan-400",children:["$",c.commission.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between text-sm border-t border-cyan-500/20 pt-2",children:[e.jsx("span",{className:"text-yellow-400/80",children:"NXT Required:"}),e.jsxs("span",{className:"text-yellow-400 font-semibold",children:[c.nxtRequired.toFixed(2)," NXT"]})]})]}),c&&m<c.nxtRequired&&e.jsx("div",{className:"bg-red-500/10 border border-red-500/20 rounded-lg p-3",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Z,{className:"h-4 w-4 text-red-400 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"text-xs text-red-400",children:[e.jsx("p",{className:"font-semibold mb-1",children:"Yetersiz NXT Bakiyesi!"}),e.jsxs("p",{children:["Bu işlem için ",c.nxtRequired.toFixed(2)," NXT gerekli, ancak bakiyeniz ",m.toFixed(2)," NXT."]})]})]})}),e.jsx(D,{onClick:t,disabled:!c||m<((c==null?void 0:c.nxtRequired)||0),className:`w-full font-semibold ${M==="buy"?"bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-400 hover:to-emerald-400 text-white":"bg-gradient-to-r from-red-500 to-rose-500 hover:from-red-400 hover:to-rose-400 text-white"}`,children:c&&m>=c.nxtRequired?e.jsxs(e.Fragment,{children:[e.jsx(Q,{className:"h-4 w-4 mr-2"}),"Place ",M.toUpperCase()," Order"]}):e.jsxs(e.Fragment,{children:[e.jsx(be,{className:"h-4 w-4 mr-2"}),"Need More NXT"]})})]})]}),e.jsxs(v,{className:"bg-black/40 border-cyan-500/20 backdrop-blur-xl",children:[e.jsx(P,{children:e.jsxs(_,{className:"text-cyan-400 flex items-center gap-2",children:[e.jsx(ce,{className:"h-5 w-5"}),"Market Stats"]})}),e.jsx(w,{className:"space-y-4",children:l&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-cyan-400/60 uppercase",children:"24h High"}),e.jsxs("p",{className:"text-lg font-semibold text-green-400",children:["$",l.high24h.toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-cyan-400/60 uppercase",children:"24h Low"}),e.jsxs("p",{className:"text-lg font-semibold text-red-400",children:["$",l.low24h.toLocaleString()]})]})]}),e.jsxs("div",{className:"bg-cyan-500/10 border border-cyan-500/20 rounded-lg p-3",children:[e.jsx("p",{className:"text-xs text-cyan-400/60 uppercase mb-2",children:"Exchange Info"}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-cyan-400/80",children:"Volume:"}),e.jsx("span",{className:"text-cyan-400",children:x.volume24h})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-cyan-400/80",children:"Pairs:"}),e.jsx("span",{className:"text-cyan-400",children:x.pairs})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-cyan-400/80",children:"Fees:"}),e.jsx("span",{className:"text-cyan-400",children:x.fees})]})]})]})]})})]}),e.jsxs(v,{className:"bg-black/40 border-yellow-500/20 backdrop-blur-xl",children:[e.jsx(P,{children:e.jsxs(_,{className:"text-yellow-400 flex items-center gap-2",children:[e.jsx(ge,{className:"h-5 w-5"}),"NXT Token System"]})}),e.jsxs(w,{className:"space-y-4",children:[e.jsxs("div",{className:"bg-yellow-500/10 border border-yellow-500/20 rounded-lg p-4",children:[e.jsxs("div",{className:"text-center mb-3",children:[e.jsxs("p",{className:"text-2xl font-bold text-yellow-400",children:[m.toFixed(2)," NXT"]}),e.jsx("p",{className:"text-xs text-yellow-400/60",children:"Mevcut Bakiye"})]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-yellow-400/80",children:"Token Değeri:"}),e.jsx("span",{className:"text-yellow-400",children:"$0.10"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-yellow-400/80",children:"USD Değeri:"}),e.jsxs("span",{className:"text-yellow-400",children:["$",(m*.1).toFixed(2)]})]})]})]}),e.jsxs("div",{className:"bg-cyan-500/10 border border-cyan-500/20 rounded-lg p-3",children:[e.jsx("p",{className:"text-xs text-cyan-400/60 uppercase mb-2",children:"Komisyon Sistemi"}),e.jsxs("div",{className:"space-y-1 text-xs text-cyan-400/80",children:[e.jsx("p",{children:"• Tüm işlemler NXT token ile komisyon öder"}),e.jsx("p",{children:"• Standart komisyon oranı: %0.1"}),e.jsx("p",{children:"• NXT ile %50 komisyon indirimi"}),e.jsx("p",{children:"• Otomatik bakiye düşümü"})]})]}),e.jsxs(D,{onClick:()=>window.location.href="/wallet",className:"w-full bg-gradient-to-r from-yellow-500 to-orange-500 hover:from-yellow-400 hover:to-orange-400 text-black font-semibold",children:[e.jsx(be,{className:"h-4 w-4 mr-2"}),"Buy More NXT"]})]})]})]})}),e.jsx(z,{value:"ai-assistant",children:e.jsx(Ie,{exchange:x==null?void 0:x.name,symbol:a,currentPrice:l})}),e.jsx(z,{value:"arbitrage",children:e.jsx(Ae,{symbols:(x==null?void 0:x.defaults)||[],exchanges:[x==null?void 0:x.name].filter(Boolean)})}),e.jsx(z,{value:"portfolio",children:e.jsx(Ce,{userId:B})})]})]})})]}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-black flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-red-400 mb-4",children:"Geçersiz Exchange"}),e.jsx("p",{className:"text-red-400/60",children:"Belirtilen exchange bulunamadı."})]})})}export{ze as default};
