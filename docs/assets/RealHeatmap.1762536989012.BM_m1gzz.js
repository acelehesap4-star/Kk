import{j as s}from"./vendor-features.1762536989012.CCyG4Z0S.js";import{r as c}from"./vendor-core.1762536989012.Bgda-OdR.js";import{B as g}from"./trading-core.1762536989012.C3PC_Z1i.js";import{R as x,T as h,d as f}from"./trading-orders-wrapper.1762536989012.Kx7G8VTM.js";import"./vendor-ui.1762536989012.Cgu8qX5B.js";const k=()=>{const[a,l]=c.useState([]),[n,d]=c.useState(!0),i=async()=>{try{d(!0);const t=await(await fetch("https://api.coingecko.com/api/v3/coins/markets?vs_currency=usd&order=market_cap_desc&per_page=12&page=1&sparkline=false")).json();l(t)}catch(e){console.error("Failed to fetch crypto data:",e)}finally{d(!1)}};c.useEffect(()=>{i();const e=setInterval(i,6e4);return()=>clearInterval(e)},[]);const m=e=>{if(a.length===0)return 100;const t=Math.max(...a.map(o=>o.market_cap)),r=Math.min(...a.map(o=>o.market_cap));return 80+(e-r)/(t-r)*180},u=e=>e>5?"from-success/90 to-success/70":e>0?"from-success/60 to-success/40":e>-5?"from-destructive/60 to-destructive/40":"from-destructive/90 to-destructive/70",p=e=>{const t=Math.abs(e);return t>7?"font-bold text-lg":t>3?"font-semibold":"font-medium"};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-sm font-semibold text-foreground uppercase tracking-wide",children:"Live Market Heatmap"}),s.jsx(g,{variant:"ghost",size:"sm",onClick:i,disabled:n,className:"h-6 w-6 p-0",children:s.jsx(x,{className:`w-3 h-3 ${n?"animate-spin":""}`})})]}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-2 p-4 bg-muted/20 rounded-xl",children:n&&a.length===0?Array.from({length:12}).map((e,t)=>s.jsx("div",{className:"h-24 bg-muted/30 animate-pulse rounded-lg"},t)):a.map(e=>{const t=m(e.market_cap),r=e.price_change_percentage_24h>=0;return s.jsxs("div",{className:`relative overflow-hidden rounded-lg transition-all hover:scale-105 hover:z-10 cursor-pointer bg-gradient-to-br ${u(e.price_change_percentage_24h)} border border-border/50 shadow-lg`,style:{minHeight:`${t}px`},children:[s.jsxs("div",{className:"absolute inset-0 p-3 flex flex-col justify-between",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"text-sm font-bold text-foreground flex items-center gap-1",children:[r?s.jsx(h,{className:"w-3 h-3"}):s.jsx(f,{className:"w-3 h-3"}),e.symbol.toUpperCase()]}),s.jsxs("div",{className:"text-xs text-foreground/80 mt-1",children:["$",e.current_price.toLocaleString()]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:`${p(e.price_change_percentage_24h)} ${r?"text-success-foreground":"text-destructive-foreground"}`,children:[r?"+":"",e.price_change_percentage_24h.toFixed(2),"%"]}),s.jsxs("div",{className:"text-[10px] text-foreground/60 mt-1",children:["Vol: $",(e.total_volume/1e9).toFixed(2),"B"]})]})]}),s.jsx("div",{className:`absolute inset-0 opacity-0 hover:opacity-20 transition-opacity ${r?"bg-success":"bg-destructive"}`})]},e.id)})})]})};export{k as RealHeatmap};
